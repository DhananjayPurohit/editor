(window.webpackJsonp=window.webpackJsonp||[]).push([[3],[,function(e,t,n){"use strict";var r=n(199);n.d(t,"f",(function(){return r.c})),n.d(t,"h",(function(){return r.b})),n.d(t,"g",(function(){return r.a}));var i=n(317);n.d(t,"w",(function(){return i.b})),n.d(t,"x",(function(){return i.c})),n.d(t,"hb",(function(){return i.f})),n.d(t,"M",(function(){return i.d})),n.d(t,"eb",(function(){return i.e})),n.d(t,"r",(function(){return i.a}));var a=n(437);n.d(t,"K",(function(){return a.f})),n.d(t,"d",(function(){return a.d})),n.d(t,"b",(function(){return a.b})),n.d(t,"e",(function(){return a.e})),n.d(t,"c",(function(){return a.c})),n.d(t,"a",(function(){return a.a}));var u=n(347);n.d(t,"O",(function(){return u.a})),n.d(t,"P",(function(){return u.b})),n.d(t,"Q",(function(){return u.c})),n.d(t,"R",(function(){return u.d})),n.d(t,"ib",(function(){return u.e})),n.d(t,"jb",(function(){return u.f})),n.d(t,"kb",(function(){return u.g})),n.d(t,"lb",(function(){return u.h}));var o=n(890);n.d(t,"T",(function(){return o.a})),n.d(t,"fb",(function(){return o.b}));var s=n(392);n.d(t,"i",(function(){return s.a}));var f=n(1068);n.d(t,"j",(function(){return f.a}));var c=n(1069);n.d(t,"k",(function(){return c.a}));var l=n(1070);n.d(t,"l",(function(){return l.a}));var d=n(1071);n.d(t,"m",(function(){return d.a}));var p=n(514);n.d(t,"n",(function(){return p.a}));var m=n(1072);n.d(t,"o",(function(){return m.a}));var b=n(1073);n.d(t,"p",(function(){return b.a}));var h=n(1074);n.d(t,"q",(function(){return h.a}));var g=n(1075);n.d(t,"s",(function(){return g.a}));var y=n(667);n.d(t,"t",(function(){return y.a}));var v=n(1076);n.d(t,"u",(function(){return v.a}));var O=n(670);n.d(t,"v",(function(){return O.a}));var j=n(1077);n.d(t,"y",(function(){return j.a}));var $=n(1078);n.d(t,"z",(function(){return $.a}));var x=n(492);n.d(t,"A",(function(){return x.a}));var k=n(1079);n.d(t,"B",(function(){return k.a}));var A=n(671);n.d(t,"C",(function(){return A.a}));var w=n(393);n.d(t,"D",(function(){return w.a}));var _=n(672);n.d(t,"E",(function(){return _.a}));var F=n(668);n.d(t,"F",(function(){return F.a}));var D=n(1080);n.d(t,"G",(function(){return D.a}));var S=n(669);n.d(t,"H",(function(){return S.a}));var C=n(1081);n.d(t,"I",(function(){return C.a}));var E=n(1082);n.d(t,"J",(function(){return E.a}));var q=n(1083);n.d(t,"L",(function(){return q.a}));var M=n(1084);n.d(t,"N",(function(){return M.a}));var z=n(301);n.d(t,"S",(function(){return z.a}));var B=n(449);n.d(t,"U",(function(){return B.a}));var P=n(1085);n.d(t,"V",(function(){return P.a}));var T=n(379);n.d(t,"W",(function(){return T.a}));var R=n(351);n.d(t,"X",(function(){return R.a}));var I=n(1086);n.d(t,"Y",(function(){return I.a}));var V=n(1087);n.d(t,"Z",(function(){return V.a}));var L=n(586);n.d(t,"ab",(function(){return L.a}));var N=n(1088);n.d(t,"cb",(function(){return N.a}));var U=n(1089);n.d(t,"bb",(function(){return U.a}));var W=n(1090);n.d(t,"db",(function(){return W.a}));var X=n(1091);n.d(t,"gb",(function(){return X.a}))},,,,,,,,,,,function(e,t,n){"use strict";n(319);var r=n(515);n.d(t,"h",(function(){return r.a}));var i=n(438);n.d(t,"i",(function(){return i.a})),n.d(t,"m",(function(){return i.b}));var a=n(1092);n.d(t,"a",(function(){return a.a}));var u=n(673);n.d(t,"b",(function(){return u.a}));var o=n(587);n.d(t,"e",(function(){return o.a}));var s=n(277);n.d(t,"f",(function(){return s.b}));var f=n(678);n.d(t,"c",(function(){return f.a}));var c=n(243);n.d(t,"d",(function(){return c.a}));var l=n(1099);n.d(t,"g",(function(){return l.a}));var d=n(152);n.d(t,"k",(function(){return d.a})),n.d(t,"l",(function(){return d.b})),n.d(t,"n",(function(){return d.c})),n.d(t,"o",(function(){return d.d})),n.d(t,"p",(function(){return d.e})),n.d(t,"q",(function(){return d.f})),n.d(t,"t",(function(){return d.g}));var p=n(654);n.d(t,"j",(function(){return p.a})),n.d(t,"r",(function(){return p.b})),n.d(t,"s",(function(){return p.c}))},,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"v",(function(){return r})),n.d(t,"k",(function(){return i})),n.d(t,"q",(function(){return a})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return o})),n.d(t,"x",(function(){return s})),n.d(t,"t",(function(){return f})),n.d(t,"m",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return p})),n.d(t,"n",(function(){return m})),n.d(t,"o",(function(){return b})),n.d(t,"p",(function(){return h})),n.d(t,"r",(function(){return g})),n.d(t,"w",(function(){return y})),n.d(t,"g",(function(){return v})),n.d(t,"h",(function(){return O})),n.d(t,"f",(function(){return j})),n.d(t,"u",(function(){return $})),n.d(t,"e",(function(){return x})),n.d(t,"c",(function(){return k})),n.d(t,"l",(function(){return A})),n.d(t,"s",(function(){return w})),n.d(t,"z",(function(){return _})),n.d(t,"y",(function(){return F}));const r="top",i="left",a="right",u="bottom",o="center",s="vertical",f="start",c="middle",l="end",d="index",p="label",m="offset",b="perc",h="perc2",g="size",y="value",v="guide-label",O="guide-title",j="group-title",$="symbol",x="gradient",k="discrete",A=["size","shape","fill","stroke","strokeWidth","strokeDash","opacity"],w={name:1,interactive:1},_={value:0},F={value:1}},,,function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"h",(function(){return a})),n.d(t,"o",(function(){return u})),n.d(t,"p",(function(){return o})),n.d(t,"i",(function(){return s})),n.d(t,"m",(function(){return f})),n.d(t,"f",(function(){return c})),n.d(t,"n",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"q",(function(){return m})),n.d(t,"e",(function(){return b})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return g})),n.d(t,"l",(function(){return y})),n.d(t,"k",(function(){return v})),n.d(t,"j",(function(){return O})),n.d(t,"r",(function(){return j})),n.d(t,"g",(function(){return $}));var r=n(1);function i(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function a(e,t,n,r){return new i(e,t,n,r)}function u(e,t){return a("operator",e,t)}function o(e){var t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function s(e,t){return t?{$field:e,$name:t}:{$field:e}}var f=s("key");function c(e,t){return{$compare:e,$order:t}}function l(e,t){var n={$key:e};return t&&(n.$flat=!0),n}var d="ascending",p="descending";function m(e){return Object(r.F)(e)?(e.order===p?"-":"+")+b(e.op,e.field):""}function b(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}var h="scope",g="view";function y(e){return e&&e.signal}function v(e){return e&&e.expr}function O(e){if(y(e))return!0;if(Object(r.F)(e))for(var t in e)if(O(e[t]))return!0;return!1}function j(e,t){return null!=e?e:t}function $(e){return e&&e.signal||e}},,,function(e,t,n){"use strict";n.d(t,"G",(function(){return r})),n.d(t,"r",(function(){return i})),n.d(t,"x",(function(){return a})),n.d(t,"c",(function(){return u})),n.d(t,"H",(function(){return o})),n.d(t,"I",(function(){return s})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return c})),n.d(t,"D",(function(){return l})),n.d(t,"t",(function(){return d})),n.d(t,"k",(function(){return p})),n.d(t,"J",(function(){return m})),n.d(t,"K",(function(){return b})),n.d(t,"q",(function(){return h})),n.d(t,"b",(function(){return g})),n.d(t,"F",(function(){return y})),n.d(t,"p",(function(){return v})),n.d(t,"C",(function(){return O})),n.d(t,"s",(function(){return j})),n.d(t,"A",(function(){return $})),n.d(t,"z",(function(){return x})),n.d(t,"B",(function(){return k})),n.d(t,"g",(function(){return A})),n.d(t,"f",(function(){return w})),n.d(t,"h",(function(){return _})),n.d(t,"w",(function(){return F})),n.d(t,"E",(function(){return D})),n.d(t,"l",(function(){return S})),n.d(t,"m",(function(){return C})),n.d(t,"n",(function(){return E})),n.d(t,"v",(function(){return q})),n.d(t,"u",(function(){return M})),n.d(t,"a",(function(){return z})),n.d(t,"j",(function(){return B})),n.d(t,"o",(function(){return P})),n.d(t,"i",(function(){return T})),n.d(t,"y",(function(){return R}));const r="top",i="left",a="right",u="bottom",o="top-left",s="top-right",f="bottom-left",c="bottom-right",l="start",d="middle",p="end",m="x",b="y",h="group",g="axis",y="title",v="frame",O="scope",j="legend",$="row-header",x="row-footer",k="row-title",A="column-header",w="column-footer",_="column-title",F="padding",D="symbol",S="fit",C="fit-x",E="fit-y",q="pad",M="none",z="all",B="each",P="flush",T="column",R="row"},,,,,,,,,,function(e,t,n){"use strict";var r=n(704);n.d(t,"q",(function(){return r.a}));var i=n(1175);n.d(t,"H",(function(){return i.a}));var a=n(53);n.d(t,"d",(function(){return a.e})),n.d(t,"e",(function(){return a.f})),n.d(t,"h",(function(){return a.i})),n.d(t,"l",(function(){return a.m})),n.d(t,"m",(function(){return a.n})),n.d(t,"o",(function(){return a.p})),n.d(t,"p",(function(){return a.q})),n.d(t,"k",(function(){return a.l})),n.d(t,"c",(function(){return a.c})),n.d(t,"i",(function(){return a.j})),n.d(t,"j",(function(){return a.k})),n.d(t,"n",(function(){return a.o})),n.d(t,"b",(function(){return a.b})),n.d(t,"f",(function(){return a.g})),n.d(t,"a",(function(){return a.a})),n.d(t,"g",(function(){return a.h})),n.d(t,"A",(function(){return a.x})),n.d(t,"z",(function(){return a.w})),n.d(t,"x",(function(){return a.u})),n.d(t,"u",(function(){return a.r})),n.d(t,"y",(function(){return a.v})),n.d(t,"v",(function(){return a.s})),n.d(t,"w",(function(){return a.t}));var u=n(348);n.d(t,"r",(function(){return u.a})),n.d(t,"s",(function(){return u.b})),n.d(t,"t",(function(){return u.c})),n.d(t,"D",(function(){return u.e})),n.d(t,"B",(function(){return u.d}));var o=n(705);n.d(t,"C",(function(){return o.a}));var s=n(1187);n.d(t,"F",(function(){return s.a}));var f=n(1003);n.d(t,"E",(function(){return f.b}));var c=n(774);n.d(t,"G",(function(){return c.a}))},,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return a})),n.d(t,"i",(function(){return u})),n.d(t,"m",(function(){return o})),n.d(t,"n",(function(){return s})),n.d(t,"p",(function(){return f})),n.d(t,"q",(function(){return c})),n.d(t,"l",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"j",(function(){return p})),n.d(t,"k",(function(){return m})),n.d(t,"o",(function(){return b})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return g})),n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return v})),n.d(t,"x",(function(){return O})),n.d(t,"w",(function(){return j})),n.d(t,"u",(function(){return $})),n.d(t,"v",(function(){return x})),n.d(t,"r",(function(){return k})),n.d(t,"s",(function(){return A})),n.d(t,"t",(function(){return w}));const r="identity",i="linear",a="log",u="pow",o="sqrt",s="symlog",f="time",c="utc",l="sequential",d="diverging",p="quantile",m="quantize",b="threshold",h="ordinal",g="point",y="band",v="bin-ordinal";function O(e){switch(e){case r:case i:case a:case u:case o:case s:case f:case c:case l:case p:case m:case b:case h:case g:case y:case v:return!0}return!1}function j(e){return e===p}function $(e){return function(e){return e&&e.startsWith(l)}(e)||function(e){return e&&e.startsWith(d)}(e)}function x(e){return e===a||e.endsWith("-log")}function k(e){switch(e){case i:case a:case u:case o:case s:case f:case c:case l:return!0}return!1}function A(e){return e===v||e===h||e===y||e===g}function w(e){return e===v||e===p||e===m||e===b}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return m})),n.d(t,"k",(function(){return b})),n.d(t,"l",(function(){return h})),n.d(t,"m",(function(){return g})),n.d(t,"n",(function(){return y})),n.d(t,"o",(function(){return v})),n.d(t,"p",(function(){return O})),n.d(t,"q",(function(){return j})),n.d(t,"r",(function(){return $})),n.d(t,"s",(function(){return x})),n.d(t,"t",(function(){return k})),n.d(t,"u",(function(){return A})),n.d(t,"v",(function(){return w})),n.d(t,"w",(function(){return _})),n.d(t,"x",(function(){return F})),n.d(t,"y",(function(){return D})),n.d(t,"z",(function(){return S})),n.d(t,"B",(function(){return C})),n.d(t,"A",(function(){return E}));var r=n(29);function i(e){return function(t,n,i){return Object(r.h)(e,n,t||void 0,i)}}var a=i("aggregate"),u=i("axisticks"),o=i("bound"),s=i("collect"),f=i("compare"),c=i("datajoin"),l=i("encode"),d=i("expression"),p=(i("extent"),i("facet")),m=i("field"),b=i("key"),h=i("legendentries"),g=i("load"),y=i("mark"),v=i("multiextent"),O=i("multivalues"),j=i("overlap"),$=i("params"),x=i("prefacet"),k=i("projection"),A=i("proxy"),w=i("relay"),_=i("render"),F=i("scale"),D=i("sieve"),S=i("sortitems"),C=i("viewlayout"),E=i("values")},,,,,,,,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return d}));var r=n(1456),i=n(68),a=n(1);function u(e){return Object(a.F)(e)?Object(a.o)({},e):{value:e}}function o(e,t,n,r){return null!=n?(Object(a.F)(n)&&!Object(a.A)(n)?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function s(e,t,n){for(let n in t)o(e,n,t[n]);for(let t in n)o(e,t,n[t],"update")}function f(e,t,n){for(var r in t)n&&Object(a.v)(n,r)||(e[r]=Object(a.o)(e[r]||{},t[r]));return e}function c(e,t,n,u,o,s){var f,c;for(c in(s=s||{}).encoders={$encode:f={}},e=function(e,t,n,r,u){var o,s,f,c={},p={};"legend"!=n&&0!==String(n).indexOf("axis")||(n=null);for(s in f=n===i.g?u.group:n===i.o?Object(a.o)({},u.mark,u[t]):null)d(s,e)||("fill"===s||"stroke"===s)&&(d("fill",e)||d("stroke",e))||l(c,s,f[s]);for(s in Object(a.i)(r).forEach((function(t){var n=u.style&&u.style[t];for(var r in n)d(r,e)||l(c,r,n[r])})),e=Object(a.o)({},e),c)(f=c[s]).signal?(o=o||{})[s]=f:p[s]=f;e.enter=Object(a.o)(p,e.enter),o&&(e.update=Object(a.o)(o,e.update));return e}(e,t,n,u,o.config))f[c]=Object(r.a)(e[c],t,s,o);return s}function l(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}function d(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}},,,,function(e,t,n){"use strict";n.d(t,"o",(function(){return r})),n.d(t,"g",(function(){return i})),n.d(t,"p",(function(){return a})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return f})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"l",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"i",(function(){return m})),n.d(t,"j",(function(){return b})),n.d(t,"k",(function(){return h})),n.d(t,"m",(function(){return g})),n.d(t,"n",(function(){return y})),n.d(t,"q",(function(){return v}));var r="mark",i="frame",a="scope",u="axis",o="axis-domain",s="axis-grid",f="axis-label",c="axis-tick",l="axis-title",d="legend",p="legend-band",m="legend-entry",b="legend-gradient",h="legend-label",g="legend-symbol",y="legend-title",v="title"},,,,,,,,function(e,t,n){"use strict";var r=n(159);n.d(t,"a",(function(){return r.a}));var i=n(278);n.d(t,"d",(function(){return i.a}));var a=n(684);n.d(t,"e",(function(){return a.a}));var u=n(685);n.d(t,"k",(function(){return u.a}));var o=n(589);n.d(t,"g",(function(){return o.a}));var s=n(1148);n.d(t,"o",(function(){return s.a}));var f=n(330);n.d(t,"f",(function(){return f.a}));var c=n(244);n.d(t,"j",(function(){return c.a}));var l=n(700);n.d(t,"b",(function(){return l.a}));var d=n(593);n.d(t,"c",(function(){return d.a}));var p=n(701);n.d(t,"l",(function(){return p.a}));var m=n(702);n.d(t,"m",(function(){return m.a}));var b=n(703);n.d(t,"n",(function(){return b.a}));var h=n(906);n.d(t,"i",(function(){return h.a})),n.d(t,"Q",(function(){return h.b}));var g=n(1167);n.d(t,"C",(function(){return g.a}));var y=n(162);n.d(t,"h",(function(){return y.a}));var v=n(1168);n.d(t,"p",(function(){return v.a}));var O=n(320);n.d(t,"q",(function(){return O.a}));var j=n(237);n.d(t,"t",(function(){return j.a}));var $=n(590);n.d(t,"r",(function(){return $.a}));var x=n(686);n.d(t,"s",(function(){return x.a}));var k=n(591);n.d(t,"I",(function(){return k.a}));var A=n(697);n.d(t,"N",(function(){return A.a}));var w=n(698);n.d(t,"L",(function(){return w.a}));var _=n(699);n.d(t,"O",(function(){return _.a}));var F=n(353);n.d(t,"K",(function(){return F.a}));var D=n(499);n.d(t,"M",(function(){return D.a}));var S=n(500);n.d(t,"P",(function(){return S.a}));var C=n(88);n.d(t,"x",(function(){return C.d})),n.d(t,"y",(function(){return C.e})),n.d(t,"v",(function(){return C.b})),n.d(t,"w",(function(){return C.c}));var E=n(86);n.d(t,"H",(function(){return E.b})),n.d(t,"u",(function(){return E.a}));var q=n(153);n.d(t,"z",(function(){return q.a})),n.d(t,"A",(function(){return q.b})),n.d(t,"B",(function(){return q.c})),n.d(t,"Y",(function(){return q.e}));var M=n(383);n.d(t,"R",(function(){return M.b}));var z=n(907);n.d(t,"S",(function(){return z.b})),n.d(t,"J",(function(){return z.a}));var B=n(495);n.d(t,"V",(function(){return B.b})),n.d(t,"T",(function(){return B.a}));var P=n(141);n.d(t,"E",(function(){return P.b})),n.d(t,"F",(function(){return P.c})),n.d(t,"G",(function(){return P.e})),n.d(t,"D",(function(){return P.a}));var T=n(135);n.d(t,"X",(function(){return T.c})),n.d(t,"W",(function(){return T.b})),n.d(t,"U",(function(){return T.a}))},,,,,,,,,,function(e,t,n){"use strict";function r(e,t,n){var r,i,a="<"+e;if(t)for(r in t)null!=(i=t[r])&&(a+=" "+r+'="'+i+'"');return n&&(a+=" "+n),a+">"}function i(e){return"</"+e+">"}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}))},,function(e,t,n){"use strict";function r(e,t,n){return!e&&"undefined"!=typeof document&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function i(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function a(e,t,n,i){var a,u=e.childNodes[t];return u&&u.tagName.toLowerCase()===n.toLowerCase()||(a=u||null,u=r(e.ownerDocument,n,i),e.insertBefore(u,a)),u}function u(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function o(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return o}))},,,,,,,,function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return c}));var r=n(26),i=n(29),a=n(1);function u(e,t){const n=n=>Object(i.r)(e[n],t[n]);return n.isVertical=n=>r.x===Object(i.r)(e.direction,t.direction||(n?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>Object(i.r)(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>Object(i.r)(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>Object(i.r)(e.columns,Object(i.r)(t.columns,+n.isVertical(!0))),n}function o(e,t){var n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function s(e,t,n){var r=t.config.style[n];return r&&r[e]}function f(e,t,n){return`item.anchor === "${r.t}" ? ${e} : item.anchor === "${r.d}" ? ${t} : ${n}`}const c=f(Object(a.X)(r.k),Object(a.X)(r.q),Object(a.X)(r.b))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return u}));var r=Math.PI/180,i=Math.PI/2,a=2*Math.PI,u=Math.sqrt(3)/2},,,,,,,,function(e,t,n){"use strict";var r=n(1100);n.d(t,"a",(function(){return r.a}));var i=n(1101);n.d(t,"b",(function(){return i.a}));var a=n(679);n.d(t,"c",(function(){return a.a}));var u=n(203);n.d(t,"d",(function(){return u.a})),n.d(t,"s",(function(){return u.b}));var o=n(1102);n.d(t,"g",(function(){return o.a}));var s=n(1103);n.d(t,"e",(function(){return s.a}));var f=n(1104);n.d(t,"f",(function(){return f.a}));var c=n(1105);n.d(t,"h",(function(){return c.a}));var l=n(680);n.d(t,"i",(function(){return l.a}));var d=n(1106);n.d(t,"j",(function(){return d.a}));var p=n(681);n.d(t,"l",(function(){return p.a}));var m=n(1107);n.d(t,"n",(function(){return m.a}));var b=n(1108);n.d(t,"k",(function(){return b.a}));var h=n(1109);n.d(t,"p",(function(){return h.a}));var g=n(682);n.d(t,"q",(function(){return g.a}));var y=n(1110);n.d(t,"o",(function(){return y.a}));var v=n(1111);n.d(t,"m",(function(){return v.a}));var O=n(1112);n.d(t,"r",(function(){return O.a}))},,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return o}));var r="group",i="rect",a="rule",u="symbol",o="text"},,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(12),a=n(1359),u=n(1362),o=n(1382),s=n(1392),f=n(1403),c=n(1413),l=n(1425),d=n(1426),p=n(1428),m=n(1430),b=n(1275);n.d(t,"version",(function(){return b.a}));var h=n(105);n.d(t,"bin",(function(){return h.a})),n.d(t,"bootstrapCI",(function(){return h.b})),n.d(t,"quartiles",(function(){return h.c})),n.d(t,"random",(function(){return h.d})),n.d(t,"setRandom",(function(){return h.s})),n.d(t,"randomLCG",(function(){return h.g})),n.d(t,"randomInteger",(function(){return h.e})),n.d(t,"randomKDE",(function(){return h.f})),n.d(t,"randomMixture",(function(){return h.h})),n.d(t,"randomNormal",(function(){return h.i})),n.d(t,"randomUniform",(function(){return h.j})),n.d(t,"regressionLinear",(function(){return h.l})),n.d(t,"regressionLog",(function(){return h.n})),n.d(t,"regressionExp",(function(){return h.k})),n.d(t,"regressionPow",(function(){return h.p})),n.d(t,"regressionQuad",(function(){return h.q})),n.d(t,"regressionPoly",(function(){return h.o})),n.d(t,"regressionLoess",(function(){return h.m})),n.d(t,"sampleCurve",(function(){return h.r})),n.d(t,"accessor",(function(){return r.f})),n.d(t,"accessorName",(function(){return r.h})),n.d(t,"accessorFields",(function(){return r.g})),n.d(t,"id",(function(){return r.w})),n.d(t,"identity",(function(){return r.x})),n.d(t,"zero",(function(){return r.hb})),n.d(t,"one",(function(){return r.M})),n.d(t,"truthy",(function(){return r.eb})),n.d(t,"falsy",(function(){return r.r})),n.d(t,"logger",(function(){return r.K})),n.d(t,"None",(function(){return r.d})),n.d(t,"Error",(function(){return r.b})),n.d(t,"Warn",(function(){return r.e})),n.d(t,"Info",(function(){return r.c})),n.d(t,"Debug",(function(){return r.a})),n.d(t,"panLinear",(function(){return r.O})),n.d(t,"panLog",(function(){return r.P})),n.d(t,"panPow",(function(){return r.Q})),n.d(t,"panSymlog",(function(){return r.R})),n.d(t,"zoomLinear",(function(){return r.ib})),n.d(t,"zoomLog",(function(){return r.jb})),n.d(t,"zoomPow",(function(){return r.kb})),n.d(t,"zoomSymlog",(function(){return r.lb})),n.d(t,"quarter",(function(){return r.T})),n.d(t,"utcquarter",(function(){return r.fb})),n.d(t,"array",(function(){return r.i})),n.d(t,"clampRange",(function(){return r.j})),n.d(t,"compare",(function(){return r.k})),n.d(t,"constant",(function(){return r.l})),n.d(t,"debounce",(function(){return r.m})),n.d(t,"error",(function(){return r.n})),n.d(t,"extend",(function(){return r.o})),n.d(t,"extent",(function(){return r.p})),n.d(t,"extentIndex",(function(){return r.q})),n.d(t,"fastmap",(function(){return r.s})),n.d(t,"field",(function(){return r.t})),n.d(t,"flush",(function(){return r.u})),n.d(t,"hasOwnProperty",(function(){return r.v})),n.d(t,"inherits",(function(){return r.y})),n.d(t,"inrange",(function(){return r.z})),n.d(t,"isArray",(function(){return r.A})),n.d(t,"isBoolean",(function(){return r.B})),n.d(t,"isDate",(function(){return r.C})),n.d(t,"isFunction",(function(){return r.D})),n.d(t,"isNumber",(function(){return r.E})),n.d(t,"isObject",(function(){return r.F})),n.d(t,"isRegExp",(function(){return r.G})),n.d(t,"isString",(function(){return r.H})),n.d(t,"key",(function(){return r.I})),n.d(t,"lerp",(function(){return r.J})),n.d(t,"merge",(function(){return r.L})),n.d(t,"pad",(function(){return r.N})),n.d(t,"peek",(function(){return r.S})),n.d(t,"repeat",(function(){return r.U})),n.d(t,"span",(function(){return r.V})),n.d(t,"splitAccessPath",(function(){return r.W})),n.d(t,"stringValue",(function(){return r.X})),n.d(t,"toBoolean",(function(){return r.Y})),n.d(t,"toDate",(function(){return r.Z})),n.d(t,"toNumber",(function(){return r.ab})),n.d(t,"toString",(function(){return r.cb})),n.d(t,"toSet",(function(){return r.bb})),n.d(t,"truncate",(function(){return r.db})),n.d(t,"visitArray",(function(){return r.gb}));var g=n(302);n.d(t,"loader",(function(){return g.e})),n.d(t,"read",(function(){return g.f})),n.d(t,"inferType",(function(){return g.c})),n.d(t,"inferTypes",(function(){return g.d})),n.d(t,"typeParsers",(function(){return g.h})),n.d(t,"format",(function(){return g.a})),n.d(t,"formats",(function(){return g.b})),n.d(t,"responseType",(function(){return g.g}));var y=n(76);n.d(t,"Bounds",(function(){return y.a})),n.d(t,"Gradient",(function(){return y.d})),n.d(t,"GroupItem",(function(){return y.e})),n.d(t,"ResourceLoader",(function(){return y.k})),n.d(t,"Item",(function(){return y.g})),n.d(t,"Scenegraph",(function(){return y.o})),n.d(t,"Handler",(function(){return y.f})),n.d(t,"Renderer",(function(){return y.j})),n.d(t,"CanvasHandler",(function(){return y.b})),n.d(t,"CanvasRenderer",(function(){return y.c})),n.d(t,"SVGHandler",(function(){return y.l})),n.d(t,"SVGRenderer",(function(){return y.m})),n.d(t,"SVGStringRenderer",(function(){return y.n})),n.d(t,"RenderType",(function(){return y.i})),n.d(t,"renderModule",(function(){return y.Q})),n.d(t,"intersect",(function(){return y.C})),n.d(t,"Marks",(function(){return y.h})),n.d(t,"boundClip",(function(){return y.p})),n.d(t,"boundContext",(function(){return y.q})),n.d(t,"boundStroke",(function(){return y.t})),n.d(t,"boundItem",(function(){return y.r})),n.d(t,"boundMark",(function(){return y.s})),n.d(t,"pathCurves",(function(){return y.I})),n.d(t,"pathSymbols",(function(){return y.N})),n.d(t,"pathRectangle",(function(){return y.L})),n.d(t,"pathTrail",(function(){return y.O})),n.d(t,"pathParse",(function(){return y.K})),n.d(t,"pathRender",(function(){return y.M})),n.d(t,"point",(function(){return y.P})),n.d(t,"domCreate",(function(){return y.x})),n.d(t,"domFind",(function(){return y.y})),n.d(t,"domChild",(function(){return y.v})),n.d(t,"domClear",(function(){return y.w})),n.d(t,"openTag",(function(){return y.H})),n.d(t,"closeTag",(function(){return y.u})),n.d(t,"font",(function(){return y.z})),n.d(t,"fontFamily",(function(){return y.A})),n.d(t,"fontSize",(function(){return y.B})),n.d(t,"textMetrics",(function(){return y.Y})),n.d(t,"resetSVGClipId",(function(){return y.R})),n.d(t,"sceneEqual",(function(){return y.S})),n.d(t,"pathEqual",(function(){return y.J})),n.d(t,"sceneToJSON",(function(){return y.V})),n.d(t,"sceneFromJSON",(function(){return y.T})),n.d(t,"intersectPath",(function(){return y.E})),n.d(t,"intersectPoint",(function(){return y.F})),n.d(t,"intersectRule",(function(){return y.G})),n.d(t,"intersectBoxLine",(function(){return y.D})),n.d(t,"sceneZOrder",(function(){return y.X})),n.d(t,"sceneVisit",(function(){return y.W})),n.d(t,"scenePickVisit",(function(){return y.U})),n.d(t,"Dataflow",(function(){return i.a})),n.d(t,"EventStream",(function(){return i.b})),n.d(t,"Parameters",(function(){return i.e})),n.d(t,"Pulse",(function(){return i.f})),n.d(t,"MultiPulse",(function(){return i.c})),n.d(t,"Operator",(function(){return i.d})),n.d(t,"Transform",(function(){return i.g})),n.d(t,"changeset",(function(){return i.i})),n.d(t,"ingest",(function(){return i.l})),n.d(t,"isTuple",(function(){return i.n})),n.d(t,"definition",(function(){return i.j})),n.d(t,"transform",(function(){return i.r})),n.d(t,"transforms",(function(){return i.s})),n.d(t,"tupleid",(function(){return i.t}));var v=n(42);n.d(t,"scale",(function(){return v.C})),n.d(t,"scheme",(function(){return v.F})),n.d(t,"interpolate",(function(){return v.r})),n.d(t,"interpolateColors",(function(){return v.s})),n.d(t,"interpolateRange",(function(){return v.t})),n.d(t,"timeInterval",(function(){return v.H})),n.d(t,"quantizeInterpolator",(function(){return v.B}));var O=n(326);n.d(t,"projection",(function(){return O.b}));var j=n(1276);n.d(t,"View",(function(){return j.a}));var $=n(239);n.d(t,"expressionFunction",(function(){return $.e})),n.d(t,"formatLocale",(function(){return $.f})),n.d(t,"timeFormatLocale",(function(){return $.h}));var x=n(1284);n.d(t,"parse",(function(){return x.a}));var k=n(507);n.d(t,"runtime",(function(){return k.b})),n.d(t,"runtimeContext",(function(){return k.a})),Object(r.o)(i.s,a,u,o,s,f,c,l,d,p,m)},,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return b}));var r="RawCode",i="Literal",a="Property",u="Identifier",o="ArrayExpression",s="BinaryExpression",f="CallExpression",c="ConditionalExpression",l="LogicalExpression",d="MemberExpression",p="ObjectExpression",m="UnaryExpression";function b(e){this.type=e}b.prototype.visit=function(e){var t,n,b;if(e(this))return 1;for(n=0,b=(t=function(e){switch(e.type){case o:return e.elements;case s:case l:return[e.left,e.right];case f:var t=e.arguments.slice();return t.unshift(e.callee),t;case c:return[e.test,e.consequent,e.alternate];case d:return[e.object,e.property];case p:return e.properties;case a:return[e.key,e.value];case m:return[e.argument];case u:case i:case r:default:return[]}}(this)).length;n<b;++n)if(t[n].visit(e))return 1}},function(e,t,n){"use strict";function r(e,t){return e.zindex-t.zindex||e.index-t.index}function i(e){if(!e.zdirty)return e.zitems;var t,n,i,a=e.items,u=[];for(n=0,i=a.length;n<i;++n)(t=a[n]).index=n,t.zindex&&u.push(t);return e.zdirty=!1,e.zitems=u.sort(r)}function a(e,t){var n,r,a=e.items;if(a&&a.length){var u=i(e);if(u&&u.length){for(n=0,r=a.length;n<r;++n)a[n].zindex||t(a[n]);a=u}for(n=0,r=a.length;n<r;++n)t(a[n])}}function u(e,t){var n,r,a=e.items;if(!a||!a.length)return null;var u=i(e);for(u&&u.length&&(a=u),r=a.length;--r>=0;)if(n=t(a[r]))return n;if(a===u)for(r=(a=e.items).length;--r>=0;)if(!a[r].zindex&&(n=t(a[r])))return n;return null}n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return u}))},,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return f}));var r=n(367);const i=new(n(159).a);function a(e){return function(t,n){if(!r.a)return!0;e(r.a,t),i.clear().union(t.bounds).intersect(n).round();const{x1:a,y1:u,x2:o,y2:s}=i;for(let e=u;e<=s;++e)for(let t=a;t<=o;++t)if(r.a.isPointInPath(t,e))return!0;return!1}}function u(e,t){return t.contains(e.x||0,e.y||0)}function o(e,t){const n=e.x||0,r=e.y||0,a=e.width||0,u=e.height||0;return t.intersects(i.set(n,r,n+a,r+u))}function s(e,t){const n=e.x||0,r=e.y||0;return f(t,n,r,null!=e.x2?e.x2:n,null!=e.y2?e.y2:r)}function f(e,t,n,r,i){const{x1:a,y1:u,x2:o,y2:s}=e,f=r-t,c=i-n;let l,d,p,m,b=0,h=1;for(m=0;m<4;++m){if(0===m&&(l=-f,d=-(a-t)),1===m&&(l=f,d=o-t),2===m&&(l=-c,d=-(u-n)),3===m&&(l=c,d=s-n),Math.abs(l)<1e-10&&d<0)return!1;if(p=d/l,l<0){if(p>h)return!1;p>b&&(b=p)}else if(l>0){if(p<b)return!1;p<h&&(h=p)}}return!0}},,,,,function(e,t,n){"use strict";var r=n(26),i=n(64);t.a=function(e,t,n,a,u,o,s){return{type:e,name:s?s.name:void 0,role:t,style:s&&s.style||n,key:a,from:u,interactive:!(!s||!s.interactive),encode:Object(i.e)(o,s,r.s)}}},,,,,function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"g",(function(){return u})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"f",(function(){return d}));var r=n(42),i=n(1);function a(e,t){let n;return Object(i.D)(e)?e:Object(i.H)(e)?(n=t.scales[e])&&n.value:void 0}function u(e,t){const n=a(e,(t||this).context);return n&&n.range?n.range():[]}function o(e,t){const n=a(e,(t||this).context);return n?n.domain():[]}function s(e,t){const n=a(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function f(e,t,n){return Object(r.q)(e||0,t||0,n||0)}function c(e,t){const n=a(e,(t||this).context);return n?n.copy():void 0}function l(e,t,n){const r=a(e,(n||this).context);return r&&void 0!==t?r(t):void 0}function d(e,t,n){const r=a(e,(n||this).context);return r?Object(i.A)(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}},function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"g",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return d}));var r=Symbol("vega_id"),i=1;function a(e){return!(!e||!u(e))}function u(e){return e[r]}function o(e,t){return e[r]=t,e}function s(e){var t=e===Object(e)?e:{data:e};return u(t)?t:o(t,i++)}function f(e){return c(e,s({}))}function c(e,t){for(var n in e)t[n]=e[n];return t}function l(e,t){return o(t,u(e))}function d(e,t){return e?t?(n,r)=>e(n,r)||u(t(n))-u(t(r)):(t,n)=>e(t,n)||u(t)-u(n):null}},function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return b}));var r,i=n(367),a={height:c,measureWidth:s,estimateWidth:u,width:u,canvas:l};function u(e){return r=c(e),o(d(e))}function o(e){return~~(.8*e.length*r)}function s(e){return c(e)<=0?0:(i.a.font=m(e),f(d(e)))}function f(e){return i.a.measureText(e).width}function c(e){return null!=e.fontSize?e.fontSize:11}function l(e){a.width=e&&i.a?s:u}function d(e){var t=e.text;return null==t?"":e.limit>0?function(e){var t,n=+e.limit,u=e.text+"";a.width===s?(i.a.font=m(e),t=f):(r=c(e),t=o);if(t(u)<n)return u;var l,d=e.ellipsis||"…",p="rtl"===e.dir,b=0,h=u.length;if(n-=t(d),p){for(;b<h;)l=b+h>>>1,t(u.slice(l))>n?b=l+1:h=l;return d+u.slice(b)}for(;b<h;)l=1+(b+h>>>1),t(u.slice(0,l))<n?b=l:h=l-1;return u.slice(0,b)+d}(e):t+""}function p(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function m(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+c(e)+"px "+p(e,t)}function b(e){var t=e.baseline,n=c(e);return Math.round("top"===t?.79*n:"middle"===t?.3*n:"bottom"===t?-.21*n:0)}l(!0)},,,,,,function(e,t,n){"use strict";function r(e){this.clear(),e&&this.union(e)}n.d(t,"a",(function(){return r}));var i=r.prototype;i.clone=function(){return new r(this)},i.clear=function(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},i.empty=function(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},i.equals=function(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},i.set=function(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},i.add=function(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},i.expand=function(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},i.round=function(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},i.translate=function(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},i.rotate=function(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},i.rotatedPoints=function(e,t,n){var{x1:r,y1:i,x2:a,y2:u}=this,o=Math.cos(e),s=Math.sin(e),f=t-t*o+n*s,c=n-t*s-n*o;return[o*r-s*i+f,s*r+o*i+c,o*r-s*u+f,s*r+o*u+c,o*a-s*i+f,s*a+o*i+c,o*a-s*u+f,s*a+o*u+c]},i.union=function(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},i.intersect=function(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},i.encloses=function(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},i.alignsWith=function(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},i.intersects=function(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},i.contains=function(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},i.width=function(){return this.x2-this.x1},i.height=function(){return this.y2-this.y1}},,function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"h",(function(){return f})),n.d(t,"g",(function(){return c})),n.d(t,"i",(function(){return l})),n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return g}));var r=n(173),i=n(208);const a={};function u(e,t,n){let r=e+":"+n,i=a[r];return i&&i[0]===t||(a[r]=i=[t,t(n)]),i[1]}function o(e,t){return u("format",r.a,t)(e)}function s(e,t){return u("timeFormat",i.a,t)(e)}function f(e,t){return u("utcFormat",i.d,t)(e)}function c(e,t){return u("timeParse",i.c,t)(e)}function l(e,t){return u("utcParse",i.e,t)(e)}var d=new Date(2e3,0,1);function p(e,t,n){return Number.isInteger(e)&&Number.isInteger(t)?(d.setMonth(e),d.setDate(t),s(d,n)):""}function m(e){return p(e,1,"%B")}function b(e){return p(e,1,"%b")}function h(e){return p(0,2+e,"%A")}function g(e){return p(0,2+e,"%a")}},function(e,t,n){"use strict";var r=n(1363),i=n(1367),a=n(1368),u=n(1369),o=n(1370),s=n(1371),f=n(1372),c=n(1373),l=n(1374),d=n(1375),p=n(1376),m=n(1377);t.a={arc:r.a,area:i.a,group:a.a,image:u.a,line:o.a,path:s.a,rect:f.a,rule:c.a,shape:l.a,symbol:d.a,text:p.a,trail:m.a}},,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s}));var r=n(300),i=n(201),a=n(1);function u(e,t,n,u){t[0].type!==i.c&&Object(a.n)("First argument to data functions must be a string literal.");const o=t[0].value,s=r.a+o;if(!Object(a.v)(s,u))try{u[s]=n.getData(o).tuplesRef()}catch(e){}}function o(e,t,n,u){t[0].type!==i.c&&Object(a.n)("First argument to indata must be a string literal."),t[1].type!==i.c&&Object(a.n)("Second argument to indata must be a string literal.");const o=t[0].value,s=t[1].value,f=r.b+s;Object(a.v)(f,u)||(u[f]=n.getData(o).indataRef(n,s))}function s(e,t,n,r){if(t[0].type===i.c)f(n,r,t[0].value);else if(t[0].type===i.b)for(e in n.scales)f(n,r,e)}function f(e,t,n){const i=r.c+n;if(!Object(a.v)(t,i))try{t[i]=e.scaleRef(n)}catch(e){}}},,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return $})),n.d(t,"e",(function(){return x})),n.d(t,"f",(function(){return k})),n.d(t,"g",(function(){return A}));var r=n(591),i=n(697),a=n(698),u=n(699),o=n(140);function s(e){return e.x||0}function f(e){return e.y||0}function c(e){return e.cornerRadius||0}function l(e){return!(!1===e.defined)}var d=Object(o.a)().startAngle((function(e){return e.startAngle||0})).endAngle((function(e){return e.endAngle||0})).padAngle((function(e){return e.padAngle||0})).innerRadius((function(e){return e.innerRadius||0})).outerRadius((function(e){return e.outerRadius||0})).cornerRadius(c),p=Object(o.b)().x(s).y1(f).y0((function(e){return(e.y||0)+(e.height||0)})).defined(l),m=Object(o.b)().y(f).x1(s).x0((function(e){return(e.x||0)+(e.width||0)})).defined(l),b=Object(o.u)().x(s).y(f).defined(l),h=Object(a.a)().x(s).y(f).width((function(e){return e.width||0})).height((function(e){return e.height||0})).cornerRadius(c),g=Object(o.v)().type((function(e){return Object(i.a)(e.shape||"circle")})).size((function(e){return null==e.size?64:e.size})),y=Object(u.a)().x(s).y(f).defined(l).size((function(e){return e.size||1}));function v(e,t){return d.context(e)(t)}function O(e,t){var n=t[0],i=n.interpolate||"linear";return("horizontal"===n.orient?m:p).curve(Object(r.a)(i,n.orient,n.tension)).context(e)(t)}function j(e,t){var n=t[0],i=n.interpolate||"linear";return b.curve(Object(r.a)(i,n.orient,n.tension)).context(e)(t)}function $(e,t,n,r){return h.context(e)(t,n,r)}function x(e,t){return(t.mark.shape||t.shape).context(e)(t)}function k(e,t){return g.context(e)(t)}function A(e,t){return y.context(e)(t)}},,function(e,t,n){"use strict";var r=n(201),i=n(239),a=n(1);t.a=function(e,t,n){var u,o,s={};try{e=Object(a.H)(e)?e:Object(a.X)(e)+"",u=Object(r.g)(e)}catch(t){Object(a.n)("Expression parse error: "+e)}return u.visit((function(e){if(e.type===r.a){var n=e.callee.name,a=i.d.visitors[n];a&&a(n,e.arguments,t,s)}})),(o=Object(i.c)(u)).globals.forEach((function(e){var n=i.b+e;!Object(a.v)(s,n)&&t.getSignal(e)&&(s[n]=t.signalRef(e))})),{$expr:n?n+"return("+o.code+");":o.code,$fields:o.fields,$params:s}}},,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return null==e?null:e.fname}function i(e){return null==e?null:e.fields}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),t.c=function(e,t,n){return e.fields=t||[],e.fname=n,e}},,function(e,t,n){"use strict";var r=n(134);n.d(t,"c",(function(){return r.c})),n.d(t,"b",(function(){return r.b})),n.d(t,"a",(function(){return r.a}));var i=n(1278);n.d(t,"g",(function(){return i.a}));var a=n(1279);n.d(t,"d",(function(){return a.a}));var u=n(739);n.d(t,"f",(function(){return u.a}));var o=n(738);n.d(t,"e",(function(){return o.a}))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=Math.random;function i(e){r=e}},,,function(e,t,n){"use strict";function r(e,t,n,r){e=e.filter(e=>{let r=t(e),i=n(e);return null!=r&&(r=+r)>=r&&null!=i&&(i=+i)>=i}),r&&e.sort((e,n)=>t(e)-t(n));const i=new Float64Array(e.length),a=new Float64Array(e.length);let u=0;for(let r of e)i[u]=t(r),a[u]=n(r),++u;return[i,a]}function i(e,t,n,r){let i,a,u=-1,o=-1;for(let s of e)i=t(s,++u,e),a=n(s,u,e),null!=i&&(i=+i)>=i&&null!=a&&(a=+a)>=a&&r(i,a,++o)}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return o}));var r=n(135),i=n(1);function a(e){return e=e||i.eb,function(t,n,i,a,u,o){return i*=t.pixelRatio,a*=t.pixelRatio,Object(r.a)(n,(function(n){var r=n.bounds;if((!r||r.contains(u,o))&&r)return e(t,n,i,a,u,o)?n:void 0}))}}function u(e,t){return function(n,r,i,a){var u,o,s=Array.isArray(r)?r[0]:r,f=null==t?s.fill:t,c=s.stroke&&n.isPointInStroke;return c&&(u=s.strokeWidth,o=s.strokeCap,n.lineWidth=null!=u?u:1,n.lineCap=null!=o?o:"butt"),!e(n,r)&&(f&&n.isPointInPath(i,a)||c&&n.isPointInStroke(i,a))}}function o(e){return a(u(e))}},,,,,,,,,function(e,t,n){"use strict";function r(e,t){return"translate("+e+","+t+")"}function i(e){return"rotate("+e+")"}function a(e){return r(e.x||0,e.y||0)}function u(e){return r(e.x||0,e.y||0)+(e.angle?" "+i(e.angle):"")}n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return u}))},,,,function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return c}));var r=n(1);function i(e,t,n){return n||e+(t?"_"+t:"")}var a={values:s({name:"values",init:"cell.store = true;",set:"cell.data.values()",idx:-1}),count:s({name:"count",set:"cell.num"}),__count__:s({name:"count",set:"this.missing + this.valid"}),missing:s({name:"missing",set:"this.missing"}),valid:s({name:"valid",set:"this.valid"}),sum:s({name:"sum",init:"this.sum = 0;",add:"this.sum += +v;",rem:"this.sum -= v;",set:"this.sum"}),mean:s({name:"mean",init:"this.mean = 0;",add:"var d = v - this.mean; this.mean += d / this.valid;",rem:"var d = v - this.mean; this.mean -= this.valid ? d / this.valid : this.mean;",set:"this.valid ? this.mean : undefined"}),average:s({name:"average",set:"this.valid ? this.mean : undefined",req:["mean"],idx:1}),variance:s({name:"variance",init:"this.dev = 0;",add:"this.dev += d * (v - this.mean);",rem:"this.dev -= d * (v - this.mean);",set:"this.valid > 1 ? this.dev / (this.valid-1) : undefined",req:["mean"],idx:1}),variancep:s({name:"variancep",set:"this.valid > 1 ? this.dev / this.valid : undefined",req:["variance"],idx:2}),stdev:s({name:"stdev",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid-1)) : undefined",req:["variance"],idx:2}),stdevp:s({name:"stdevp",set:"this.valid > 1 ? Math.sqrt(this.dev / this.valid) : undefined",req:["variance"],idx:2}),stderr:s({name:"stderr",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid * (this.valid-1))) : undefined",req:["variance"],idx:2}),distinct:s({name:"distinct",set:"cell.data.distinct(this.get)",req:["values"],idx:3}),ci0:s({name:"ci0",set:"cell.data.ci0(this.get)",req:["values"],idx:3}),ci1:s({name:"ci1",set:"cell.data.ci1(this.get)",req:["values"],idx:3}),median:s({name:"median",set:"cell.data.q2(this.get)",req:["values"],idx:3}),q1:s({name:"q1",set:"cell.data.q1(this.get)",req:["values"],idx:3}),q3:s({name:"q3",set:"cell.data.q3(this.get)",req:["values"],idx:3}),argmin:s({name:"argmin",init:"this.argmin = undefined;",add:"if (v < this.min) this.argmin = t;",rem:"if (v <= this.min) this.argmin = undefined;",set:"this.argmin || cell.data.argmin(this.get)",req:["min"],str:["values"],idx:3}),argmax:s({name:"argmax",init:"this.argmax = undefined;",add:"if (v > this.max) this.argmax = t;",rem:"if (v >= this.max) this.argmax = undefined;",set:"this.argmax || cell.data.argmax(this.get)",req:["max"],str:["values"],idx:3}),min:s({name:"min",init:"this.min = undefined;",add:"if (v < this.min || this.min === undefined) this.min = v;",rem:"if (v <= this.min) this.min = NaN;",set:"this.min = (isNaN(this.min) ? cell.data.min(this.get) : this.min)",str:["values"],idx:4}),max:s({name:"max",init:"this.max = undefined;",add:"if (v > this.max || this.max === undefined) this.max = v;",rem:"if (v >= this.max) this.max = NaN;",set:"this.max = (isNaN(this.max) ? cell.data.max(this.get) : this.max)",str:["values"],idx:4})},u=Object.keys(a);function o(e,t){return a[e](t)}function s(e){return function(t){var n=Object(r.o)({init:"",add:"",rem:"",idx:0},e);return n.out=t||e.name,n}}function f(e,t){return e.idx-t.idx}function c(e,t){var n=t||r.x,i=function(e,t){var n,r=e.reduce((function e(n,r){function i(t){n[t]||e(n,n[t]=a[t]())}return r.req&&r.req.forEach(i),t&&r.str&&r.str.forEach(i),n}),e.reduce((function(e,t){return e[t.name]=t,e}),{})),i=[];for(n in r)i.push(r[n]);return i.sort(f)}(e,!0),u="var cell = this.cell; this.valid = 0; this.missing = 0;",o="this.cell = cell; this.init();",s="if(v==null){++this.missing; return;} if(v!==v) return; ++this.valid;",c="if(v==null){--this.missing; return;} if(v!==v) return; --this.valid;",l="var cell = this.cell;";return i.forEach((function(e){u+=e.init,s+=e.add,c+=e.rem})),e.slice().sort(f).forEach((function(e){l+="t["+Object(r.X)(e.out)+"]="+e.set+";"})),l+="return t;",(o=Function("cell",o)).prototype.init=Function(u),o.prototype.add=Function("v","t",s),o.prototype.rem=Function("v","t",c),o.prototype.set=Function("t",l),o.prototype.get=n,o.fields=e.map((function(e){return e.out})),o}},,,,,,,,,,,,,,,,,function(e,t,n){"use strict";t.a=function(e,t){return t.stroke&&0!==t.opacity&&0!==t.strokeOpacity&&e.expand(null!=t.strokeWidth?+t.strokeWidth:1),e}},,function(e,t,n){"use strict";var r=n(576);n.d(t,"d",(function(){return r.b})),n.d(t,"c",(function(){return r.a})),n.d(t,"e",(function(){return r.c})),n.d(t,"g",(function(){return r.d}));n(322),n(740),n(161),n(388),n(741),n(389),n(742),n(743),n(504);var i=n(300);n.d(t,"a",(function(){return i.c})),n.d(t,"b",(function(){return i.d}));n(151),n(744),n(505),n(506),n(390),n(169);var a=n(173);n.d(t,"f",(function(){return a.b}));var u=n(208);n.d(t,"h",(function(){return u.b}))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return c}));var r=n(42),i=n(1),a=n(208),u=n(173);function o(e,t,n){var a;return Object(i.E)(t)&&null!=n&&(t=Math.min(t,~~(Object(i.V)(e.domain())/n)||1)),Object(i.F)(t)&&(a=t.step,t=t.interval),Object(i.H)(t)&&(t=Object(r.H)(t,e.type)||Object(i.n)("Only time and utc scales accept interval strings."),a&&(t=t.every(a))),t}function s(e,t,n){var r=e.range(),a=Math.floor(r[0]),u=Math.ceil(Object(i.S)(r));if(a>u&&(r=u,u=a,a=r),t=t.filter((function(t){return t=e(t),a<=t&&t<=u})),n>0&&t.length>1){for(var o=[t[0],Object(i.S)(t)];t.length>n&&t.length>=3;)t=t.filter((function(e,t){return!(t%2)}));t.length<3&&(t=o)}return t}function f(e,t){return e.bins?s(e,e.bins):e.ticks?e.ticks(t):e.domain()}function c(e,t,n,i){var o,s,f=e.tickFormat?e.tickFormat(t,n):n&&i===r.o?Object(a.a)(n):n?Object(u.a)(n):String;if(Object(r.y)(e.type)){var c=function(e){var t=Object(u.d)(e||",");if(null==t.precision){switch(t.precision=12,t.type){case"%":t.precision-=2;break;case"e":t.precision-=1}return n=Object(u.a)(t),r=Object(u.a)(".1f")(1)[1],function(e){var t,i,a=n(e),u=a.indexOf(r);if(u<0)return a;for(i=(t=function(e,t){var n,r=e.lastIndexOf("e");if(r>0)return r;for(r=e.length;--r>t;)if((n=e.charCodeAt(r))>=48&&n<=57)return r+1}(a,u))<a.length?a.slice(t):"";--t>u;)if("0"!==a[t]){++t;break}return a.slice(0,t)+i}}return Object(u.a)(t);var n,r}(n);f=e.bins?c:(o=f,s=c,function(e){return o(e)?s(e):""})}return f}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(587),i=n(319),a=n(1),u=0,o=new r.a;function s(e,t,n,r){this.id=++u,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}var f=s.prototype;function c(e){return function(t){var n=this.flags;return 0===arguments.length?!!(n&e):(this.flags=t?n|e:n&~e,this)}}f.targets=function(){return this._targets||(this._targets=Object(i.a)(a.w))},f.set=function(e){return this.value!==e?(this.value=e,1):0},f.skip=c(1),f.modified=c(2),f.parameters=function(e,t,n){t=!1!==t;var i,u,o,f,c=this,l=c._argval=c._argval||new r.a,d=c._argops=c._argops||[],p=[];function m(e,n,r){r instanceof s?(r!==c&&(t&&r.targets().add(c),p.push(r)),d.push({op:r,name:e,index:n})):l.set(e,n,r)}for(i in e)if(u=e[i],"pulse"===i)Object(a.i)(u).forEach((function(e){e instanceof s?e!==c&&(e.targets().add(c),p.push(e)):Object(a.n)("Pulse parameters must be operator instances.")})),c.source=u;else if(Object(a.A)(u))for(l.set(i,-1,Array(o=u.length)),f=0;f<o;++f)m(i,f,u[f]);else m(i,-1,u);return this.marshall().clear(),n&&(d.initonly=!0),p},f.marshall=function(e){var t,n,r,i,a,u=this._argval||o,s=this._argops;if(s){for(n=0,r=s.length;n<r;++n)a=(i=(t=s[n]).op).modified()&&i.stamp===e,u.set(t.name,t.index,i.value,a);if(s.initonly){for(n=0;n<r;++n)(t=s[n]).op.targets().remove(this);this._argops=null,this._update=null}}return u},f.evaluate=function(e){var t=this._update;if(t){var n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},f.run=function(e){return e.stamp<this.stamp?e.StopPropagation:(this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e);var t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(685);function i(e){this._el=null,this._bgcolor=null,this._loader=new r.a(e)}var a=i.prototype;a.initialize=function(e,t,n,r,i){return this._el=e,this.resize(t,n,r,i)},a.element=function(){return this._el},a.canvas=function(){return this._el&&this._el.firstChild},a.background=function(e){return 0===arguments.length?this._bgcolor:(this._bgcolor=e,this)},a.resize=function(e,t,n,r){return this._width=e,this._height=t,this._origin=n||[0,0],this._scale=r||1,this},a.dirty=function(){},a.render=function(e){var t=this;return t._call=function(){t._render(e)},t._call(),t._call=null,t},a._render=function(){},a.renderAsync=function(e){var t=this.render(e);return this._ready?this._ready.then((function(){return t})):Promise.resolve(t)},a._load=function(e,t){var n=this,r=n._loader[e](t);if(!n._ready){var i=n._call;n._ready=n._loader.ready().then((function(e){e&&i(),n._ready=null}))}return r},a.sanitizeURL=function(e){return this._load("sanitizeURL",e)},a.loadImage=function(e){return this._load("loadImage",e)}},,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return u}));var r=["keydown","keypress","keyup","dragenter","dragleave","dragover","mousedown","mouseup","mousemove","mouseout","mouseover","click","dblclick","wheel","mousewheel","touchstart","touchmove","touchend"],i="mousemove",a="mouseout",u="click"},function(e,t,n){"use strict";t.a=function(e,t,n){var r=document.createElement(e);for(var i in t)r.setAttribute(i,t[i]);return null!=n&&(r.textContent=n),r}},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(206);t.a=function(e,t,n,i,a){let u=0,o=0;return Object(r.b)(e,t,n,(e,t)=>{const n=t-a(e),r=t-i;u+=n*n,o+=r*r}),1-u/o}},function(e,t,n){"use strict";function r(e,t,n){";"!==t[t.length-1]&&(t="return("+t+");");var r=Function.apply(null,e.concat(t));return n&&n.functions?r.bind(n.functions):r}function i(e,t){return r(["_"],e,t)}function a(e,t){return r(["datum","_"],e,t)}function u(e,t){return r(["event"],e,t)}function o(e,t){return r(["_","event"],e,t)}function s(e,t){return r(["item","_"],e,t)}n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return s}))},function(e,t,n){"use strict";var r=n(1286);n.d(t,"a",(function(){return r.a}))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u}));var r=n(152),i=n(1),a={};function u(e,t,n){this.dataflow=e,this.stamp=null==t?-1:t,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}var o=u.prototype;function s(e,t){return e?function(n,r){return e(n,r)&&t(n,r)}:t}function f(e,t){var n=[];return Object(i.gb)(e,t,(function(e){n.push(e)})),n}function c(e,t){var n={};return e.visit(t,(function(e){n[Object(r.g)(e)]=1})),function(e){return n[Object(r.g)(e)]?null:e}}o.StopPropagation=a,o.ADD=1,o.REM=2,o.MOD=4,o.ADD_REM=3,o.ADD_MOD=5,o.ALL=7,o.REFLOW=8,o.SOURCE=16,o.NO_SOURCE=32,o.NO_FIELDS=64,o.fork=function(e){return new u(this.dataflow).init(this,e)},o.clone=function(){var e=this.fork(7);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(23)},o.addAll=function(){var e=this;return this.source&&this.source.length!==this.add.length?((e=new u(this.dataflow).init(this)).add=e.source,e):e},o.init=function(e,t){var n=this;return n.stamp=e.stamp,n.encode=e.encode,!e.fields||64&t||(n.fields=e.fields),1&t?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),2&t?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),4&t?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),32&t?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source),n},o.runAfter=function(e){this.dataflow.runAfter(e)},o.changed=function(e){var t=e||7;return 1&t&&this.add.length||2&t&&this.rem.length||4&t&&this.mod.length},o.reflow=function(e){if(e)return this.fork(7).reflow();var t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(4,c(this,1))),this},o.modifies=function(e){var t=Object(i.i)(e),n=this.fields||(this.fields={});return t.forEach((function(e){n[e]=!0})),this},o.modified=function(e,t){var n=this.fields;return!(!t&&!this.mod.length||!n)&&(arguments.length?Object(i.A)(e)?e.some((function(e){return n[e]})):n[e]:!!n)},o.filter=function(e,t){var n=this;return 1&e&&(n.addF=s(n.addF,t)),2&e&&(n.remF=s(n.remF,t)),4&e&&(n.modF=s(n.modF,t)),16&e&&(n.srcF=s(n.srcF,t)),n},o.materialize=function(e){var t=this;return 1&(e=e||7)&&t.addF&&(t.add=f(t.add,t.addF),t.addF=null),2&e&&t.remF&&(t.rem=f(t.rem,t.remF),t.remF=null),4&e&&t.modF&&(t.mod=f(t.mod,t.modF),t.modF=null),16&e&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},o.visit=function(e,t){var n,r,a=this,u=t;return 16&e?(Object(i.gb)(a.source,a.srcF,u),a):(1&e&&Object(i.gb)(a.add,a.addF,u),2&e&&Object(i.gb)(a.rem,a.remF,u),4&e&&Object(i.gb)(a.mod,a.modF,u),8&e&&(n=a.source)&&((r=a.add.length+a.mod.length)===n.length||(r?Object(i.gb)(n,c(a,5),u):Object(i.gb)(n,a.srcF,u))),a)}},function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return u}));var r=0;const i="p_";function a(e){return e&&e.gradient}function u(e,t,n){let a=e.id,u=e.gradient,s="radial"===u?i:"";return a||(a=e.id="gradient_"+r++,"radial"===u?(e.x1=o(e.x1,.5),e.y1=o(e.y1,.5),e.r1=o(e.r1,0),e.x2=o(e.x2,.5),e.y2=o(e.y2,.5),e.r2=o(e.r2,.5),s=i):(e.x1=o(e.x1,0),e.y1=o(e.y1,0),e.x2=o(e.x2,1),e.y2=o(e.y2,0))),t[a]=e,"url("+(n||"")+"#"+s+a+")"}function o(e,t){return null!=e?e:t}t.a=function(e,t){var n,r=[];return n={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:r,stop:function(e,t){return r.push({offset:e,color:t}),n}}}},,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(12),i=n(1);function a(e){r.g.call(this,null,e)}function u(e,t){return e.parent===t.parent?1:2}Object(i.y)(a,r.g).transform=function(e,t){t.source&&t.source.root||Object(i.n)(this.constructor.name+" transform requires a backing tree data source.");var n=this.layout(e.method),a=this.fields,o=t.source.root,s=e.as||a;e.field?o.sum(e.field):o.count(),e.sort&&o.sort(Object(r.q)(e.sort,e=>e.data)),function(e,t,n){for(var r,i=0,a=t.length;i<a;++i)(r=t[i])in n&&e[r](n[r])}(n,this.params,e),n.separation&&n.separation(!1!==e.separation?u:i.M);try{this.value=n(o)}catch(e){Object(i.n)(e)}return o.each((function(e){!function(e,t,n){for(var r=e.data,i=0,a=t.length-1;i<a;++i)r[n[i]]=e[t[i]];r[n[a]]=e.children?e.children.length:0}(e,a,s)})),t.reflow(e.modified()).modifies(s).modifies("leaf")}},,,function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));const r=new(n(76).a);function i(e,t,n){return e[t]===n?0:(e[t]=n,1)}},,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return u}));const r=":",i="@",a="%",u="$"},function(e,t,n){"use strict";t.a=function(e){return e[e.length-1]}},function(e,t,n){"use strict";n.d(t,"e",(function(){return o}));var r=n(1353),i=n(1093);n.d(t,"f",(function(){return i.a}));var a=n(380);n.d(t,"c",(function(){return a.a})),n.d(t,"d",(function(){return a.b})),n.d(t,"h",(function(){return a.c}));var u=n(483);n.d(t,"a",(function(){return u.a})),n.d(t,"b",(function(){return u.b})),n.d(t,"g",(function(){return u.c}));var o=Object(r.a)("undefined"!=typeof fetch&&fetch,null)},,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return l}));var r=n(199),i=n(667),a=[],u=Object(i.a)("id"),o=Object(r.c)((function(e){return e}),a,"identity"),s=Object(r.c)((function(){return 0}),a,"zero"),f=Object(r.c)((function(){return 1}),a,"one"),c=Object(r.c)((function(){return!0}),a,"true"),l=Object(r.c)((function(){return!1}),a,"false")},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1);function i(e){var t=e||r.x,n=[],i={};return n.add=function(e){var r=t(e);return i[r]||(i[r]=1,n.push(e)),n},n.remove=function(e){var r,a=t(e);return i[a]&&(i[a]=0,(r=n.indexOf(e))>=0&&n.splice(r,1)),n},n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r,i=n(97),a=i.d-1e-8;function u(e){return r=e,u}function o(){}function s(e,t){r.add(e,t)}u.beginPath=o,u.closePath=o,u.moveTo=s,u.lineTo=s,u.rect=function(e,t,n,r){s(e,t),s(e+n,t+r)},u.quadraticCurveTo=function(e,t,n,r){s(e,t),s(n,r)},u.bezierCurveTo=function(e,t,n,r,i,a){s(e,t),s(n,r),s(i,a)},u.arc=function(e,t,n,r,u,o){if(Math.abs(u-r)>a)return s(e-n,t-n),void s(e+n,t+n);var f,c,l,d,p=1/0,m=-1/0,b=1/0,h=-1/0;function g(e){l=n*Math.cos(e),d=n*Math.sin(e),l<p&&(p=l),l>m&&(m=l),d<b&&(b=d),d>h&&(h=d)}if(g(r),g(u),u!==r)if((r%=i.d)<0&&(r+=i.d),(u%=i.d)<0&&(u+=i.d),u<r&&(o=!o,f=r,r=u,u=f),o)for(u-=i.d,f=r-r%i.b,c=0;c<4&&f>u;++c,f-=i.b)g(f);else for(f=r-r%i.b+i.b,c=0;c<4&&f<u;++c,f+=i.b)g(f);s(e+p,t+b),s(e+m,t+h)}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return u}));var r=n(1);function i(e){const t=this.context.data[e];return t?t.values.value:[]}function a(e,t,n){const r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i?i.count:i}function u(e,t){const n=this.context.dataflow,i=this.context.data[e].input;return n.pulse(i,n.changeset().remove(r.eb).insert(t)),1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(29),i=n(54),a=n(1);function u(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}u.fromEntries=function(e,t){var n=t.length,i=1,a=t[0],o=t[n-1],s=t[n-2],f=null;for(a&&"load"===a.type&&(a=t[1]),e.add(t[0]);i<n;++i)t[i].params.pulse=Object(r.p)(t[i-1]),e.add(t[i]),"aggregate"===t[i].type&&(f=t[i]);return new u(e,a,s,o,f)};var o=u.prototype;function s(e){return Object(a.H)(e)?e:null}function f(e,t,n){var i,a=Object(r.e)(n.op,n.field);if(t.ops){for(var u=0,o=t.as.length;u<o;++u)if(t.as[u]===a)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((i=n.op.signal)?e.signalRef(i):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(a))}function c(e,t,n,i,a,u,o){var f,c,l=t[n]||(t[n]={}),d=Object(r.q)(u),p=s(a);if(null!=p&&(e=t.scope,f=l[p+=d?"|"+d:""]),!f){var m=u?{field:r.m,pulse:t.countsRef(e,a,u)}:{field:e.fieldRef(a),pulse:Object(r.p)(t.output)};d&&(m.sort=e.sortRef(u)),c=e.add(Object(r.h)(i,void 0,m)),o&&(t.index[a]=c),f=Object(r.p)(c),null!=p&&(l[p]=f)}return f}o.countsRef=function(e,t,n){var a,u,o,c=this.counts||(this.counts={}),l=s(t);return null!=l&&(e=this.scope,a=c[l]),a?n&&n.field&&f(e,a.agg.params,n):(o={groupby:e.fieldRef(t,"key"),pulse:Object(r.p)(this.output)},n&&n.field&&f(e,o,n),u=e.add(Object(i.a)(o)),a=e.add(Object(i.d)({pulse:Object(r.p)(u)})),a={agg:u,ref:Object(r.p)(a)},null!=l&&(c[l]=a)),a.ref},o.tuplesRef=function(){return Object(r.p)(this.values)},o.extentRef=function(e,t){return c(e,this,"extent","extent",t,!1)},o.domainRef=function(e,t){return c(e,this,"domain","values",t,!1)},o.valuesRef=function(e,t,n){return c(e,this,"vals","values",t,n||!0)},o.lookupRef=function(e,t){return c(e,this,"lookup","tupleindex",t,!1)},o.indataRef=function(e,t){return c(e,this,"indata","tupleindex",t,!0,!0)}},,function(e,t,n){"use strict";t.a=function(e,t,n,r){const i=r-e*e,a=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-a*e,a]}},function(e,t,n){"use strict";var r=n(659);n.d(t,"b",(function(){return r.b})),n.d(t,"c",(function(){return r.c})),n.d(t,"a",(function(){return r.a}))},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(88),i=n(1378),a=n(302);function u(e,t){this._active=null,this._handlers={},this._loader=e||Object(a.e)(),this._tooltip=t||o}function o(e,t,n,r){e.element().setAttribute("title",r||"")}var s=u.prototype;s.initialize=function(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},s.element=function(){return this._el},s.canvas=function(){return this._el&&this._el.firstChild},s.origin=function(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},s.scene=function(e){return arguments.length?(this._scene=e,this):this._scene},s.on=function(){},s.off=function(){},s._handlerIndex=function(e,t,n){for(var r=e?e.length:0;--r>=0;)if(e[r].type===t&&(!n||e[r].handler===n))return r;return-1},s.handlers=function(e){var t,n=this._handlers,r=[];if(e)r.push.apply(r,n[this.eventName(e)]);else for(t in n)r.push.apply(r,n[t]);return r},s.eventName=function(e){var t=e.indexOf(".");return t<0?e:e.slice(0,t)},s.handleHref=function(e,t,n){this._loader.sanitize(n,{context:"href"}).then((function(t){var n=new MouseEvent(e.type,e),i=Object(r.d)(null,"a");for(var a in t)i.setAttribute(a,t[a]);i.dispatchEvent(n)})).catch((function(){}))},s.handleTooltip=function(e,t,n){if(t&&null!=t.tooltip){t=Object(i.a)(t,e,this.canvas(),this._origin);var r=n&&t&&t.tooltip||null;this._tooltip.call(this._obj,this,e,t,r)}},s.getItemBoundingClientRect=function(e){if(t=this.canvas()){for(var t,n=t.getBoundingClientRect(),r=this._origin,i=e.bounds,a=i.x1+r[0]+n.left,u=i.y1+r[1]+n.top,o=i.width(),s=i.height();e.mark&&(e=e.mark.group);)a+=e.x||0,u+=e.y||0;return{x:a,y:u,width:o,height:s,left:a,top:u,right:a+o,bottom:u+s}}}},,function(e,t,n){"use strict";function r(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function i(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function a(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function u(e){var t=a(e),n=r(e),u=i(e);e._renderer.background(e._background),e._renderer.resize(n,u,t),e._handler.origin(t),e._resizeListeners.forEach((function(t){try{t(n,u)}catch(t){e.error(t)}}))}n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return u}))},function(e,t,n){"use strict";var r=n(1458),i=n(790),a=n(791),u=n(1459),o=n(866),s=n(400),f=n(1);t.a=function(e,t,n,c,l){if(null!=t.gradient)return Object(u.a)(t,n,c,l);var d=t.signal?Object(s.a)(t.signal,n,c,l):t.color?Object(r.a)(t.color,n,c,l):null!=t.field?Object(i.a)(t.field,n,c,l):void 0!==t.value?Object(f.X)(t.value):void 0;return null!=t.scale&&(d=Object(a.a)(t,d,n,c,l)),void 0===d&&(d=null),null!=t.exponent&&(d="Math.pow("+d+","+Object(o.a)(t.exponent,n,c,l)+")"),null!=t.mult&&(d+="*"+Object(o.a)(t.mult,n,c,l)),null!=t.offset&&(d+="+"+Object(o.a)(t.offset,n,c,l)),t.round&&(d="Math.round("+d+")"),d}},,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return y})),n.d(t,"g",(function(){return v})),n.d(t,"h",(function(){return O}));var r=n(317),i=n(301),a=n(586);function u(e){return function(t){return e*Math.exp(t)}}function o(e){return function(t){return Math.log(e*t)}}function s(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function f(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function c(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function l(e,t,n,r){var a=n(e[0]),u=n(Object(i.a)(e)),o=(u-a)*t;return[r(a-o),r(u-o)]}function d(e,t){return l(e,t,a.a,r.c)}function p(e,t){var n=Math.sign(e[0]);return l(e,t,o(n),u(n))}function m(e,t,n){return l(e,t,c(n),c(1/n))}function b(e,t,n){return l(e,t,s(n),f(n))}function h(e,t,n,r,a){var u=r(e[0]),o=r(Object(i.a)(e)),s=null!=t?r(t):(u+o)/2;return[a(s+(u-s)*n),a(s+(o-s)*n)]}function g(e,t,n){return h(e,t,n,a.a,r.c)}function y(e,t,n){var r=Math.sign(e[0]);return h(e,t,n,o(r),u(r))}function v(e,t,n,r){return h(e,t,n,c(r),c(1/r))}function O(e,t,n,r){return h(e,t,n,s(r),f(r))}},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return l}));var r=n(705),i=n(1),a=n(337);const u=["clamp","base","constant","exponent"];function o(e,t){var n=t[0],r=Object(i.S)(t)-n;return function(t){return e(n+t*r)}}function s(e,t,n){return a.piecewise(l(t||"rgb",n),e)}function f(e,t){for(var n=new Array(t),r=t+1,i=0;i<t;)n[i]=e(++i/r);return n}function c(e,t,n){var a,o,s,f=n-t;return f&&isFinite(f)?(a=(o=e.type).indexOf("-"),o=a<0?o:o.slice(a+1),s=Object(r.a)(o)().domain([t,n]).range([0,1]),u.forEach(t=>e[t]?s[t](e[t]()):0),s):Object(i.l)(.5)}function l(e,t){var n=a[function(e){return"interpolate"+e.toLowerCase().split("-").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("")}(e)];return null!=t&&n&&n.gamma?n.gamma(t):n}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(492),i=n(668),a=n(669);function u(e){return Object(r.a)(e)?"["+e.map(u)+"]":Object(i.a)(e)||Object(a.a)(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}},,function(e,t,n){"use strict";var r={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},i=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\d)([-+])/g,/\s|,|###/];t.a=function(e){var t,n,a,u,o,s,f,c,l,d,p,m=[];for(c=0,d=(t=e.slice().replace(i[0],"###$1").split(i[1]).slice(1)).length;c<d;++c){for(a=(n=t[c]).slice(1).trim().replace(i[2],"$1###$2").split(i[3]),u=[s=n.charAt(0)],l=0,p=a.length;l<p;++l)(o=+a[l])===o&&u.push(o);if(f=r[s.toLowerCase()],u.length-1>f)for(l=1,p=u.length;l<p;l+=f)m.push([s].concat(u.slice(l,l+f)));else m.push(u)}return m}},,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(395),i=(i=Object(r.a)(1,1))?i.getContext("2d"):null},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a}));var r="Feature",i="FeatureCollection",a="MultiPoint"},,function(e,t,n){"use strict";function r(e){return new Uint8Array(e)}function i(e){return new Uint16Array(e)}function a(e){return new Uint32Array(e)}n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},,,,,,,,function(e,t,n){"use strict";var r=n(514);t.a=function(e){var t,n,i,a=[],u=null,o=0,s=e.length,f="";function c(){a.push(f+e.substring(t,n)),f="",t=n+1}for(e+="",t=n=0;n<s;++n)if("\\"===(i=e[n]))f+=e.substring(t,n),t=++n;else if(i===u)c(),u=null,o=-1;else{if(u)continue;t===o&&'"'===i?(t=n+1,u=i):t===o&&"'"===i?(t=n+1,u=i):"."!==i||o?"["===i?(n>t&&c(),o=t=n+1):"]"===i&&(o||Object(r.a)("Access path missing open bracket: "+e),o>0&&c(),o=0,t=n+1):n>t?c():t=n+1}return o&&Object(r.a)("Access path missing closing bracket: "+e),u&&Object(r.a)("Access path missing closing quote: "+e),n>t&&(n++,c()),a}},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n(1),i={boolean:r.Y,integer:r.ab,number:r.ab,date:r.Z,string:r.cb,unknown:r.x},a=[function(e){return"true"===e||"false"===e||!0===e||!1===e},function(e){return f(e)&&(e=+e)==~~e},f,function(e){return!isNaN(Date.parse(e))}],u=["boolean","integer","number","date"];function o(e,t){if(!e||!e.length)return"unknown";var n,r,i,o,s=0,f=e.length,c=a.length,l=a.map((function(e,t){return t+1}));for(r=0,f=e.length;r<f;++r)for(n=t?e[r][t]:e[r],i=0;i<c;++i)if(l[i]&&(null!=(o=n)&&o==o)&&!a[i](n)&&(l[i]=0,++s===a.length))return"string";return s=l.reduce((function(e,t){return 0===e?t:e}),0)-1,u[s]}function s(e,t){return t.reduce((function(t,n){return t[n]=o(e,n),t}),{})}function f(e){return!(isNaN(+e)||e instanceof Date)}},,,function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var r=n(1),i=1;function a(){i=1}t.a=function(e,t,n){var a=t.clip,u=e._defs,o=t.clip_id||(t.clip_id="clip"+i++),s=u.clipping[o]||(u.clipping[o]={id:o});return Object(r.D)(a)?s.path=a(null):(s.width=n.width||0,s.height=n.height||0),"url(#"+o+")"}},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s}));var r=n(151),i=n(21);function a(e,t){return function(n,i,a){if(n){const t=Object(r.e)(n,(a||this).context);return t&&t.path[e](i)}return t(i)}}const u=a("area",i.c),o=a("bounds",i.h),s=a("centroid",i.i)},function(e,t,n){"use strict";function r(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(t){e.warn(t)}return n[n.length-1]}function i(){return r(this.context.dataflow,"warn",arguments)}function a(){return r(this.context.dataflow,"info",arguments)}function u(){return r(this.context.dataflow,"debug",arguments)}n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return u}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return u}));const r="undefined"!=typeof window&&window||null;function i(){return r?r.screen:{}}function a(){return r?[r.innerWidth,r.innerHeight]:[void 0,void 0]}function u(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}},,function(e,t,n){"use strict";var r=n(492);t.a=function(e){return null!=e?Object(r.a)(e)?e:[e]:[]}},function(e,t,n){"use strict";t.a=function(e){return"function"==typeof e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(599),i=n(220),a=n(769),u=n(12),o=n(1);function s(e){u.g.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}s.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:i.a},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};var f=Object(o.y)(s,u.g);f.transform=function(e,t){var n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):{},t.visit(t.SOURCE,e=>n.add(e))):(n.value=n.value||n.init(e),t.visit(t.REM,e=>n.rem(e)),t.visit(t.ADD,e=>n.add(e))),r.modifies(n._outputs),n._drop=!1!==e.drop,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),n.changes(r)},f.cross=function(){var e=this,t=e.value,n=e._dnames,r=n.map((function(){return{}})),i=n.length;function a(e){var t,a,u,o;for(t in e)for(u=e[t].tuple,a=0;a<i;++a)r[a][o=u[n[a]]]=o}a(e._prev),a(t),function a(u,o,s){var f,c,l=n[s],d=r[s++];for(f in d)o[l]=d[f],c=u?u+"|"+f:f,s<i?a(c,o,s):t[c]||e.cell(c,o)}("",{},0)},f.init=function(e){var t=this._inputs=[],n=this._outputs=[],a={};function u(e){for(var n,r=Object(o.i)(Object(o.g)(e)),i=0,u=r.length;i<u;++i)a[n=r[i]]||(a[n]=1,t.push(n))}this._dims=Object(o.i)(e.groupby),this._dnames=this._dims.map((function(e){var t=Object(o.h)(e);return u(e),n.push(t),t})),this.cellkey=e.key?e.key:Object(r.a)(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];var s,f,c,l,d,p,m=e.fields||[null],b=e.ops||["count"],h=e.as||[],g=m.length,y={};for(g!==b.length&&Object(o.n)("Unmatched number of fields and aggregate ops."),p=0;p<g;++p)s=m[p],f=b[p],null==s&&"count"!==f&&Object(o.n)("Null aggregate field specified."),l=Object(o.h)(s),d=Object(i.d)(f,l,h[p]),n.push(d),"count"!==f?((c=y[l])||(u(s),(c=y[l]=[]).field=s,this._measures.push(c)),"count"!==f&&(this._countOnly=!1),c.push(Object(i.c)(f,d))):this._counts.push(d);return this._measures=this._measures.map((function(e){return Object(i.b)(e,e.field)})),{}},f.cellkey=Object(r.a)(),f.cell=function(e,t){var n=this.value[e];return n?0===n.num&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},f.newcell=function(e,t){var n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){var r,i=this._measures,u=i.length;for(n.agg=Array(u),r=0;r<u;++r)n.agg[r]=new i[r](n)}return n.store&&(n.data=new a.a),n},f.newtuple=function(e,t){var n,r,i=this._dnames,a=this._dims,o={};for(n=0,r=a.length;n<r;++n)o[i[n]]=a[n](e);return t?Object(u.p)(t.tuple,o):Object(u.l)(o)},f.add=function(e){var t,n,r,i=this.cellkey(e),a=this.cell(i,e);if(a.num+=1,!this._countOnly)for(a.store&&a.data.add(e),n=0,r=(t=a.agg).length;n<r;++n)t[n].add(t[n].get(e),e)},f.rem=function(e){var t,n,r,i=this.cellkey(e),a=this.cell(i,e);if(a.num-=1,!this._countOnly)for(a.store&&a.data.rem(e),n=0,r=(t=a.agg).length;n<r;++n)t[n].rem(t[n].get(e),e)},f.celltuple=function(e){var t,n,r,i=e.tuple,a=this._counts;for(e.store&&e.data.values(),n=0,r=a.length;n<r;++n)i[a[n]]=e.num;if(!this._countOnly)for(n=0,r=(t=e.agg).length;n<r;++n)t[n].set(i);return i},f.changes=function(e){var t,n,r,i,a=this._adds,u=this._mods,o=this._prev,s=this._drop,f=e.add,c=e.rem,l=e.mod;if(o)for(n in o)t=o[n],s&&!t.num||c.push(t.tuple);for(r=0,i=this._alen;r<i;++r)f.push(this.celltuple(a[r])),a[r]=null;for(r=0,i=this._mlen;r<i;++r)(0===(t=u[r]).num&&s?c:l).push(this.celltuple(t)),u[r]=null;return this._alen=this._mlen=0,this._prev=null,e}},function(e,t,n){"use strict";var r=n(655);n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b}))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return o}));var r=n(517),i=n(398),a=n(135);function u(e){return function(t,n,r){Object(a.b)(n,(function(n){r&&!r.intersects(n.bounds)||s(e,t,n,n)}))}}function o(e){return function(t,n,r){!n.items.length||r&&!r.intersects(n.bounds)||s(e,t,n.items[0],n.items)}}function s(e,t,n,a){var u=null==n.opacity?1:n.opacity;0!==u&&(e(t,a)||(n.fill&&Object(r.a)(t,n,u)&&t.fill(),n.stroke&&Object(i.a)(t,n,u)&&t.stroke()))}},function(e,t,n){"use strict";var r=n(773),i=[];t.a=function(e,t,n){var a=null!=(a=t.strokeWidth)?a:1;return!(a<=0)&&((n*=null==t.strokeOpacity?1:t.strokeOpacity)>0&&(e.globalAlpha=n,e.strokeStyle=Object(r.a)(e,t,t.stroke),e.lineWidth=a,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||i),e.lineDashOffset=t.strokeDashOffset||0),!0))}},function(e,t,n){"use strict";var r=n(746),i=n(1027),a=n(1453),u=n(1454),o=n(447),s=n(1468),f=n(1469),c=n(401),l=n(1470),d=n(1);t.a=function(e,t,n){var p=Object(d.i)(e.signals),m=Object(d.i)(e.scales);return n||p.forEach(e=>Object(o.a)(e,t)),Object(d.i)(e.projections).forEach(e=>Object(a.a)(e,t)),m.forEach(e=>Object(i.a)(e,t)),Object(d.i)(e.data).forEach(e=>Object(f.a)(e,t)),m.forEach(e=>Object(i.b)(e,t)),(n||p).forEach(e=>Object(r.a)(e,t)),Object(d.i)(e.axes).forEach(e=>Object(l.a)(e,t)),Object(d.i)(e.marks).forEach(e=>Object(c.a)(e,t)),Object(d.i)(e.legends).forEach(e=>Object(u.a)(e,t)),e.title&&Object(s.a)(e.title,t),t.parseLambdas(),t}},function(e,t,n){"use strict";var r=n(184),i=n(1);t.a=function(e,t,n,a){var u=Object(r.a)(e,t);return u.$fields.forEach((function(e){a[e]=1})),Object(i.o)(n,u.$params),u.$expr}},function(e,t,n){"use strict";var r=n(1463),i=n(1464),a=n(1465),u=n(794),o=n(1466),s=n(1467),f=n(793),c=n(112),l=n(68),d=n(64),p=n(524),m=n(795),b=n(399),h=n(323),g=n(29),y=n(1),v=n(54);t.a=function(e,t){var n,O,j,$,x,k,A,w,_,F,D,S,C,E,q=Object(f.a)(e),M=e.type===c.a,z=e.from&&e.from.facet,B=e.layout||q===l.p||q===l.g,P=q===l.o||B||z,T=e.overlap;j=Object(u.a)(e.from,M,t),O=t.add(Object(v.f)({key:j.key||(e.key?Object(g.i)(e.key):void 0),pulse:j.pulse,clean:!M})),F=Object(g.p)(O),O=$=t.add(Object(v.d)({pulse:F})),O=t.add(Object(v.n)({markdef:Object(i.a)(e),interactive:Object(a.a)(e.interactive,t),clip:Object(r.a)(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:Object(g.p)(O)})),D=Object(g.p)(O),(O=x=t.add(Object(v.g)(Object(d.d)(e.encode,e.type,q,e.style,t,{mod:!1,pulse:D})))).params.parent=t.encode(),e.transform&&e.transform.forEach((function(e){const n=Object(p.a)(e,t),r=n.metadata;(r.generates||r.changes)&&Object(y.n)("Mark transforms should not generate new data."),r.nomod||(x.params.mod=!0),n.params.pulse=Object(g.p)(O),t.add(O=n)})),e.sort&&(O=t.add(Object(v.z)({sort:t.compareRef(e.sort),pulse:Object(g.p)(O)}))),S=Object(g.p)(O),(z||B)&&(B=t.add(Object(v.B)({layout:t.objectProperty(e.layout),legends:t.legends,mark:D,pulse:S})),C=Object(g.p)(B)),k=t.add(Object(v.c)({mark:D,pulse:C||S})),E=Object(g.p)(k),M&&(P&&((n=t.operators).pop(),B&&n.pop()),t.pushState(S,C||E,F),z?Object(o.a)(e,t,j):P?Object(s.a)(e,t,j):Object(b.a)(e,t),t.popState(),P&&(B&&n.push(B),n.push(k))),T&&(E=function(e,t,n){var r,i=e.method,a=e.bound,u=e.separation,o={separation:Object(g.l)(u)?n.signalRef(u.signal):u,method:Object(g.l)(i)?n.signalRef(i.signal):i,pulse:t};e.order&&(o.sort=n.compareRef({field:e.order}));a&&(r=a.tolerance,o.boundTolerance=Object(g.l)(r)?n.signalRef(r.signal):+r,o.boundScale=n.scaleRef(a.scale),o.boundOrient=a.orient);return Object(g.p)(n.add(Object(v.q)(o)))}(T,E,t)),A=t.add(Object(v.w)({pulse:E})),w=t.add(Object(v.y)({pulse:Object(g.p)(A)},void 0,t.parent())),null!=e.name&&(_=e.name,t.addData(_,new h.a(t,$,A,w)),e.on&&e.on.forEach((function(e){(e.insert||e.remove||e.toggle)&&Object(y.n)("Marks only support modify triggers."),Object(m.a)(e,t,_)})))}},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var r={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},i=Object.keys(r)},,,,,,,,,,function(e,t,n){"use strict";function r(e,t,n){var r=[t].concat([].slice.call(n));console[e].apply(console,r)}n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return s}));var i=0,a=1,u=2,o=3,s=4;t.f=function(e,t){var n=e||i;return{level:function(e){return arguments.length?(n=+e,this):n},error:function(){return n>=a&&r(t||"error","ERROR",arguments),this},warn:function(){return n>=u&&r(t||"warn","WARN",arguments),this},info:function(){return n>=o&&r(t||"log","INFO",arguments),this},debug:function(){return n>=s&&r(t||"log","DEBUG",arguments),this}}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return u}));var r=n(152),i=n(1);function a(e){return e&&e.constructor===u}function u(){var e=[],t=[],n=[],a=[],o=[],s=!1;return{constructor:u,insert:function(t){for(var n=Object(i.i)(t),r=0,a=n.length;r<a;++r)e.push(n[r]);return this},remove:function(e){for(var n=Object(i.D)(e)?a:t,r=Object(i.i)(e),u=0,o=r.length;u<o;++u)n.push(r[u]);return this},modify:function(e,t,r){var a={field:t,value:Object(i.l)(r)};return Object(i.D)(e)?(a.filter=e,o.push(a)):(a.tuple=e,n.push(a)),this},encode:function(e,t){return Object(i.D)(e)?o.push({filter:e,field:t}):n.push({tuple:e,field:t}),this},reflow:function(){return s=!0,this},pulse:function(i,u){var f,c,l,d,p,m,b={},h={};for(f=0,c=u.length;f<c;++f)b[Object(r.g)(u[f])]=1;for(f=0,c=t.length;f<c;++f)p=t[f],b[Object(r.g)(p)]=-1;for(f=0,c=a.length;f<c;++f)d=a[f],u.forEach((function(e){d(e)&&(b[Object(r.g)(e)]=-1)}));for(f=0,c=e.length;f<c;++f)p=e[f],m=Object(r.g)(p),b[m]?b[m]=1:i.add.push(Object(r.b)(e[f]));for(f=0,c=u.length;f<c;++f)p=u[f],b[Object(r.g)(p)]<0&&i.rem.push(p);function g(e,t,n){n?e[t]=n(e):i.encode=t,s||(h[Object(r.g)(e)]=e)}for(f=0,c=n.length;f<c;++f)p=(l=n[f]).tuple,d=l.field,(m=b[Object(r.g)(p)])>0&&(g(p,d,l.value),i.modifies(d));for(f=0,c=o.length;f<c;++f)l=o[f],d=l.filter,u.forEach((function(e){d(e)&&b[Object(r.g)(e)]>0&&g(e,l.field,l.value)})),i.modifies(l.field);if(s)i.mod=t.length||a.length?u.filter((function(e){return b[Object(r.g)(e)]>0})):u.slice();else for(m in h)i.mod.push(h[m]);return i}}}},,,,,,,,,function(e,t,n){"use strict";var r=n(1),i=["value","update","init","react","bind"];function a(e,t){Object(r.n)(e+' for "outer" push: '+Object(r.X)(t))}t.a=function(e,t){var n=e.name;if("outer"===e.push)t.signals[n]||a("No prior signal definition",n),i.forEach((function(t){void 0!==e[t]&&a("Invalid property ",t)}));else{var r=t.addSignal(n,e.value);!1===e.react&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}},,function(e,t,n){"use strict";t.a=function(e,t){for(var n="";--t>=0;)n+=e;return n}},,,,function(e,t,n){"use strict";var r=n(112);t.a=function(e,t,n,i,a,u,o,s){return{type:r.a,name:n,role:e,style:t,from:i,interactive:a||!1,encode:u,marks:o,layout:s}}},,,,,,,,,,,,,function(e,t,n){"use strict";t.a={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r="symbol",i="discrete",a="gradient"},,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return f})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return m}));var r=n(277),i=n(678),a=n(515),u=n(319),o=n(1);async function s(e,t,n){const i=this,s=i.logLevel();if(i._pulse)return d(i);if(i._pending&&await i._pending,t&&await Object(a.a)(i,t),!i._touched.length)return i.info("Dataflow invoked, but nothing to do."),i;let f,c,l,p,m=++i._clock,b=0;i._pulse=new r.b(i,m,e),s>=o.c&&(l=Date.now(),i.debug("-- START PROPAGATION ("+m+") -----")),i._touched.forEach(e=>i._enqueue(e,!0)),i._touched=Object(u.a)(o.w);try{for(;i._heap.size()>0;)(f=i._heap.pop()).rank===f.qrank?((c=f.run(i._getPulse(f,e))).then&&(c=await c),s>=o.a&&i.debug(f.id,c===r.a?"STOP":c,f),c!==r.a&&f._targets&&f._targets.forEach(e=>i._enqueue(e)),++b):i._enqueue(f,!0)}catch(e){i._heap.clear(),p=e}if(i._input={},i._pulse=null,s>=o.c&&(l=Date.now()-l,i.info("> Pulse "+m+": "+b+" operators; "+l+"ms")),p&&(i._postrun=[],i.error(p)),i._postrun.length){const e=i._postrun.sort((e,t)=>t.priority-e.priority);i._postrun=[];for(let t=0;t<e.length;++t)await Object(a.a)(i,e[t].callback)}return n&&await Object(a.a)(i,n),i}async function f(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running}function c(e,t,n){return this._pulse?d(this):(this.evaluate(e,t,n),this)}function l(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(e){this.error(e)}}function d(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function p(e,t){var n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function m(e,t){var n=e.source,a=this._clock;return n&&Object(o.A)(n)?new i.a(this,a,n.map(e=>e.pulse),t):this._input[e.id]||function(e,t){if(t&&t.stamp===e.stamp)return t;e=e.fork(),t&&t!==r.a&&(e.source=t.source);return e}(this._pulse,n&&n.pulse)}},,,function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return f}));var r=n(12),i=n(1);function a(e,t){var n=e._runtime.data;return Object(i.v)(n,t)||Object(i.n)("Unrecognized data set: "+t),n[t]}function u(e,t){return arguments.length<2?a(this,e).values.value:o.call(this,e,Object(r.i)().remove(i.eb).insert(t))}function o(e,t){Object(r.m)(t)||Object(i.n)("Second argument to changes must be a changeset.");var n=a(this,e);return n.modified=!0,this.pulse(n.input,t)}function s(e,t){return o.call(this,e,Object(r.i)().insert(t))}function f(e,t){return o.call(this,e,Object(r.i)().remove(t))}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return f}));var r=n(862),i=n(766),a=n(1355),u=n(1);const o={dsv:r.a,csv:Object(r.b)(","),tsv:Object(r.b)("\t"),json:i.a,topojson:a.a};function s(e,t){return arguments.length>1?(o[e]=t,this):Object(u.v)(o,e)?o[e]:null}function f(e){const t=s(e);return t&&t.responseType||"text"}},,,,,,,,,function(e,t,n){"use strict";t.a=Array.isArray},,,function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return u}));var r=n(686),i=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","interpolate","tension","orient","defined","url","path","x2","y2","size","shape","text","angle","theta","radius","dx","dy","font","fontSize","fontWeight","fontStyle","fontVariant"];function a(e,t){return JSON.stringify(e,i,t)}function u(e){return function e(t){var n,i,a,u=t.marktype,o=t.items;if(o)for(i=0,a=o.length;i<a;++i)n=u?"mark":"group",o[i][n]=t,o[i].zindex&&(o[i][n].zdirty=!0),"group"===(u||n)&&e(o[i]);u&&Object(r.a)(t);return t}("string"==typeof e?JSON.parse(e):e)}},,,,function(e,t,n){"use strict";var r=n(998),i=["l",0,0,0,0,0,0,0];function a(e,t){var n=i[0]=e[0];if("a"===n||"A"===n)i[1]=t*e[1],i[2]=t*e[2],i[3]=e[3],i[4]=e[4],i[5]=e[5],i[6]=t*e[6],i[7]=t*e[7];else for(var r=1,a=e.length;r<a;++r)i[r]=t*e[r];return i}function u(e,t,n,i){for(var a=Object(r.b)(i[5],i[6],i[0],i[1],i[3],i[4],i[2],t,n),u=0;u<a.length;++u){var o=Object(r.a)(a[u]);e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5])}}t.a=function(e,t,n,r,i){var o,s,f,c,l,d=null,p=0,m=0,b=0,h=0;null==n&&(n=0),null==r&&(r=0),null==i&&(i=1),e.beginPath&&e.beginPath();for(var g=0,y=t.length;g<y;++g){switch(o=t[g],1!==i&&(o=a(o,i)),o[0]){case"l":p+=o[1],m+=o[2],e.lineTo(p+n,m+r);break;case"L":p=o[1],m=o[2],e.lineTo(p+n,m+r);break;case"h":p+=o[1],e.lineTo(p+n,m+r);break;case"H":p=o[1],e.lineTo(p+n,m+r);break;case"v":m+=o[1],e.lineTo(p+n,m+r);break;case"V":m=o[1],e.lineTo(p+n,m+r);break;case"m":p+=o[1],m+=o[2],e.moveTo(p+n,m+r);break;case"M":p=o[1],m=o[2],e.moveTo(p+n,m+r);break;case"c":s=p+o[5],f=m+o[6],b=p+o[3],h=m+o[4],e.bezierCurveTo(p+o[1]+n,m+o[2]+r,b+n,h+r,s+n,f+r),p=s,m=f;break;case"C":p=o[5],m=o[6],b=o[3],h=o[4],e.bezierCurveTo(o[1]+n,o[2]+r,b+n,h+r,p+n,m+r);break;case"s":s=p+o[3],f=m+o[4],b=2*p-b,h=2*m-h,e.bezierCurveTo(b+n,h+r,p+o[1]+n,m+o[2]+r,s+n,f+r),b=p+o[1],h=m+o[2],p=s,m=f;break;case"S":s=o[3],f=o[4],b=2*p-b,h=2*m-h,e.bezierCurveTo(b+n,h+r,o[1]+n,o[2]+r,s+n,f+r),p=s,m=f,b=o[1],h=o[2];break;case"q":s=p+o[3],f=m+o[4],b=p+o[1],h=m+o[2],e.quadraticCurveTo(b+n,h+r,s+n,f+r),p=s,m=f;break;case"Q":s=o[3],f=o[4],e.quadraticCurveTo(o[1]+n,o[2]+r,s+n,f+r),p=s,m=f,b=o[1],h=o[2];break;case"t":s=p+o[1],f=m+o[2],null===d[0].match(/[QqTt]/)?(b=p,h=m):"t"===d[0]?(b=2*p-c,h=2*m-l):"q"===d[0]&&(b=2*p-b,h=2*m-h),c=b,l=h,e.quadraticCurveTo(b+n,h+r,s+n,f+r),m=f,b=(p=s)+o[1],h=m+o[2];break;case"T":s=o[1],f=o[2],b=2*p-b,h=2*m-h,e.quadraticCurveTo(b+n,h+r,s+n,f+r),p=s,m=f;break;case"a":u(e,p+n,m+r,[o[1],o[2],o[3],o[4],o[5],o[6]+p+n,o[7]+m+r]),p+=o[6],m+=o[7];break;case"A":u(e,p+n,m+r,[o[1],o[2],o[3],o[4],o[5],o[6]+n,o[7]+r]),p=o[6],m=o[7];break;case"z":case"Z":e.closePath()}d=o}}},function(e,t,n){"use strict";t.a=function(e,t){var n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}},,,,function(e,t,n){"use strict";function r(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.sqrt(n*n+r*r)}function i(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u}));var r=n(151),i=n(76);function a(e,t,n){const i=Object(r.e)(e,(n||this).context);return function(e){return i?i.path.context(e)(t):""}}function u(e){let t=null;return function(n){return n?Object(i.M)(n,t=t||Object(i.K)(e)):e}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var r=n(322);const i={};function a(e){return e.data}function u(e,t){const n=r.a.call(t,e);return n.root&&n.root.lookup||i}function o(e,t,n){const r=u(e,this),i=r[t],o=r[n];return i&&o?i.path(o).map(a):void 0}function s(e,t){const n=u(e,this)[t];return n?n.ancestors().map(a):void 0}},function(e,t,n){"use strict";var r=n(745);n.d(t,"b",(function(){return r.a}));var i=n(1283);n.d(t,"a",(function(){return i.a}));n(274)},,,,,,,function(e,t,n){"use strict";t.a=function(e){throw Error(e)}},function(e,t,n){"use strict";t.a=async function(e,t){try{await t(e)}catch(t){e.error(t)}}},function(e,t,n){"use strict";var r=n(237),i=n(320),a=n(141),u=n(397),o=n(207),s=n(216),f=n(97);t.a=function(e,t,n){function c(e,n){var r=n.x||0,i=n.y||0,a=n.angle||0;e.translate(r,i),a&&e.rotate(a*=f.a),e.beginPath(),t(e,n),a&&e.rotate(-a),e.translate(-r,-i)}return{type:e,tag:"path",nested:!1,attr:function(e,n){e("transform",Object(s.b)(n)),e("d",t(null,n))},bound:function(e,n){var a=n.x||0,u=n.y||0;return t(Object(i.a)(e),n),Object(r.a)(e,n).translate(a,u),n.angle&&e.rotate(n.angle*f.a,a,u),e},draw:Object(u.a)(c),pick:Object(o.c)(c),isect:n||Object(a.b)(c)}}},function(e,t,n){"use strict";var r=n(773);t.a=function(e,t,n){return(n*=null==t.fillOpacity?1:t.fillOpacity)>0&&(e.globalAlpha=n,e.fillStyle=Object(r.a)(e,t,t.fill),!0)}},function(e,t,n){"use strict";function r(e,t){for(var n,r,i="horizontal"===e[0].orient?t[1]:t[0],a="horizontal"===e[0].orient?"y":"x",u=e.length,o=1/0;--u>=0;)!1!==e[u].defined&&(r=Math.abs(e[u][a]-i))<o&&(o=r,n=e[u]);return n}function i(e,t){for(var n,r,i=Math.pow(e[0].strokeWidth||1,2),a=e.length;--a>=0;)if(!1!==e[a].defined&&(n=e[a].x-t[0])*n+(r=e[a].y-t[1])*r<i)return e[a];return null}function a(e,t){for(var n,r,i=e.length;--i>=0;)if(!1!==e[i].defined&&(n=e[i].x-t[0])*n+(r=e[i].y-t[1])*r<(n=e[i].size||1)*n)return e[i];return null}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a}))},function(e,t,n){"use strict";var r=n(237),i=n(320),a=n(141),u=n(397),o=n(207);t.a=function(e,t,n){function s(e,n){e.beginPath(),t(e,n)}var f=Object(o.a)(s);return{type:e,tag:"path",nested:!0,attr:function(e,n){var r=n.mark.items;r.length&&e("d",t(null,r))},bound:function(e,n){var a=n.items;return 0===a.length?e:(t(Object(i.a)(e),a),Object(r.a)(e,a[0]))},draw:Object(u.b)(s),pick:function(e,t,n,r,i,a){var u=t.items,o=t.bounds;return!u||!u.length||o&&!o.contains(i,a)?null:(n*=e.pixelRatio,r*=e.pixelRatio,f(e,u,n,r)?u[0]:null)},isect:a.c,tip:n}}},,,function(e,t,n){"use strict";var r=n(788),i=n(76),a=n(1);t.a=async function(e,t,n,u){const o=Object(i.Q)(t),s=o&&o.headless;return s||Object(a.n)("Unrecognized renderer type: "+t),await e.runAsync(),Object(r.a)(e,null,null,s,n,u).renderAsync(e._scenegraph.root)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));const r="intersect",i="union"},function(e,t,n){"use strict";var r=n(184),i=n(29),a=n(54),u=n(12),o=n(1);function s(e,t,n){var r,i,a,u={};for(i=0,a=e.params.length;i<a;++i)u[(r=e.params[i]).name]=f(r,t,n);return u}function f(e,t,n){var r=e.type,a=t[e.name];return"index"===r?function(e,t,n){Object(o.H)(t.from)||Object(o.n)('Lookup "from" parameter must be a string literal.');return n.getData(t.from).lookupRef(n,t.key)}(0,t,n):void 0!==a?"param"===r?function(e,t,n){var r=t[e.name];return e.array?(Object(o.A)(r)||Object(o.n)("Expected an array of sub-parameters. Instead: "+Object(o.X)(r)),r.map((function(t){return l(e,t,n)}))):l(e,r,n)}(e,t,n):"projection"===r?n.projectionRef(t[e.name]):e.array&&!Object(i.l)(a)?a.map((function(t){return c(e,t,n)})):c(e,a,n):void(e.required&&Object(o.n)("Missing required "+Object(o.X)(t.type)+" parameter: "+Object(o.X)(e.name)))}function c(e,t,n){var a=e.type;if(Object(i.l)(t))return d(a)?Object(o.n)("Expression references can not be signals."):p(a)?n.fieldRef(t):m(a)?n.compareRef(t):n.signalRef(t.signal);var u,s=e.expr||p(a);return s&&((u=t)&&u.expr)?n.exprRef(t.expr,t.as):s&&function(e){return e&&e.field}(t)?Object(i.i)(t.field,t.as):d(a)?Object(r.a)(t,n):function(e){return"data"===e}(a)?Object(i.p)(n.getData(t).values):p(a)?Object(i.i)(t):m(a)?n.compareRef(t):t}function l(e,t,n){var r,u,f,c,l;for(c=0,l=e.params.length;c<l;++c){for(f in(u=e.params[c]).key)if(u.key[f]!==t[f]){u=null;break}if(u)break}return u||Object(o.n)("Unsupported parameter: "+Object(o.X)(t)),r=Object(o.o)(s(u,t,n),u.key),Object(i.p)(n.add(Object(a.r)(r)))}function d(e){return"expr"===e}function p(e){return"field"===e}function m(e){return"compare"===e}t.a=function(e,t){var n=Object(u.j)(e.type);n||Object(o.n)("Unrecognized transform type: "+Object(o.X)(e.type));var r=Object(i.h)(n.type.toLowerCase(),null,s(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return u}));var r=n(1657),i=n(751),a=(n(597),n(752));n.d(t,"b",(function(){return a.b}));n(753);const u=r.version;t.a=function(e,t){const n=new i.a(t);return e.tooltip(n.call).run(),n}},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"d",(function(){return _})),n.d(t,"c",(function(){return E})),n.d(t,"b",(function(){return q})),n.d(t,"a",(function(){return M}));var r=n(201),i=n(12),a=n(637),u=n(105),o=n(1),s=n(650),f=n(143),c=n(322),l=n(740),d=n(161),p=n(388),m=n(741),b=n(1443),h=n(389),g=n(742),y=n(743),v=n(504),O=n(151),j=n(744),$=n(505),x=n(506),k=n(390),A=n(169),w=n(300);const _={random:function(){return Object(u.d)()},isArray:o.A,isBoolean:o.B,isDate:o.C,isDefined:function(e){return void 0!==e},isNumber:o.E,isObject:o.F,isRegExp:o.G,isString:o.H,isTuple:i.n,isValid:function(e){return null!=e&&e==e},toBoolean:o.Y,toDate:o.Z,toNumber:o.ab,toString:o.cb,flush:o.u,lerp:o.J,merge:g.a,pad:o.N,peek:o.S,span:o.V,inrange:o.z,truncate:o.db,rgb:f.f,lab:f.e,hcl:f.c,hsl:f.d,sequence:s.a,format:d.c,utcFormat:d.h,utcParse:d.i,timeFormat:d.f,timeParse:d.g,monthFormat:d.e,monthAbbrevFormat:d.d,dayFormat:d.b,dayAbbrevFormat:d.a,quarter:o.T,utcquarter:o.fb,warn:h.c,info:h.b,debug:h.a,extent:o.p,inScope:m.a,intersect:b.a,clampRange:o.j,pinchDistance:v.b,pinchAngle:v.a,screen:k.b,containerSize:k.a,windowSize:k.c,bandspace:O.a,setdata:c.c,pathShape:$.b,panLinear:o.O,panLog:o.P,panPow:o.Q,panSymlog:o.R,zoomLinear:o.ib,zoomLog:o.jb,zoomPow:o.kb,zoomSymlog:o.lb,encode:l.a,modify:y.a},F=["view","item","group","xy","x","y"],D="event.vega.",S="this.",C={};function E(e,t,n){return 1===arguments.length?_[e]:(_[e]=t,n&&(C[e]=n),M&&(M.functions[e]=S+e),this)}E("bandwidth",O.b,A.c),E("copy",O.c,A.c),E("domain",O.d,A.c),E("range",O.g,A.c),E("invert",O.f,A.c),E("scale",O.h,A.c),E("gradient",j.a,A.c),E("geoArea",p.a,A.c),E("geoBounds",p.b,A.c),E("geoCentroid",p.c,A.c),E("geoShape",$.a,A.c),E("indata",c.b,A.b),E("data",c.a,A.a),E("treePath",x.b,A.a),E("treeAncestors",x.a,A.a),E("vlSelectionTest",a.b,a.c),E("vlSelectionResolve",a.a,a.c);const q={blacklist:["_"],whitelist:["datum","event","item"],fieldvar:"datum",globalvar:function(e){return"_["+Object(o.X)(w.d+e)+"]"},functions:function(e){const t=Object(r.f)(e);F.forEach(e=>t[e]=D+e);for(let e in _)t[e]=S+e;return t},constants:r.e,visitors:C};var M=Object(r.d)(q)},,,,,,,,,,function(e,t,n){"use strict";t.a=function(e){return null==e||""===e?null:+e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),i="_:mod:_";function a(){Object.defineProperty(this,i,{writable:!0,value:{}})}var u=a.prototype;u.set=function(e,t,n,a){var u=this,o=u[e],s=u[i];return null!=t&&t>=0?(o[t]!==n||a)&&(o[t]=n,s[t+":"+e]=-1,s[e]=-1):(o!==n||a)&&(u[e]=n,s[e]=Object(r.A)(n)?1+n.length:-1),u},u.modified=function(e,t){var n,a=this[i];if(!arguments.length){for(n in a)if(a[n])return!0;return!1}if(Object(r.A)(e)){for(n=0;n<e.length;++n)if(a[e[n]])return!0;return!1}return null!=t&&t>=0?t+1<a[e]||!!a[t+":"+e]:!!a[e]},u.clear=function(){return this[i]={},this}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(683),i=n(12),a=n(1);function u(e){i.g.call(this,{},e),this._keys=Object(a.s)();var t=this._targets=[];t.active=0,t.forEach=function(e){for(var n=0,r=t.active;n<r;++n)e(t[n],n,t)}}var o=Object(a.y)(u,i.g);o.activate=function(e){this._targets[this._targets.active++]=e},o.subflow=function(e,t,n,i){var u,o,s=this.value,f=Object(a.v)(s,e)&&s[e];return f?f.value.stamp<n.stamp&&(f.init(n),this.activate(f)):(o=i||(o=this._group[e])&&o.tuple,f=(u=n.dataflow).add(new r.a(n.fork(n.NO_SOURCE),this)).connect(t(u,e,o)),s[e]=f,this.activate(f)),f},o.transform=function(e,t){var n=t.dataflow,r=this,a=e.key,u=e.subflow,o=this._keys,s=e.modified("key");function f(e){return r.subflow(e,u,t)}return this._group=e.group||{},this._targets.active=0,t.visit(t.REM,(function(e){var t=Object(i.t)(e),n=o.get(t);void 0!==n&&(o.delete(t),f(n).rem(e))})),t.visit(t.ADD,(function(e){var t=a(e);o.set(Object(i.t)(e),t),f(t).add(e)})),s||t.modified(a.fields)?t.visit(t.MOD,(function(e){var t=Object(i.t)(e),n=o.get(t),r=a(e);n===r?f(r).mod(e):(o.set(t,r),f(n).rem(e),f(r).add(e))})):t.changed(t.MOD)&&t.visit(t.MOD,(function(e){f(o.get(Object(i.t)(e))).mod(e)})),s&&t.visit(t.REFLOW,(function(e){var t=Object(i.t)(e),n=o.get(t),r=a(e);n!==r&&(o.set(t,r),f(n).rem(e),f(r).add(e))})),o.empty>n.cleanThreshold&&n.runAfter(o.clean),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(159);function i(e){this.mark=e,this.bounds=this.bounds||new r.a}},function(e,t,n){"use strict";var r=n(159),i=n(162);t.a=function(e,t,n){var a=i.a[e.mark.marktype],u=t||a.bound;return a.nested&&(e=e.mark),u(e.bounds||(e.bounds=new r.a),e,n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(1),i=n(140),a={basis:{curve:i.c},"basis-closed":{curve:i.d},"basis-open":{curve:i.e},bundle:{curve:i.f,tension:"beta",value:.85},cardinal:{curve:i.g,tension:"tension",value:0},"cardinal-open":{curve:i.i,tension:"tension",value:0},"cardinal-closed":{curve:i.h,tension:"tension",value:0},"catmull-rom":{curve:i.j,tension:"alpha",value:.5},"catmull-rom-closed":{curve:i.k,tension:"alpha",value:.5},"catmull-rom-open":{curve:i.l,tension:"alpha",value:.5},linear:{curve:i.m},"linear-closed":{curve:i.n},monotone:{horizontal:i.p,vertical:i.o},natural:{curve:i.q},step:{curve:i.r},"step-after":{curve:i.s},"step-before":{curve:i.t}};function u(e,t,n){var i=Object(r.v)(a,e)&&a[e],u=null;return i&&(u=i.curve||i[t||"vertical"],i.tension&&null!=n&&(u=u[i.tension](n))),u}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(244),i=n(159),a=n(162),u=n(88),o=n(1379),s=n(1380),f=n(395),c=n(1);function l(e){r.a.call(this,e),this._redraw=!1,this._dirty=new i.a}var d=Object(c.y)(l,r.a),p=r.a.prototype,m=new i.a;d.initialize=function(e,t,n,r,i,a){return this._options=a,this._canvas=Object(f.a)(1,1,a&&a.type),e&&(Object(u.c)(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),p.initialize.call(this,e,t,n,r,i)},d.resize=function(e,t,n,r){return p.resize.call(this,e,t,n,r),Object(s.a)(this._canvas,this._width,this._height,this._origin,this._scale,this._options&&this._options.context),this._redraw=!0,this},d.canvas=function(){return this._canvas},d.context=function(){return this._canvas?this._canvas.getContext("2d"):null},d.dirty=function(e){var t=function(e,t){if(null==t)return e;for(var n=m.clear().union(e);null!=t;t=t.mark.group)n.translate(t.x||0,t.y||0);return n}(e.bounds,e.mark.group);this._dirty.union(t)},d._render=function(e){var t=this.context(),n=this._origin,r=this._width,i=this._height,a=this._dirty;return t.save(),this._redraw||a.empty()?(this._redraw=!1,a=null):a=function(e,t,n){return t.expand(1).round(),t.translate(-n[0]%1,-n[1]%1),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}(t,a,n),this.clear(-n[0],-n[1],r,i),this.draw(t,e,a),t.restore(),this._dirty.clear(),this},d.draw=function(e,t,n){var r=a.a[t.marktype];t.clip&&Object(o.a)(e,t),r.draw.call(this,e,t,n),t.clip&&e.restore()},d.clear=function(e,t,n,r){var i=this.context();i.clearRect(e,t,n,r),null!=this._bgcolor&&(i.fillStyle=this._bgcolor,i.fillRect(e,t,n,r))}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u}));var r=n(1658);const i="vg-tooltip-element",a={offsetX:10,offsetY:10,id:i,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")},maxDepth:2};function u(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return r.a.toString().replace(i,e)}},,function(e,t,n){"use strict";function r(e){return e&&e.length?1===e.length?e[0]:(t=e,function(e){for(var n=t.length,r=1,i=String(t[0](e));r<n;++r)i+="|"+t[r](e);return i}):function(){return""};var t}n.d(t,"a",(function(){return r}))},,function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return u}));var r=n(1);function i(e,t,n,i){let u=a[e](t,n);return{init:u.init||r.hb,update:function(e,t){t[i]=u.next(e)}}}const a={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{let n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{let n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){let e=a.rank(),t=e.next;return{init:e.init,next:e=>(t(e)-1)/(e.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{let n=t.index,r=t.data,i=t.compare;if(e<n){for(;n+1<r.length&&!i(r[n],r[n+1]);)++n;e=n}return(1+e)/r.length}}},ntile:function(e,t){(t=+t)>0||Object(r.n)("ntile num must be greater than zero.");let n=a.cume_dist(),i=n.next;return{init:n.init,next:e=>Math.ceil(t*i(e))}},lag:function(e,t){return t=+t||1,{next:n=>{let r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{let r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return(t=+t)>0||Object(r.n)("nth_value nth must be greater than zero."),{next:n=>{let r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){let t=null;return{next:n=>{let r=e(n.data[n.index]);return null!=r?t=r:t}}},next_value:function(e){let t=null,n=-1;return{next:r=>{let i=r.data;return r.index<=n?t:(n=function(e,t,n){for(let r=t.length;n<r;++n){if(null!=e(t[n]))return n}return-1}(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};var u=Object.keys(a)},,,,,,function(e,t,n){"use strict";t.a=function(e,t,n){var r={};return e.each((function(e){var i=e.data;n(i)&&(r[t(i)]=e)})),e.lookup=r,e}},,function(e,t,n){"use strict";t.a=function(e,t){return t?function(){try{t.apply(this,arguments)}catch(t){e.error(t)}}:null}},function(e,t,n){"use strict";function r(e){return(e+"").toLowerCase()}function i(e){return"operator"===r(e)}function a(e){return"collect"===r(e)}n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a}))},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return s}));var r=n(302),i=n(1);const a=r.f;function u(e,t,n){return this.pulse(e,this.changeset().insert(a(t,n)))}async function o(e,t){const n=this;let i,u=0;try{i=await n.loader().load(e,{context:"dataflow",response:Object(r.g)(t&&t.type)});try{i=a(i,t)}catch(t){u=-2,n.warn("Data ingestion failed",e,t)}}catch(t){u=-1,n.warn("Loading failed",e,t)}return{data:i,status:u}}async function s(e,t,n){const r=this,a=r._pending||function(e){var t,n=new Promise((function(e){t=e}));return n.requests=0,n.done=function(){0==--n.requests&&(e._pending=null,t(e))},e._pending=n}(r);a.requests+=1;const u=await r.request(t,n);return r.pulse(e,r.changeset().remove(i.eb).insert(u.data||[])),a.done(),u}},,,function(e,t,n){"use strict";var r=n(1280);n.d(t,"b",(function(){return r.a}));var i=n(1281);n.d(t,"a",(function(){return i.a}));var a=n(1282);n.d(t,"c",(function(){return a.a}))},function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return c}));var r="width",i="height",a="padding",u={skip:!0};function o(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===a?r.left+r.right:0)}function s(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===a?r.top+r.bottom:0)}function f(e){var t=e._signals,n=t[r],u=t[i],f=t[a];function c(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,(function(t){e._width=t.size,e._viewWidth=o(e,t.size),c()}),{size:n}),e._resizeHeight=e.add(null,(function(t){e._height=t.size,e._viewHeight=s(e,t.size),c()}),{size:u});var l=e.add(null,c,{pad:f});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=u.rank+1,l.rank=f.rank+1}function c(e,t,n,a,o,s){this.runAfter((function(f){var c=0;f._autosize=0,f.width()!==n&&(c=1,f.signal(r,n,u),f._resizeWidth.skip(!0)),f.height()!==a&&(c=1,f.signal(i,a,u),f._resizeHeight.skip(!0)),f._viewWidth!==e&&(f._resize=1,f._viewWidth=e),f._viewHeight!==t&&(f._resize=1,f._viewHeight=t),f._origin[0]===o[0]&&f._origin[1]===o[1]||(f._resize=1,f._origin=o),c&&f.run("enter"),s&&f.runAfter(e=>e.resize())}),!1,1)}},,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u}));var r=n(1),i={};function a(e){var t=u(e);return t&&t.Definition||null}function u(e){return e=e&&e.toLowerCase(),Object(r.v)(i,e)?i[e]:null}},function(e,t,n){"use strict";function r(e,t){if("undefined"!=typeof document&&document.createElement){var n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}function i(){return"undefined"!=typeof Image?Image:null}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}))},,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return o}));var r=n(21),i=Object(r.y)(),a=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function u(e,t){if(!e||"string"!=typeof e)throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(s[e]=function(e,t){return function n(){var i=t();return i.type=e,i.path=Object(r.y)().projection(i),i.copy=i.copy||function(){var e=n();return a.forEach((function(t){i[t]&&e[t](i[t]())})),e.path.pointRadius(i.path.pointRadius()),e},i}}(e,t),this):s[e]||null}function o(e){return e&&e.path||i}var s={albers:r.a,albersusa:r.b,azimuthalequalarea:r.d,azimuthalequidistant:r.f,conicconformal:r.k,conicequalarea:r.l,conicequidistant:r.m,equalEarth:r.n,equirectangular:r.o,gnomonic:r.p,identity:r.s,mercator:r.u,naturalEarth1:r.v,orthographic:r.x,stereographic:r.C,transversemercator:r.E};for(var f in s)u(f,s[f])},,,,,,,,function(e,t,n){"use strict";var r=n(199),i=n(379),a=n(351);t.a=function(e,t){var n=Object(i.a)(e),u="return _["+n.map(a.a).join("][")+"];";return Object(r.c)(Function("_",u),[e=1===n.length?n[0]:e],t||e)}},function(e,t,n){"use strict";t.a=function(e){return e===Object(e)}},function(e,t,n){"use strict";t.a=function(e){return"string"==typeof e}},function(e,t,n){"use strict";const r=Object.prototype.hasOwnProperty;t.a=function(e,t){return r.call(e,t)}},function(e,t,n){"use strict";t.a=function(e){return"[object Date]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";t.a=function(e){return"number"==typeof e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return o}));var r=n(319),i=n(1),a=0;function u(e,t,n){this.id=++a,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function o(e,t,n){return new u(e,t,n)}var s=u.prototype;s._filter=i.eb,s._apply=i.x,s.targets=function(){return this._targets||(this._targets=Object(r.a)(i.w))},s.consume=function(e){return arguments.length?(this._consume=!!e,this):!!this._consume},s.receive=function(e){if(this._filter(e)){for(var t=this.value=this._apply(e),n=this._targets,r=n?n.length:0,i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},s.filter=function(e){var t=o(e);return this.targets().add(t),t},s.apply=function(e){var t=o(null,e);return this.targets().add(t),t},s.merge=function(){var e=o();this.targets().add(e);for(var t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},s.throttle=function(e){var t=-1;return this.filter((function(){var n=Date.now();return n-t>e?(t=n,1):0}))},s.debounce=function(e){var t=o();return this.targets().add(o(null,null,Object(i.m)(e,(function(e){var n=e.dataflow;t.receive(e),n&&n.run&&n.run()})))),t},s.between=function(e,t){var n=!1;return e.targets().add(o(null,null,(function(){n=!0}))),t.targets().add(o(null,null,(function(){n=!1}))),this.filter((function(){return n}))}},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(277),i=n(1);function a(e,t,n,r){var i,a,u,o,s,f=this,c=0;for(this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n,u=0,o=n.length;u<o;++u)if((i=n[u]).stamp===t){if(i.fields)for(s in a=f.fields||(f.fields={}),i.fields)a[s]=1;i.changed(f.ADD)&&(c|=f.ADD),i.changed(f.REM)&&(c|=f.REM),i.changed(f.MOD)&&(c|=f.MOD)}this.changes=c}var u=Object(i.y)(a,r.b);u.fork=function(e){var t=new r.b(this.dataflow).init(this,e&this.NO_FIELDS);return void 0!==e&&(e&t.ADD&&this.visit(t.ADD,(function(e){return t.add.push(e)})),e&t.REM&&this.visit(t.REM,(function(e){return t.rem.push(e)})),e&t.MOD&&this.visit(t.MOD,(function(e){return t.mod.push(e)}))),t},u.changed=function(e){return this.changes&e},u.modified=function(e){var t=this,n=t.fields;return n&&t.changes&t.MOD?Object(i.A)(e)?e.some((function(e){return n[e]})):n[e]:0},u.filter=function(){Object(i.n)("MultiPulse does not support filtering.")},u.materialize=function(){Object(i.n)("MultiPulse does not support materialization.")},u.visit=function(e,t){var n=this,r=n.pulses,i=r.length,a=0;if(e&n.SOURCE)for(;a<i;++a)r[a].visit(e,t);else for(;a<i;++a)r[a].stamp===n.stamp&&r[a].visit(e,t);return n}},function(e,t,n){"use strict";var r=n(770),i=n(306),a=n(431);t.a=function(e,t){var n=Float64Array.from(Object(r.a)(e,t));return n.sort(i.a),[Object(a.a)(n,.25),Object(a.a)(n,.5),Object(a.a)(n,.75)]}},function(e,t,n){"use strict";var r=n(203);t.a=function(e,t){var n,i,a=NaN,u={mean:function(e){return arguments.length?(n=e||0,a=NaN,u):n},stdev:function(e){return arguments.length?(i=null==e?1:e,a=NaN,u):i},sample:function(){var e,t,u=0,o=0;if(a==a)return u=a,a=NaN,u;do{e=(u=2*Object(r.a)()-1)*u+(o=2*Object(r.a)()-1)*o}while(0===e||e>1);return t=Math.sqrt(-2*Math.log(e)/e),a=n+o*t*i,n+u*t*i},pdf:function(e){var t=Math.exp(Math.pow(e-n,2)/(-2*Math.pow(i,2)));return 1/(i*Math.sqrt(2*Math.PI))*t},cdf:function(e){var t,r=(e-n)/i,a=Math.abs(r);if(a>37)t=0;else{var u=Math.exp(-a*a/2);a<7.07106781186547?(t=u*((((((.0352624965998911*a+.700383064443688)*a+6.37396220353165)*a+33.912866078383)*a+112.079291497871)*a+221.213596169931)*a+220.206867912376),t/=((((((.0883883476483184*a+1.75566716318264)*a+16.064177579207)*a+86.7807322029461)*a+296.564248779674)*a+637.333633378831)*a+793.826512519948)*a+440.413735824752):t=u/(a+1/(a+2/(a+3/(a+4/(a+.65)))))/2.506628274631}return r>0?1-t:t},icdf:function(e){if(e<=0||e>=1)return NaN;var t=2*e-1,r=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),a=2/(Math.PI*r)+Math.log(1-Math.pow(t,2))/2,u=Math.log(1-t*t)/r,o=(t>0?1:-1)*Math.sqrt(Math.sqrt(a*a-u)-a);return n+i*Math.SQRT2*o}};return u.mean(e).stdev(t)}},function(e,t,n){"use strict";var r=n(325),i=n(206),a=n(273);t.a=function(e,t,n){let u=0,o=0,s=0,f=0,c=0;Object(i.b)(e,t,n,(e,t)=>{u+=e,o+=t,s+=e*t,f+=e*e,++c});const l=Object(r.a)(u/c,o/c,s/c,f/c),d=e=>l[0]+l[1]*e;return{coef:l,predict:d,rSquared:Object(a.a)(e,t,n,o/c,d)}}},function(e,t,n){"use strict";var r=n(206),i=n(273);t.a=function(e,t,n){let a=0,u=0,o=0,s=0,f=0,c=0,l=0,d=0;Object(r.b)(e,t,n,(e,t)=>{const n=e*e;a+=e,u+=t,o+=n,s+=n*e,f+=n*n,c+=e*t,l+=n*t,++d});const p=o-a*a/d,m=s-o*a/d,b=f-o*o/d,h=p*b-m*m,g=((l-=o*(u/=d))*p-(c-=a*u)*m)/h,y=(c*b-l*m)/h,v=u-y*(a/d)-g*(o/d),O=e=>g*e*e+y*e+v;return{coef:[v,y,g],predict:O,rSquared:Object(i.a)(e,t,n,u,O)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(12),i=n(1);function a(e,t){r.d.call(this,e),this.parent=t}var u=Object(i.y)(a,r.d);u.connect=function(e){return this.targets().add(e),e.source=this},u.add=function(e){this.value.add.push(e)},u.rem=function(e){this.value.rem.push(e)},u.mod=function(e){this.value.mod.push(e)},u.init=function(e){this.value.init(e,e.NO_SOURCE)},u.evaluate=function(){return this.value}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(589),i=n(1);function a(e){r.a.call(this,e),this.items=this.items||[]}Object(i.y)(a,r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(395),i=n(302);function a(e){this._pending=0,this._loader=e||Object(i.e)()}var u=a.prototype;function o(e){e._pending+=1}function s(e){e._pending-=1}u.pending=function(){return this._pending},u.sanitizeURL=function(e){var t=this;return o(t),t._loader.sanitize(e,{context:"href"}).then((function(e){return s(t),e})).catch((function(){return s(t),null}))},u.loadImage=function(e){var t=this,n=Object(r.b)();return o(t),t._loader.sanitize(e,{context:"image"}).then((function(e){var r=e.href;if(!r||!n)throw{url:r};var i=new n;return i.onload=function(){s(t),i.loaded=!0},i.onerror=function(){s(t),i.loaded=!1},i.src=r,i})).catch((function(e){return s(t),{loaded:!1,width:0,height:0,src:e&&e.url||""}}))},u.ready=function(){var e=this;return new Promise((function(t){!function n(r){e.pending()?setTimeout((function(){n(!0)}),10):t(r)}(!1)}))}},function(e,t,n){"use strict";var r=n(159),i=n(590),a=n(162),u={mark:null};t.a=function(e,t,n){var o,s,f,c,l=a.a[e.marktype],d=l.bound,p=e.items,m=p&&p.length;if(l.nested)return m?f=p[0]:(u.mark=e,f=u),c=Object(i.a)(f,d,n),t=t&&t.union(c)||c;if(t=t||e.bounds&&e.bounds.clear()||new r.a,m)for(o=0,s=p.length;o<s;++o)t.union(Object(i.a)(p[o],d,n));return e.bounds=t}},,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(353),i=n(499),a=n(97),u=n(1),o={circle:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,a.d)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,a=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-a),e.lineTo(i,-a),e.lineTo(0,-n),e.lineTo(-i,-a),e.lineTo(-r,-a),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=a.c*n,i=r-.5773502691896257*n,u=n/4;e.moveTo(0,-r-i),e.lineTo(-u,r-i),e.lineTo(u,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=a.c*n,i=r-.5773502691896257*n;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=a.c*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=a.c*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=a.c*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=a.c*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function s(e){return Object(u.v)(o,e)?o[e]:function(e){if(!Object(u.v)(f,e)){var t=Object(r.a)(e);f[e]={draw:function(e,n){Object(i.a)(e,t,0,0,Math.sqrt(n)/2)}}}return f[e]}(e)}var f={}},function(e,t,n){"use strict";var r=n(238);function i(e){return e.x}function a(e){return e.y}function u(e){return e.width}function o(e){return e.height}function s(e){return function(){return e}}t.a=function(){var e=i,t=a,n=u,f=o,c=s(0),l=null;function d(i,a,u){var o,s=null!=a?a:+e.call(this,i),d=null!=u?u:+t.call(this,i),p=+n.call(this,i),m=+f.call(this,i),b=+c.call(this,i);if(l||(l=o=Object(r.a)()),b<=0)l.rect(s,d,p,m);else{var h=s+p,g=d+m;l.moveTo(s+b,d),l.lineTo(h-b,d),l.quadraticCurveTo(h,d,h,d+b),l.lineTo(h,g-b),l.quadraticCurveTo(h,g,h-b,g),l.lineTo(s+b,g),l.quadraticCurveTo(s,g,s,g-b),l.lineTo(s,d+b),l.quadraticCurveTo(s,d,s+b,d),l.closePath()}if(o)return l=null,o+""||null}return d.x=function(t){return arguments.length?(e="function"==typeof t?t:s(+t),d):e},d.y=function(e){return arguments.length?(t="function"==typeof e?e:s(+e),d):t},d.width=function(e){return arguments.length?(n="function"==typeof e?e:s(+e),d):n},d.height=function(e){return arguments.length?(f="function"==typeof e?e:s(+e),d):f},d.cornerRadius=function(e){return arguments.length?(c="function"==typeof e?e:s(+e),d):c},d.context=function(e){return arguments.length?(l=null==e?null:e,d):l},d}},function(e,t,n){"use strict";var r=n(97),i=n(238);t.a=function(){var e,t,n,a,u,o,s,f,c=null;function l(e,t,n){var i=n/2;if(u){var a=s-t,l=e-o;if(a||l){var d=Math.sqrt(a*a+l*l),p=(a/=d)*f,m=(l/=d)*f,b=Math.atan2(l,a);c.moveTo(o-p,s-m),c.lineTo(e-a*i,t-l*i),c.arc(e,t,i,b-Math.PI,b),c.lineTo(o+p,s+m),c.arc(o,s,f,b,b+Math.PI)}else c.arc(e,t,i,0,r.d);c.closePath()}else u=1;o=e,s=t,f=i}function d(r){var o,s,f,d=r.length,p=!1;for(null==c&&(c=f=Object(i.a)()),o=0;o<=d;++o)!(o<d&&a(s=r[o],o,r))===p&&(p=!p)&&(u=0),p&&l(+e(s,o,r),+t(s,o,r),+n(s,o,r));if(f)return c=null,f+""||null}return d.x=function(t){return arguments.length?(e=t,d):e},d.y=function(e){return arguments.length?(t=e,d):t},d.size=function(e){return arguments.length?(n=e,d):n},d.defined=function(e){return arguments.length?(a=e,d):a},d.context=function(e){return arguments.length?(c=null==e?null:e,d):c},d}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(330),i=n(162),a=n(253),u=n(500),o=n(88),s=n(1);function f(e,t){r.a.call(this,e,t),this._down=null,this._touch=null,this._first=!0}var c=Object(s.y)(f,r.a);function l(e,t,n){return function(r){var i=this._active,a=this.pickEvent(r);a===i?this.fire(e,r):(i&&i.exit||this.fire(n,r),this._active=a,this.fire(t,r),this.fire(e,r))}}function d(e){return function(t){this.fire(e,t),this._active=null}}c.initialize=function(e,t,n){var i=this._canvas=e&&Object(o.e)(e,"canvas");if(i){var a=this;this.events.forEach((function(e){i.addEventListener(e,(function(t){c[e]?c[e].call(a,t):a.fire(e,t)}))}))}return r.a.prototype.initialize.call(this,e,t,n)},c.canvas=function(){return this._canvas},c.context=function(){return this._canvas.getContext("2d")},c.events=a.a,c.DOMMouseScroll=function(e){this.fire("mousewheel",e)},c.mousemove=l("mousemove","mouseover","mouseout"),c.dragover=l("dragover","dragenter","dragleave"),c.mouseout=d("mouseout"),c.dragleave=d("dragleave"),c.mousedown=function(e){this._down=this._active,this.fire("mousedown",e)},c.click=function(e){this._down===this._active&&(this.fire("click",e),this._down=null)},c.touchstart=function(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire("touchstart",e,!0)},c.touchmove=function(e){this.fire("touchmove",e,!0)},c.touchend=function(e){this.fire("touchend",e,!0),this._touch=null},c.fire=function(e,t,n){var r,i,u=n?this._touch:this._active,o=this._handlers[e];if(t.vegaType=e,e===a.b&&u&&u.href?this.handleHref(t,u,u.href):e!==a.d&&e!==a.c||this.handleTooltip(t,u,e!==a.c),o)for(r=0,i=o.length;r<i;++r)o[r].handler.call(this._obj,t,u)},c.on=function(e,t){var n=this.eventName(e),r=this._handlers;return this._handlerIndex(r[n],e,t)<0&&(r[n]||(r[n]=[])).push({type:e,handler:t}),this},c.off=function(e,t){var n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&r.splice(i,1),this},c.pickEvent=function(e){var t=Object(u.a)(e,this._canvas),n=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-n[0],t[1]-n[1])},c.pick=function(e,t,n,r,a){var u=this.context();return i.a[e.marktype].pick.call(this,u,e,t,n,r,a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(330),i=n(88),a=n(253),u=n(1);function o(e,t){r.a.call(this,e,t);var n=this;n._hrefHandler=f(n,(function(e,t){t&&t.href&&n.handleHref(e,t,t.href)})),n._tooltipHandler=f(n,(function(e,t){n.handleTooltip(e,t,e.type!==a.c)}))}var s=Object(u.y)(o,r.a);function f(e,t){return function(n){var r=n.target.__data__;n.vegaType=n.type,r=Array.isArray(r)?r[0]:r,t.call(e._obj,n,r)}}s.initialize=function(e,t,n){var u=this._svg;return u&&(u.removeEventListener(a.b,this._hrefHandler),u.removeEventListener(a.d,this._tooltipHandler),u.removeEventListener(a.c,this._tooltipHandler)),this._svg=u=e&&Object(i.e)(e,"svg"),u&&(u.addEventListener(a.b,this._hrefHandler),u.addEventListener(a.d,this._tooltipHandler),u.addEventListener(a.c,this._tooltipHandler)),r.a.prototype.initialize.call(this,e,t,n)},s.canvas=function(){return this._svg},s.on=function(e,t){var n=this.eventName(e),r=this._handlers;if(this._handlerIndex(r[n],e,t)<0){var i={type:e,handler:t,listener:f(this,t)};(r[n]||(r[n]=[])).push(i),this._svg&&this._svg.addEventListener(n,i.listener)}return this},s.off=function(e,t){var n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&(this._svg&&this._svg.removeEventListener(n,r[i].listener),r.splice(i,1)),this}},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(244),i=n(278),a=n(162),u=n(88),o=n(86),s=n(153),f=n(135),c=n(383),l=n(466),d=n(427),p=n(1),m=l.a.xmlns;function b(e){r.a.call(this,e),this._dirtyID=1,this._dirty=[],this._svg=null,this._root=null,this._defs=null}var h=Object(p.y)(b,r.a),g=r.a.prototype;function y(e,t,n){var r,a,o;if("radial"===t.gradient){var s=Object(u.b)(e,n++,"pattern",m);s.setAttribute("id",i.d+t.id),s.setAttribute("viewBox","0,0,1,1"),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("preserveAspectRatio","xMidYMid slice"),(s=Object(u.b)(s,0,"rect",m)).setAttribute("width","1"),s.setAttribute("height","1"),s.setAttribute("fill","url("+_()+"#"+t.id+")"),(e=Object(u.b)(e,n++,"radialGradient",m)).setAttribute("id",t.id),e.setAttribute("fx",t.x1),e.setAttribute("fy",t.y1),e.setAttribute("fr",t.r1),e.setAttribute("cx",t.x2),e.setAttribute("cy",t.y2),e.setAttribute("r",t.r2)}else(e=Object(u.b)(e,n++,"linearGradient",m)).setAttribute("id",t.id),e.setAttribute("x1",t.x1),e.setAttribute("x2",t.x2),e.setAttribute("y1",t.y1),e.setAttribute("y2",t.y2);for(r=0,a=t.stops.length;r<a;++r)(o=Object(u.b)(e,r,"stop",m)).setAttribute("offset",t.stops[r].offset),o.setAttribute("stop-color",t.stops[r].color);return Object(u.c)(e,r),n}function v(e,t,n){var r;return(e=Object(u.b)(e,n,"clipPath",m)).setAttribute("id",t.id),t.path?(r=Object(u.b)(e,0,"path",m)).setAttribute("d",t.path):((r=Object(u.b)(e,0,"rect",m)).setAttribute("x",0),r.setAttribute("y",0),r.setAttribute("width",t.width),r.setAttribute("height",t.height)),n+1}function O(e,t){for(;e&&e.dirty!==t;e=e.mark.group){if(e.dirty=t,!e.mark||e.mark.dirty===t)return;e.mark.dirty=t}}function j(e,t,n,r,i){var a,o=e._svg;if(!o&&(a=t.ownerDocument,o=Object(u.d)(a,r,m),e._svg=o,e.mark&&(o.__data__=e,o.__values__={fill:"default"},"g"===r))){var s=Object(u.d)(a,"path",m);s.setAttribute("class","background"),o.appendChild(s),s.__data__=e;var f=Object(u.d)(a,"g",m);o.appendChild(f),f.__data__=e}return(o.ownerSVGElement!==i||function(e){var t=e.mark||e.group;return t&&t.items.length>1}(e)&&o.previousSibling!==n)&&t.insertBefore(o,n?n.nextSibling:t.firstChild),o}h.initialize=function(e,t,n,r){return e&&(this._svg=Object(u.b)(e,0,"svg",m),this._svg.setAttribute("class","marks"),Object(u.c)(e,1),this._root=Object(u.b)(this._svg,0,"g",m),Object(u.c)(this._svg,1)),this._defs={gradient:{},clipping:{}},this.background(this._bgcolor),g.initialize.call(this,e,t,n,r)},h.background=function(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),g.background.apply(this,arguments)},h.resize=function(e,t,n,r){return g.resize.call(this,e,t,n,r),this._svg&&(this._svg.setAttribute("width",this._width*this._scale),this._svg.setAttribute("height",this._height*this._scale),this._svg.setAttribute("viewBox","0 0 "+this._width+" "+this._height),this._root.setAttribute("transform","translate("+this._origin+")")),this._dirty=[],this},h.canvas=function(){return this._svg},h.svg=function(){if(!this._svg)return null;var e={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(var t in l.a)e[t]=l.a[t];var n=this._bgcolor?Object(o.b)("rect",{width:this._width,height:this._height,style:"fill: "+this._bgcolor+";"})+Object(o.a)("rect"):"";return Object(o.b)("svg",e)+n+this._svg.innerHTML+Object(o.a)("svg")},h._render=function(e){return this._dirtyCheck()&&(this._dirtyAll&&this._resetDefs(),this.draw(this._root,e),Object(u.c)(this._root,1)),this.updateDefs(),this._dirty=[],++this._dirtyID,this},h.updateDefs=function(){var e,t=this._svg,n=this._defs,r=n.el,i=0;for(e in n.gradient)r||(n.el=r=Object(u.b)(t,0,"defs",m)),i=y(r,n.gradient[e],i);for(e in n.clipping)r||(n.el=r=Object(u.b)(t,0,"defs",m)),i=v(r,n.clipping[e],i);r&&(0===i?(t.removeChild(r),n.el=null):Object(u.c)(r,i))},h._resetDefs=function(){var e=this._defs;e.gradient={},e.clipping={}},h.dirty=function(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},h.isDirty=function(e){return this._dirtyAll||!e._svg||e.dirty===this._dirtyID},h._dirtyCheck=function(){this._dirtyAll=!0;var e=this._dirty;if(!e.length)return!0;var t,n,r,i,u,o,s,f=++this._dirtyID;for(u=0,o=e.length;u<o;++u)(n=(t=e[u]).mark).marktype!==r&&(r=n.marktype,i=a.a[r]),n.zdirty&&n.dirty!==f&&(this._dirtyAll=!1,O(t,f),n.items.forEach((function(e){e.dirty=f}))),n.zdirty||(t.exit?(i.nested&&n.items.length?(s=n.items[0])._svg&&this._update(i,s._svg,s):t._svg&&(s=t._svg.parentNode)&&s.removeChild(t._svg),t._svg=null):(t=i.nested?n.items[0]:t)._update!==f&&(t._svg&&t._svg.ownerSVGElement?this._update(i,t._svg,t):(this._dirtyAll=!1,O(t,f)),t._update=f));return!this._dirtyAll},h.draw=function(e,t,n){if(!this.isDirty(t))return t._svg;var r,i=this,o=this._svg,s=a.a[t.marktype],l=!1===t.interactive?"none":null,d="g"===s.tag,p=null,m=0;function b(e){var t=i.isDirty(e),n=j(e,r,p,s.tag,o);t&&(i._update(s,n,e),d&&function(e,t,n){t=t.lastChild;var r,i=0;Object(f.b)(n,(function(n){r=e.draw(t,n,r),++i})),Object(u.c)(t,1+i)}(i,n,e)),p=n,++m}return(r=j(t,e,n,"g",o)).setAttribute("class",Object(u.a)(t)),d||r.style.setProperty("pointer-events",l),t.clip?r.setAttribute("clip-path",Object(c.a)(i,t,t.group)):r.removeAttribute("clip-path"),s.nested?t.items.length&&b(t.items[0]):Object(f.b)(t,b),Object(u.c)(r,m),r};var $=null,x=null,k={group:function(e,t,n){x=t.__values__,$=t.childNodes[1],e.foreground(w,n,this),$=t.childNodes[0],e.background(w,n,this);var r=!1===n.mark.interactive?"none":null;r!==x.events&&($.style.setProperty("pointer-events",r),x.events=r)},text:function(e,t,n){var r;(r=Object(s.f)(n))!==x.text&&(t.textContent=r,x.text=r),A(t,"font-family",Object(s.b)(n)),A(t,"font-size",Object(s.c)(n)+"px"),A(t,"font-style",n.fontStyle),A(t,"font-variant",n.fontVariant),A(t,"font-weight",n.fontWeight)}};function A(e,t,n){n!==x[t]&&(null==n?e.style.removeProperty(t):e.style.setProperty(t,n+""),x[t]=n)}function w(e,t,n){t!==x[e]&&(null!=t?n?$.setAttributeNS(n,e,t):$.setAttribute(e,t):n?$.removeAttributeNS(n,e):$.removeAttribute(e),x[e]=t)}function _(){var e;return"undefined"==typeof window?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}h._update=function(e,t,n){$=t,x=t.__values__,e.attr(w,n,this);var r=k[e.type];r&&r.call(this,e,t,n),this.style($,n)},h.style=function(e,t){var n,r,a,u,o;if(null!=t)for(n=0,r=d.a.length;n<r;++n)o=t[a=d.a[n]],"font"===a&&(o=Object(s.b)(t)),o!==x[a]&&(u=d.b[a],null==o?"fill"===u?e.style.setProperty(u,"none"):e.style.removeProperty(u):(Object(i.c)(o)&&(o=Object(i.b)(o,this._defs.gradient,_())),e.style.setProperty(u,o+"")),x[a]=o)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(244),i=n(278),a=n(162),u=n(88),o=n(86),s=n(153),f=n(135),c=n(383),l=n(466),d=n(427),p=n(1);function m(e){r.a.call(this,e),this._text={head:"",bg:"",root:"",foot:"",defs:"",body:""},this._defs={gradient:{},clipping:{}}}var b,h=Object(p.y)(m,r.a),g=r.a.prototype;function y(e,t,n,r){b[r||e]=t}function v(e,t,n,r){if(null==e)return"";var a,u,o,f,c,l="";for("bgrect"===n&&!1===t.interactive&&(l+="pointer-events: none; "),"text"===n&&(l+="font-family: "+Object(s.b)(e)+"; ",l+="font-size: "+Object(s.c)(e)+"px; ",e.fontStyle&&(l+="font-style: "+e.fontStyle+"; "),e.fontVariant&&(l+="font-variant: "+e.fontVariant+"; "),e.fontWeight&&(l+="font-weight: "+e.fontWeight+"; ")),a=0,u=d.a.length;a<u;++a)o=d.a[a],f=d.b[o],null==(c=e[o])?"fill"===f&&(l+="fill: none; "):"transparent"!==c||"fill"!==f&&"stroke"!==f?(Object(i.c)(c)&&(c=Object(i.b)(c,r.gradient,"")),l+=f+": "+c+"; "):l+=f+": none; ";return l?'style="'+l.trim()+'"':null}h.resize=function(e,t,n,r){g.resize.call(this,e,t,n,r);var i=this._origin,a=this._text,u={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(var s in l.a)u[s]=l.a[s];a.head=Object(o.b)("svg",u);var f=this._bgcolor;return"transparent"!==f&&"none"!==f||(f=null),a.bg=f?Object(o.b)("rect",{width:this._width,height:this._height,style:"fill: "+f+";"})+Object(o.a)("rect"):"",a.root=Object(o.b)("g",{transform:"translate("+i+")"}),a.foot=Object(o.a)("g")+Object(o.a)("svg"),this},h.background=function(){var e=g.background.apply(this,arguments);return arguments.length&&this._text.head&&this.resize(this._width,this._height,this._origin,this._scale),e},h.svg=function(){var e=this._text;return e.head+e.bg+e.defs+e.root+e.body+e.foot},h._render=function(e){return this._text.body=this.mark(e),this._text.defs=this.buildDefs(),this},h.buildDefs=function(){var e,t,n,r,a,u=this._defs,s="";for(t in u.gradient){for(a=(n=u.gradient[t]).stops,"radial"===n.gradient?(s+=Object(o.b)(r="pattern",{id:i.d+t,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),s+=Object(o.b)("rect",{width:"1",height:"1",fill:"url(#"+t+")"})+Object(o.a)("rect"),s+=Object(o.a)(r),s+=Object(o.b)(r="radialGradient",{id:t,fx:n.x1,fy:n.y1,fr:n.r1,cx:n.x2,cy:n.y2,r:n.r2})):s+=Object(o.b)(r="linearGradient",{id:t,x1:n.x1,x2:n.x2,y1:n.y1,y2:n.y2}),e=0;e<a.length;++e)s+=Object(o.b)("stop",{offset:a[e].offset,"stop-color":a[e].color})+Object(o.a)("stop");s+=Object(o.a)(r)}for(t in u.clipping)n=u.clipping[t],s+=Object(o.b)("clipPath",{id:t}),n.path?s+=Object(o.b)("path",{d:n.path})+Object(o.a)("path"):s+=Object(o.b)("rect",{x:0,y:0,width:n.width,height:n.height})+Object(o.a)("rect"),s+=Object(o.a)("clipPath");return s.length>0?Object(o.b)("defs")+s+Object(o.a)("defs"):""},h.attributes=function(e,t){return b={},e(y,t,this),b},h.href=function(e){var t,n=this,r=e.href;if(r){if(t=n._hrefs&&n._hrefs[r])return t;n.sanitizeURL(r).then((function(e){e["xlink:href"]=e.href,e.href=null,(n._hrefs||(n._hrefs={}))[r]=e}))}return null},h.mark=function(e){var t,n=this,r=a.a[e.marktype],i=r.tag,l=this._defs,d="";function p(a){var u=n.href(a);u&&(d+=Object(o.b)("a",u)),t="g"!==i?v(a,e,i,l):null,d+=Object(o.b)(i,n.attributes(r.attr,a),t),"text"===i?d+=Object(s.f)(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):"g"===i&&(d+=Object(o.b)("path",n.attributes(r.background,a),v(a,e,"bgrect",l))+Object(o.a)("path"),d+=Object(o.b)("g",n.attributes(r.foreground,a))+n.markGroup(a)+Object(o.a)("g")),d+=Object(o.a)(i),u&&(d+=Object(o.a)("a"))}return"g"!==i&&!1===e.interactive&&(t='style="pointer-events: none;"'),d+=Object(o.b)("g",{class:Object(u.a)(e),"clip-path":e.clip?Object(c.a)(n,e,e.group):null},t),r.nested?e.items&&e.items.length&&p(e.items[0]):Object(f.b)(e,p),d+Object(o.a)("g")},h.markGroup=function(e){var t=this,n="";return Object(f.b)(e,(function(e){n+=t.mark(e)})),n}},function(e,t,n){"use strict";t.a=function(e,t,n){var r=e-t+2*n;return e?r>0?r:1:0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return $}));var r=n(1),i=n(1383),a=n(1384),u=n(53),o=n(1002),s=n(1385),f=n(2011),c=n(258),l=n(604),d=n(554),p=n(605),m=n(1008),b=n(2012),h=n(316),g=n(651),y=n(2013),v=n(2014),O=n(2015),j=n(1003);function $(e,t){return arguments.length>1?(x[e]=function(e,t){return function(){var n=t();return n.invertRange||(n.invertRange=n.invert?Object(i.a)(n):n.invertExtent?Object(a.a)(n):void 0),n.type=e,n}}(e,t),this):Object(r.v)(x,e)?x[e]:void 0}var x={[u.d]:f.a,[u.e]:c.a,[u.f]:l.a,[u.i]:d.a,[u.m]:d.c,[u.n]:p.a,[u.p]:m.b,[u.q]:b.a,[u.l]:h.b,[u.l+"-"+u.e]:h.b,[u.l+"-"+u.f]:h.c,[u.l+"-"+u.i]:h.d,[u.l+"-"+u.m]:h.e,[u.l+"-"+u.n]:h.f,[u.c+"-"+u.e]:g.a,[u.c+"-"+u.f]:g.b,[u.c+"-"+u.i]:g.c,[u.c+"-"+u.m]:g.d,[u.c+"-"+u.n]:g.e,[u.j]:y.a,[u.k]:v.a,[u.o]:O.a,[u.b]:s.a,[u.g]:j.a,[u.a]:o.a,[u.h]:o.b};for(var k in x)$(k,x[k])},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";t.a={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"}},function(e,t,n){"use strict";var r=n(1);t.a=function(e){function t(t,n,r){return function(i){return function(t,n,r,i){var a=e(n[0]);return r&&(a=r+"("+a+")",0===r.lastIndexOf("new ",0)&&(a="("+a+")")),a+"."+t+(i<0?"":0===i?"()":"("+n.slice(1).map(e).join(",")+")")}(t,i,n,r)}}var n="new Date";return{isNaN:"isNaN",isFinite:"isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(t){t.length<3&&Object(r.n)("Missing arguments to clamp function."),t.length>3&&Object(r.n)("Too many arguments to clamp function.");var n=t.map(e);return"Math.max("+n[1]+", Math.min("+n[2]+","+n[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:n,date:t("getDate",n,0),day:t("getDay",n,0),year:t("getFullYear",n,0),month:t("getMonth",n,0),hours:t("getHours",n,0),minutes:t("getMinutes",n,0),seconds:t("getSeconds",n,0),milliseconds:t("getMilliseconds",n,0),time:t("getTime",n,0),timezoneoffset:t("getTimezoneOffset",n,0),utcdate:t("getUTCDate",n,0),utcday:t("getUTCDay",n,0),utcyear:t("getUTCFullYear",n,0),utcmonth:t("getUTCMonth",n,0),utchours:t("getUTCHours",n,0),utcminutes:t("getUTCMinutes",n,0),utcseconds:t("getUTCSeconds",n,0),utcmilliseconds:t("getUTCMilliseconds",n,0),length:t("length",null,-1),join:t("join",null),indexof:t("indexOf",null),lastindexof:t("lastIndexOf",null),slice:t("slice",null),reverse:function(t){return"("+e(t[0])+").slice().reverse()"},parseFloat:"parseFloat",parseInt:"parseInt",upper:t("toUpperCase","String",0),lower:t("toLowerCase","String",0),substring:t("substring","String"),split:t("split","String"),replace:t("replace","String"),trim:t("trim","String",0),regexp:"RegExp",test:t("test","RegExp"),if:function(t){t.length<3&&Object(r.n)("Missing arguments to if function."),t.length>3&&Object(r.n)("Too many arguments to if function.");var n=t.map(e);return"("+n[0]+"?"+n[1]+":"+n[2]+")"}}}},function(e,t,n){"use strict";t.a=function(e,t,n){if(e){const n=this.context.dataflow,r=e.mark.source;n.pulse(r,n.changeset().encode(e,t))}return void 0!==n?n:e}},function(e,t,n){"use strict";t.a=function(e){let t=this.context.group,n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}},function(e,t,n){"use strict";var r=n(1);t.a=function(){var e=[].slice.call(arguments);return e.unshift({}),r.o.apply(null,e)}},function(e,t,n){"use strict";var r=n(12),i=n(1);function a(e,t){return e===t||e!=e&&t!=t||(Object(i.A)(e)?!(!Object(i.A)(t)||e.length!==t.length)&&function(e,t){for(let n=0,r=e.length;n<r;++n)if(!a(e[n],t[n]))return!1;return!0}(e,t):!(!Object(i.F)(e)||!Object(i.F)(t))&&u(e,t))}function u(e,t){for(let n in e)if(!a(e[n],t[n]))return!1;return!0}function o(e){return t=>u(e,t)}t.a=function(e,t,n,a,u,s){let f,c,l=this.context.dataflow,d=this.context.data[e],p=d.input,m=d.changes,b=l.stamp();if(!1===l._trigger||!(p.value.length||t||a))return 0;if((!m||m.stamp<b)&&(d.changes=m=l.changeset(),m.stamp=b,l.runAfter((function(){d.modified=!0,l.pulse(p,m).run()}),!0,1)),n&&(f=!0===n?i.eb:Object(i.A)(n)||Object(r.n)(n)?n:o(n),m.remove(f)),t&&m.insert(t),a&&(f=o(a),p.value.some(f)?m.remove(f):m.insert(a)),u)for(c in s)m.modify(u,c,s[c]);return 1}},function(e,t,n){"use strict";var r=n(151),i=n(42),a=n(76),u=n(1);t.a=function(e,t,n,o,s){e=Object(r.e)(e,(s||this).context);const f=Object(a.d)(t,n);let c=e.domain(),l=c[0],d=Object(u.S)(c),p=u.x;return d-l?p=Object(i.D)(e,l,d):e=(e.interpolator?Object(i.C)("sequential")().interpolator(e.interpolator()):Object(i.C)("linear")().interpolate(e.interpolate()).range(e.range())).domain([l=0,d=1]),e.ticks&&(l!==(c=e.ticks(+o||15))[0]&&c.unshift(l),d!==Object(u.S)(c)&&c.push(d)),c.forEach(t=>f.stop(p(t),e(t))),f}},function(e,t,n){"use strict";var r=n(1024),i=n(1444),a=n(1445);t.a=function(e,t){var n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),n.forEach((function(e){Object(r.a)(e,t)})),n.forEach((function(e){Object(r.b)(e,t)})),(e.streams||[]).forEach((function(e){Object(i.a)(e,t)})),(e.updates||[]).forEach((function(e){Object(a.a)(e,t)})),t.resolve()}},function(e,t,n){"use strict";var r=n(184),i=n(1452),a=n(1);t.a=function(e,t){var n=t.getSignal(e.name),u=e.update;e.init&&(u?Object(a.n)("Signals can not include both init and update expressions."):(u=e.init,n.initonly=!0)),u&&(u=Object(r.a)(u,t),n.update=u.$expr,n.params=u.$params),e.on&&e.on.forEach((function(e){Object(i.a)(e,t,n.id)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(184),i=n(29),a=n(1),u="timer";function o(e,t){return(e.merge?s:e.stream?f:e.type?c:Object(a.n)("Invalid stream specification: "+Object(a.X)(e)))(e,t)}function s(e,t){var n=l({merge:e.merge.map(e=>o(e,t))},e,t);return t.addStream(n).id}function f(e,t){var n=l({stream:o(e.stream,t)},e,t);return t.addStream(n).id}function c(e,t){var n,r,a;return e.type===u?(n=t.event(u,e.throttle),e={between:e.between,filter:e.filter}):n=t.event((a=e.source)===i.c?i.d:a||i.d,e.type),r=l({stream:n},e,t),1===Object.keys(r).length?n:t.addStream(r).id}function l(e,t,n){var u,s,f,c,l=t.between;return l&&(2!==l.length&&Object(a.n)('Stream "between" parameter must have 2 entries: '+Object(a.X)(t)),e.between=[o(l[0],n),o(l[1],n)]),l=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&l.push((u=t.marktype,s=t.markname,f=t.markrole,(c="event.item")+(u&&"*"!==u?"&&"+c+".mark.marktype==='"+u+"'":"")+(f?"&&"+c+".mark.role==='"+f+"'":"")+(s?"&&"+c+".mark.name==='"+s+"'":""))),t.source===i.c&&l.push("inScope(event.item)"),l.length&&(e.filter=Object(r.a)("("+l.join(")&&(")+")").$expr),null!=(l=t.throttle)&&(e.throttle=+l),null!=(l=t.debounce)&&(e.debounce=+l),t.consume&&(e.consume=!0),e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(323),i=n(29),a=n(184),u=n(54),o=n(1);function s(e){this.config=e,this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.background=null,this.eventConfig=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function f(e){this.config=e.config,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}var c=s.prototype=f.prototype;function l(e){return(Object(o.A)(e)?d:p)(e)}function d(e){for(var t,n="[",r=0,i=e.length;r<i;++r)t=e[r],n+=(r>0?",":"")+(Object(o.F)(t)?t.signal||l(t):Object(o.X)(t));return n+"]"}function p(e){var t,n,r="{",i=0;for(t in e)n=e[t],r+=(++i>1?",":"")+Object(o.X)(t)+":"+(Object(o.F)(n)?n.signal||l(n):Object(o.X)(n));return r+"}"}c.fork=function(){return new f(this)},c.isSubscope=function(){return this._subid>0},c.toRuntime=function(){return this.finish(),{background:this.background,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig}},c.id=function(){return(this._subid?this._subid+":":0)+this._id++},c.add=function(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach((function(t){t.$ref=e.id})),e.refs=null),e},c.proxy=function(e){var t=e instanceof i.b?Object(i.p)(e):e;return this.add(Object(u.u)({value:t}))},c.addStream=function(e){return this.streams.push(e),e.id=this.id(),e},c.addUpdate=function(e){return this.updates.push(e),e},c.finish=function(){var e,t;for(e in this.root&&(this.root.root=!0),this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(e,t,n){var r;e&&((r=e.data||(e.data={}))[t]||(r[t]=[])).push(n)}for(e in this.data)for(var r in n((t=this.data[e]).input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values"),t.index)n(t.index[r],e,"index:"+r);return this},c.pushState=function(e,t,n){this._encode.push(Object(i.p)(this.add(Object(u.y)({pulse:e})))),this._parent.push(t),this._lookup.push(n?Object(i.p)(this.proxy(n)):null),this._markpath.push(-1)},c.popState=function(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},c.parent=function(){return Object(o.S)(this._parent)},c.encode=function(){return Object(o.S)(this._encode)},c.lookup=function(){return Object(o.S)(this._lookup)},c.markpath=function(){var e=this._markpath;return++e[e.length-1]},c.fieldRef=function(e,t){if(Object(o.H)(e))return Object(i.i)(e,t);e.signal||Object(o.n)("Unsupported field reference: "+Object(o.X)(e));var n,r=e.signal,a=this.field[r];return a||(n={name:this.signalRef(r)},t&&(n.as=t),this.field[r]=a=Object(i.p)(this.add(Object(u.j)(n)))),a},c.compareRef=function(e){function t(e){return Object(i.l)(e)?(r=!0,n.signalRef(e.signal)):Object(i.k)(e)?(r=!0,n.exprRef(e.expr)):e}var n=this,r=!1,a=Object(o.i)(e.field).map(t),s=Object(o.i)(e.order).map(t);return r?Object(i.p)(this.add(Object(u.e)({fields:a,orders:s}))):Object(i.f)(a,s)},c.keyRef=function(e,t){var n=this.signals,r=!1;return e=Object(o.i)(e).map((function(e){return Object(i.l)(e)?(r=!0,Object(i.p)(n[e.signal])):e})),r?Object(i.p)(this.add(Object(u.k)({fields:e,flat:t}))):Object(i.n)(e,t)},c.sortRef=function(e){if(!e)return e;var t=Object(i.e)(e.op,e.field),n=e.order||i.a;return n.signal?Object(i.p)(this.add(Object(u.e)({fields:t,orders:this.signalRef(n.signal)}))):Object(i.f)(t,n)},c.event=function(e,t){var n=e+":"+t;if(!this.events[n]){var r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},c.hasOwnSignal=function(e){return Object(o.v)(this.signals,e)},c.addSignal=function(e,t){this.hasOwnSignal(e)&&Object(o.n)("Duplicate signal name: "+Object(o.X)(e));var n=t instanceof i.b?t:this.add(Object(i.o)(t));return this.signals[e]=n},c.getSignal=function(e){return this.signals[e]||Object(o.n)("Unrecognized signal name: "+Object(o.X)(e)),this.signals[e]},c.signalRef=function(e){return this.signals[e]?Object(i.p)(this.signals[e]):(Object(o.v)(this.lambdas,e)||(this.lambdas[e]=this.add(Object(i.o)(null))),Object(i.p)(this.lambdas[e]))},c.parseLambdas=function(){for(var e=Object.keys(this.lambdas),t=0,n=e.length;t<n;++t){var r=e[t],i=Object(a.a)(r,this),u=this.lambdas[r];u.params=i.$params,u.update=i.$expr}},c.property=function(e){return e&&e.signal?this.signalRef(e.signal):e},c.objectProperty=function(e){return e&&Object(o.F)(e)?this.signalRef(e.signal||l(e)):e},c.exprRef=function(e,t){var n={expr:Object(a.a)(e,this)};return t&&(n.expr.$name=t),Object(i.p)(this.add(Object(u.h)(n)))},c.addBinding=function(e,t){this.bindings||Object(o.n)("Nested signals do not support binding: "+Object(o.X)(e)),this.bindings.push(Object(o.o)({signal:e},t))},c.addScaleProj=function(e,t){Object(o.v)(this.scales,e)&&Object(o.n)("Duplicate scale or projection name: "+Object(o.X)(e)),this.scales[e]=this.add(t)},c.addScale=function(e,t){this.addScaleProj(e,Object(u.x)(t))},c.addProjection=function(e,t){this.addScaleProj(e,Object(u.t)(t))},c.getScale=function(e){return this.scales[e]||Object(o.n)("Unrecognized scale name: "+Object(o.X)(e)),this.scales[e]},c.projectionRef=c.scaleRef=function(e){return Object(i.p)(this.getScale(e))},c.projectionType=c.scaleType=function(e){return this.getScale(e).params.type},c.addData=function(e,t){return Object(o.v)(this.data,e)&&Object(o.n)("Duplicate data set name: "+Object(o.X)(e)),this.data[e]=t},c.getData=function(e){return this.data[e]||Object(o.n)("Undefined data set name: "+Object(o.X)(e)),this.data[e]},c.addDataPipeline=function(e,t){return Object(o.v)(this.data,e)&&Object(o.n)("Duplicate data set name: "+Object(o.X)(e)),this.addData(e,r.a.fromEntries(this,t))}},function(e,t,n){"use strict";var r=n(1);function i(e,t,n,a){var u,o;if(Object(r.F)(n)&&!Object(r.A)(n))for(u in o=Object(r.F)(e[t])?e[t]:e[t]={},n)a&&(!0===a||a[u])?i(o,u,n[u]):o[u]=n[u];else e[t]=n}function a(e,t){if(null==e)return t;const n={},r=[];function i(e){n[e.name]||(n[e.name]=1,r.push(e))}return t.forEach(i),e.forEach(i),r}t.a=function(e){return(e||[]).reduce((e,t)=>{for(var n in t)if("signals"===n)e.signals=a(e.signals,t.signals);else{var r="legend"===n?{layout:1}:"style"===n||null;i(e,n,t[n],r)}return e},{padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:f},area:{fill:f},image:null,line:{stroke:f,strokeWidth:s},path:{stroke:f},rect:{fill:f},rule:{stroke:c},shape:{stroke:f},symbol:{fill:f,size:64},text:{fill:c,font:u,fontSize:11},style:{"guide-label":{fill:c,font:u,fontSize:10},"guide-title":{fill:c,font:u,fontSize:11,fontWeight:"bold"},"group-title":{fill:c,font:u,fontSize:13,fontWeight:"bold"},point:{size:o,strokeWidth:s,shape:"circle"},circle:{size:o,strokeWidth:s},square:{size:o,strokeWidth:s,shape:"square"},cell:{fill:"transparent",stroke:d}},title:{orient:"top",anchor:"middle",offset:4},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:l,grid:!1,gridWidth:1,gridColor:d,labels:!0,labelAngle:0,labelLimit:180,labelPadding:2,ticks:!0,tickColor:l,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-1},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:d,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:l,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}})};var u="sans-serif",o=30,s=2,f="#4c78a8",c="#000",l="#888",d="#ddd"},,function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(597),i=n(752),a=n(753);class u{constructor(e){this.options=Object.assign(Object.assign({},r.a),e);const t=this.options.id;if(this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const e=document.createElement("style");e.setAttribute("id",this.options.styleId),e.innerHTML=Object(r.b)(t);const n=document.head;n.childNodes.length>0?n.insertBefore(e,n.childNodes[0]):n.appendChild(e)}this.el=document.getElementById(t),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",t),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))}tooltipHandler(e,t,n,r){if(null==r||""===r)return void this.el.classList.remove("visible",`${this.options.theme}-theme`);this.el.innerHTML=Object(i.a)(r,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:u,y:o}=Object(a.a)(t,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.setAttribute("style",`top: ${o}px; left: ${u}px`)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u}));var r=n(1),i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function a(e,t,n){if(Object(r.A)(e))return`[${e.map(e=>t(Object(r.H)(e)?e:u(e,n))).join(", ")}]`;if(Object(r.F)(e)){let a="";const o=e,{title:s}=o,f=i(o,["title"]);s&&(a+=`<h2>${t(s)}</h2>`);const c=Object.keys(f);if(c.length>0){a+="<table>";for(const e of c){let i=f[e];void 0!==i&&(Object(r.F)(i)&&(i=u(i,n)),a+=`<tr><td class="key">${t(e)}:</td><td class="value">${t(i)}</td></tr>`)}a+="</table>"}return a||"{}"}return t(e)}function u(e,t){return JSON.stringify(e,function(e){const t=[];return function(n,r){if("object"!=typeof r||null===r)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}(t))}},function(e,t,n){"use strict";function r(e,t,n,r){let i=e.clientX+n;i+t.width>window.innerWidth&&(i=+e.clientX-n-t.width);let a=e.clientY+r;return a+t.height>window.innerHeight&&(a=+e.clientY-r-t.height),{x:i,y:a}}n.d(t,"a",(function(){return r}))},,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var r=n(1);function i(t,n){const i=n&&n.property?Object(r.t)(n.property):r.x;return!Object(r.F)(t)||(a=t,"function"==typeof e&&Object(r.D)(e.isBuffer)&&e.isBuffer(a))?i(JSON.parse(t)):function(e,t){return t&&t.copy?JSON.parse(JSON.stringify(e)):e}(i(t));var a}i.responseType="json"}).call(this,n(1095).Buffer)},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),i=n(105),a=n(1);function u(e){this._key=e?Object(a.t)(e):r.t,this.reset()}var o=u.prototype;o.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},o.add=function(e){this._add.push(e)},o.rem=function(e){this._rem.push(e)},o.values=function(){if(this._get=null,0===this._rem.length)return this._add;var e,t,n,r=this._add,i=this._rem,a=this._key,u=r.length,o=i.length,s=Array(u-o),f={};for(e=0;e<o;++e)f[a(i[e])]=1;for(e=0,t=0;e<u;++e)f[a(n=r[e])]?f[a(n)]=0:s[t++]=n;return this._rem=[],this._add=s},o.distinct=function(e){for(var t,n=this.values(),r=n.length,i={},u=0;--r>=0;)t=e(n[r])+"",Object(a.v)(i,t)||(i[t]=1,++u);return u},o.extent=function(e){if(this._get!==e||!this._ext){var t=this.values(),n=Object(a.q)(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext},o.argmin=function(e){return this.extent(e)[0]||{}},o.argmax=function(e){return this.extent(e)[1]||{}},o.min=function(e){var t=this.extent(e)[0];return null!=t?e(t):void 0},o.max=function(e){var t=this.extent(e)[1];return null!=t?e(t):void 0},o.quartile=function(e){return this._get===e&&this._q||(this._q=Object(i.c)(this.values(),e),this._get=e),this._q},o.q1=function(e){return this.quartile(e)[0]},o.q2=function(e){return this.quartile(e)[1]},o.q3=function(e){return this.quartile(e)[2]},o.ci=function(e){return this._get===e&&this._ci||(this._ci=Object(i.b)(this.values(),1e3,.05,e),this._get=e),this._ci},o.ci0=function(e){return this.ci(e)[0]},o.ci1=function(e){return this.ci(e)[1]}},function(e,t,n){"use strict";t.a=function*(e,t){if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(yield t);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}},function(e,t,n){"use strict";var r=n(1);t.a=function(e,t,n){var i=e,a=t||[],u=n||[],o={},s=0;return{add:function(e){u.push(e)},remove:function(e){o[i(e)]=++s},size:function(){return a.length},data:function(e,t){return s&&(a=a.filter((function(e){return!o[i(e)]})),o={},s=0),t&&e&&a.sort(e),u.length&&(a=e?Object(r.L)(e,a,u.sort(e)):a.concat(u),u=[]),a}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1);function i(e,t){return e?e.map((function(e,n){return t[n]||Object(r.h)(e)})):null}},function(e,t,n){"use strict";var r=n(278),i=n(1366);t.a=function(e,t,n){return Object(r.c)(n)?Object(i.a)(e,n,t.bounds):n}},,,,,,,,,,,,,,function(e,t,n){"use strict";t.a=function(e,t){var n,r,i,a,u,o,s=[],f=function(e){return e(a)};if(null==t)s.push(e);else for(n={},r=0,i=e.length;r<i;++r)a=e[r],(o=n[u=t.map(f)])||(n[u]=o=[],o.dims=u,s.push(o)),o.push(a);return s}},function(e,t,n){"use strict";var r=n(332);t.a=function(e,t,n,i,a,u){return(t=t||new i(e.loader())).initialize(n,Object(r.d)(e),Object(r.a)(e),Object(r.b)(e),a,u).background(e._background)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(745),i=n(274),a=n(12),u=n(1);function o(e,t,n){var r,i;for(r in n=n||{},e)i=e[r],n[r]=Object(u.A)(i)?i.map((function(e){return s(e,t,n)})):s(i,t,n);return n}function s(e,t,n){if(!e||!Object(u.F)(e))return e;for(var r,i=0,a=f.length;i<a;++i)if(r=f[i],Object(u.v)(e,r.key))return r.parse(e,t,n);return e}var f=[{key:"$ref",parse:function(e,t){return t.get(e.$ref)||Object(u.n)("Operator not defined: "+e.$ref)}},{key:"$key",parse:function(e,t){var n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=Object(u.I)(e.$key,e.$flat))}},{key:"$expr",parse:function(e,t,n){e.$params&&o(e.$params,t,n);var r="e:"+e.$expr+"_"+e.$name;return t.fn[r]||(t.fn[r]=Object(u.f)(Object(i.e)(e.$expr,t),e.$fields,e.$name))}},{key:"$field",parse:function(e,t){if(!e.$field)return null;var n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=Object(u.t)(e.$field,e.$name))}},{key:"$encode",parse:function(e,t){var n,r,a=e.$encode,o={};for(n in a)r=a[n],o[n]=Object(u.f)(Object(i.a)(r.$expr,t),r.$fields),o[n].output=r.$output;return o}},{key:"$compare",parse:function(e,t){var n="c:"+e.$compare+"_"+e.$order,r=Object(u.i)(e.$compare).map((function(e){return e&&e.$tupleid?a.t:e}));return t.fn[n]||(t.fn[n]=Object(u.k)(r,e.$order))}},{key:"$context",parse:function(e,t){return t}},{key:"$subflow",parse:function(e,t){var n=e.$subflow;return function(e,i,a){var u=Object(r.a)(n,t.fork()),o=u.get(n.operators[0].id),s=u.signals.parent;return s&&s.set(a),o}}},{key:"$tupleid",parse:function(){return a.t}}]},function(e,t,n){"use strict";var r=n(400),i=n(1);t.a=function(e,t,n,a){return function e(t,n,a,u){var o,s,f;if(t.signal)o="datum",f=Object(r.a)(t.signal,n,a,u);else if(t.group||t.parent){for(s=Math.max(1,t.level||1),o="item";s-- >0;)o+=".mark.group";t.parent?(f=t.parent,o+=".datum"):f=t.group}else t.datum?(o="datum",f=t.datum):Object(i.n)("Invalid field reference: "+Object(i.X)(t));t.signal||(Object(i.H)(f)?(u[f]=1,f=Object(i.W)(f).map(i.X).join("][")):f=e(f,n,a,u));return o+"["+f+"]"}(Object(i.F)(e)?e:{datum:e},t,n,a)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n(400),i=n(790),a=n(239),u=n(1);function o(e,t,n,o){var s;if(Object(u.H)(e))s=a.a+e,Object(u.v)(n,s)||(n[s]=t.scaleRef(e)),s=Object(u.X)(s);else{for(s in t.scales)n[a.a+s]=t.scaleRef(s);s=Object(u.X)(a.a)+"+"+(e.signal?"("+Object(r.a)(e.signal,t,n,o)+")":Object(i.a)(e,t,n,o))}return"_["+s+"]"}t.a=function(e,t,n,r,i){var a,s,f,c=o(e.scale,n,r,i);return null!=e.range?(s=c+".range()",t=0===(a=+e.range)?s+"[0]":"($="+s+","+(1===a?"$[$.length-1]":"$[0]+"+a+"*($[$.length-1]-$[0])")+")"):(void 0!==t&&(t=c+"("+t+")"),e.band&&(f=function(e,t){if(!Object(u.H)(e))return-1;var n=t.scaleType(e);return"band"===n||"point"===n?1:0}(e.scale,n))&&(a=(s=c+".bandwidth")+"()"+(1===(a=+e.band)?"":"*"+a),f<0&&(a="("+s+"?"+a+":0)"),t=(t?t+"+":"")+a,e.extra&&(t="(datum.extra?"+c+"(datum.extra.value):"+t+")")),null==t&&(t="0")),t}},function(e,t,n){"use strict";var r=n(1);t.a=function(e,t,n){const i=e+"["+Object(r.X)(t)+"]";return`$=${n};if(${i}!==$)${i}=$,m=1;`}},function(e,t,n){"use strict";var r=n(112),i=n(68);t.a=function(e){var t=e.role||"";return t.indexOf("axis")&&t.indexOf("legend")?e.type===r.a?i.p:t||i.o:t}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n(524),i=n(29),a=n(54),u=n(1);function o(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:Object(i.p)(t.getData(e.data).output)}t.a=function(e,t,n){var s,f,c,l,d;return e?(s=e.facet)&&(t||Object(u.n)("Only group marks can be faceted."),null!=s.field?l=d=o(s,n):(e.data?d=Object(i.p)(n.getData(e.data).aggregate):((c=Object(r.a)(Object(u.o)({type:"aggregate",groupby:Object(u.i)(s.groupby)},s.aggregate),n)).params.key=n.keyRef(s.groupby),c.params.pulse=o(s,n),l=d=Object(i.p)(n.add(c))),f=n.keyRef(s.groupby,!0))):l=Object(i.p)(n.add(Object(a.d)(null,[{}]))),l||(l=o(e,n)),{key:f,pulse:l,parent:d}}},function(e,t,n){"use strict";var r=n(184),i=n(29);t.a=function(e,t,n){var a,u,o=e.remove,s=e.insert,f=e.toggle,c=e.modify,l=e.values,d=t.add(Object(i.o)());a="if("+e.trigger+',modify("'+n+'",'+[s,o,f,c,l].map((function(e){return null==e?"null":e})).join(",")+"),0)",u=Object(r.a)(a,t),d.update=u.$expr,d.params=u.$params}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return u}));var r=n(1354),i=n(1);function a(e){const t=function(t,n){const r={delimiter:e};return u(t,n?Object(i.o)(n,r):r)};return t.responseType="text",t}function u(e,t){return t.header&&(e=t.header.map(i.X).join(t.delimiter)+"\n"+e),Object(r.a)(t.delimiter).parse(e+"")}u.responseType="text"},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return o}));var r=n(277),i={skip:!1,force:!1};function a(e,t){var n=t||i;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function u(e,t,n){var r=n||i;return(e.set(t)||r.force)&&this.touch(e,r),this}function o(e,t,n){this.touch(e,n||i);var a=new r.b(this,this._clock+(this._pulse?0:1)),u=e.pulse&&e.pulse.source||[];return a.target=e,this._input[e.id]=t.pulse(a,u),this}},,function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}));var r=n(467),i=n(241),a=n(42),u=n(1);const o={[a.i]:"quantiles",[a.j]:"thresholds",[a.n]:"domain"},s={[a.i]:"quantiles",[a.j]:"domain"};function f(e,t){return e.bins?function(e){const t=e.slice(0,-1);return t.max=Object(u.S)(e),t}(e.bins):o[e.type]?function(e){const t=[-1/0].concat(e);return t.max=1/0,t}(e[o[e.type]]()):Object(i.c)(e,t)}function c(e,t,n,u,f){const c=s[e.type]&&f!==a.o?function(e,t){var n,r=e[s[e.type]](),i=r.length,u=i>1?r[1]-r[0]:r[0];for(n=1;n<i;++n)u=Math.min(u,r[n]-r[n-1]);return Object(a.G)(0,u,30,t)}(e,u):Object(i.b)(e,t,u,f);return n===r.c&&function(e){return o[e.type]||e.bins}(e)?function(e){return function(t,n,r){var i=r[n+1]||r.max||1/0,a=l(t,e),u=l(i,e);return a&&u?a+"–"+u:u?"< "+u:"≥ "+a}}(c):n===r.a?function(e){return function(t,n){return n?e(t):null}}(c):function(e){return function(t){return e(t)}}(c)}function l(e,t){return isFinite(e)?t(e):null}function d(e){var t=e.domain(),n=t.length-1,r=+t[0],i=+Object(u.S)(t),o=i-r;if(e.type===a.n){var s=n?o/n:.1;o=(i+=s)-(r-=s)}return function(e){return(e-r)/o}}},function(e,t,n){"use strict";var r=n(333),i=n(1);t.a=function(e,t,n,a){return Object(i.F)(e)?"("+Object(r.a)(null,e,t,n,a)+")":e}},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"version",(function(){return l}));var r=n(1685),i=n(1295);n.d(t,"dark",(function(){return i.a}));var a=n(1296);n.d(t,"excel",(function(){return a.a}));var u=n(1297);n.d(t,"fivethirtyeight",(function(){return u.a}));var o=n(1298);n.d(t,"ggplot2",(function(){return o.a}));var s=n(1299);n.d(t,"latimes",(function(){return s.a}));var f=n(1300);n.d(t,"quartz",(function(){return f.a}));var c=n(1301);n.d(t,"vox",(function(){return c.a}));const l=r.version},,,,,,function(e,t,n){"use strict";function r(e){return 1+~~(new Date(e).getMonth()/3)}function i(e){return 1+~~(new Date(e).getUTCMonth()/3)}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}))},,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var r=n(700),i=n(593),a=n(701),u=n(702),o=n(703),s={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"},f={};function c(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(f[e]=t,this):f[e]}f.canvas=f.png={renderer:i.a,headless:i.a,handler:r.a},f.svg={renderer:u.a,headless:o.a,handler:a.a},f.none={}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return o}));var r=n(353),i=n(1),a=1e-9;function u(e,t,n){return e===t||("path"===n?o(e,t):e instanceof Date&&t instanceof Date?+e==+t:Object(i.E)(e)&&Object(i.E)(t)?Math.abs(e-t)<=a:e&&t&&(Object(i.F)(e)||Object(i.F)(t))?null!=e&&null!=t&&function(e,t){var n,r,i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(i.sort(),a.sort(),r=i.length-1;r>=0;r--)if(i[r]!=a[r])return!1;for(r=i.length-1;r>=0;r--)if(n=i[r],!u(e[n],t[n],n))return!1;return typeof e==typeof t}(e,t):e==t)}function o(e,t){return u(Object(r.a)(e),Object(r.a)(t))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(1);function i(e){e.rank=++this._rank}function a(e){for(var t,n,i,a=[e];a.length;)if(this.rank(t=a.pop()),n=t._targets)for(i=n.length;--i>=0;)a.push(t=n[i]),t===e&&Object(r.n)("Cycle detected in dataflow graph.")}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var r=n(97),i={},a={},u=[].join;function o(e,t,n,a,o,s,f,c,l){var d=u.call(arguments);if(i[d])return i[d];var p=f*r.a,m=Math.sin(p),b=Math.cos(p),h=b*(c-e)*.5+m*(l-t)*.5,g=b*(l-t)*.5-m*(c-e)*.5,y=h*h/((n=Math.abs(n))*n)+g*g/((a=Math.abs(a))*a);y>1&&(n*=y=Math.sqrt(y),a*=y);var v=b/n,O=m/n,j=-m/a,$=b/a,x=v*c+O*l,k=j*c+$*l,A=v*e+O*t,w=j*e+$*t,_=1/((A-x)*(A-x)+(w-k)*(w-k))-.25;_<0&&(_=0);var F=Math.sqrt(_);s==o&&(F=-F);var D=.5*(x+A)-F*(w-k),S=.5*(k+w)+F*(A-x),C=Math.atan2(k-S,x-D),E=Math.atan2(w-S,A-D)-C;E<0&&1===s?E+=r.d:E>0&&0===s&&(E-=r.d);for(var q=Math.ceil(Math.abs(E/(r.b+.001))),M=[],z=0;z<q;++z){var B=C+z*E/q,P=C+(z+1)*E/q;M[z]=[D,S,B,P,n,a,m,b]}return i[d]=M}function s(e){var t=u.call(e);if(a[t])return a[t];var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],f=e[5],c=e[6],l=e[7],d=l*s,p=-c*f,m=c*s,b=l*f,h=Math.cos(i),g=Math.sin(i),y=Math.cos(o),v=Math.sin(o),O=.5*(o-i),j=Math.sin(.5*O),$=8/3*j*j/Math.sin(O),x=n+h-$*g,k=r+g+$*h,A=n+y,w=r+v,_=A+$*v,F=w-$*y;return a[t]=[d*x+p*k,m*x+b*k,d*_+p*F,m*_+b*F,d*A+p*w,m*A+b*w]}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var r=n(32),i=n(290),a=n(76);const u=.5;function o(e){var t=e.items[0].datum.orient;return t===r.r||t===r.x}function s(e,t,n,o){var s,c,l=t.items[0],d=l.datum,p=d.orient,m=function(e){var t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}(d),b=l.range,h=l.offset,g=l.position,y=l.minExtent,v=l.maxExtent,O=d.title&&l.items[m[2]].items[0],j=l.titlePadding,$=l.bounds,x=0,k=0;switch(i.b.clear().union($),$.clear(),(s=m[0])>-1&&$.union(l.items[s].bounds),(s=m[1])>-1&&$.union(l.items[s].bounds),p){case r.G:x=g||0,k=-h,c=Math.max(y,Math.min(v,-$.y1)),O&&(c=f(O,c,j,0,-1,$)),$.add(0,-c).add(b,0);break;case r.r:x=-h,k=g||0,c=Math.max(y,Math.min(v,-$.x1)),O&&(c=f(O,c,j,1,-1,$)),$.add(-c,0).add(0,b);break;case r.x:x=n+h,k=g||0,c=Math.max(y,Math.min(v,$.x2)),O&&(c=f(O,c,j,1,1,$)),$.add(0,0).add(c,b);break;case r.c:x=g||0,k=o+h,c=Math.max(y,Math.min(v,$.y2)),O&&(c=f(O,c,j,0,1,$)),$.add(0,0).add(b,c);break;default:x=l.x,k=l.y}return Object(a.t)($.translate(x,k),l),Object(i.a)(l,"x",x+u)|Object(i.a)(l,"y",k+u)&&(l.bounds=i.b,e.dirty(l),l.bounds=$,e.dirty(l)),l.mark.bounds.clear().union($)}function f(e,t,n,r,i,a){var u=e.bounds,o=0,s=0;return e.auto?(t+=n,r?o=(e.x||0)-(e.x=i*t):s=(e.y||0)-(e.y=i*t),u.translate(-o,-s),e.mark.bounds.set(u.x1,u.y1,u.x2,u.y2),r?(a.add(0,u.y1).add(0,u.y2),t+=u.width()):(a.add(u.x1,0).add(u.x2,0),t+=u.height())):a.union(u),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));var r=n(32),i=n(290),a=n(76),u=n(1);function o(e){return(new a.a).set(0,0,e.width||0,e.height||0)}function s(e){var t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function f(e,t,n){var r=Object(u.F)(e)?e[t]:e;return null!=r?r:void 0!==n?n:0}function c(e){return e<0?Math.ceil(-e):0}function l(e,t,n){var a,u,l,d,p,m,b,h,g,y,v,O=!n.nodirty,j=n.bounds===r.o?o:s,$=i.b.set(0,0,0,0),x=f(n.align,r.i),k=f(n.align,r.y),A=f(n.padding,r.i),w=f(n.padding,r.y),_=n.columns||t.length,F=_<0?1:Math.ceil(t.length/_),D=t.length,S=Array(D),C=Array(_),E=0,q=Array(D),M=Array(F),z=0,B=Array(D),P=Array(D),T=Array(D);for(u=0;u<_;++u)C[u]=0;for(u=0;u<F;++u)M[u]=0;for(u=0;u<D;++u)m=t[u],p=T[u]=j(m),m.x=m.x||0,B[u]=0,m.y=m.y||0,P[u]=0,l=u%_,d=~~(u/_),E=Math.max(E,b=Math.ceil(p.x2)),z=Math.max(z,h=Math.ceil(p.y2)),C[l]=Math.max(C[l],b),M[d]=Math.max(M[d],h),S[u]=A+c(p.x1),q[u]=w+c(p.y1),O&&e.dirty(t[u]);for(u=0;u<D;++u)u%_==0&&(S[u]=0),u<_&&(q[u]=0);if(x===r.j)for(l=1;l<_;++l){for(v=0,u=l;u<D;u+=_)v<S[u]&&(v=S[u]);for(u=l;u<D;u+=_)S[u]=v+C[l-1]}else if(x===r.a){for(v=0,u=0;u<D;++u)u%_&&v<S[u]&&(v=S[u]);for(u=0;u<D;++u)u%_&&(S[u]=v+E)}else for(x=!1,l=1;l<_;++l)for(u=l;u<D;u+=_)S[u]+=C[l-1];if(k===r.j)for(d=1;d<F;++d){for(v=0,a=(u=d*_)+_;u<a;++u)v<q[u]&&(v=q[u]);for(u=d*_;u<a;++u)q[u]=v+M[d-1]}else if(k===r.a){for(v=0,u=_;u<D;++u)v<q[u]&&(v=q[u]);for(u=_;u<D;++u)q[u]=v+z}else for(k=!1,d=1;d<F;++d)for(a=(u=d*_)+_;u<a;++u)q[u]+=M[d-1];for(g=0,u=0;u<D;++u)g=S[u]+(u%_?g:0),B[u]+=g-t[u].x;for(l=0;l<_;++l)for(y=0,u=l;u<D;u+=_)y+=q[u],P[u]+=y-t[u].y;if(x&&f(n.center,r.i)&&F>1)for(u=0;u<D;++u)(g=(p=x===r.a?E:C[u%_])-T[u].x2-t[u].x-B[u])>0&&(B[u]+=g/2);if(k&&f(n.center,r.y)&&1!==_)for(u=0;u<D;++u)(y=(p=k===r.a?z:M[~~(u/_)])-T[u].y2-t[u].y-P[u])>0&&(P[u]+=y/2);for(u=0;u<D;++u)$.union(T[u].translate(B[u],P[u]));switch(g=f(n.anchor,r.J),y=f(n.anchor,r.K),f(n.anchor,r.i)){case r.k:g-=$.width();break;case r.t:g-=$.width()/2}switch(f(n.anchor,r.y)){case r.k:y-=$.height();break;case r.t:y-=$.height()/2}for(g=Math.round(g),y=Math.round(y),$.clear(),u=0;u<D;++u)t[u].mark.bounds.clear();for(u=0;u<D;++u)(m=t[u]).x+=B[u]+=g,m.y+=P[u]+=y,$.union(m.mark.bounds.union(m.bounds.translate(B[u],P[u]))),O&&e.dirty(m);return $}function d(e,t,n){var i,a,u,o,s,c,d,v=function(e){for(var t,n,i=e.items,a=i.length,u=0,o={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};u<a;++u)if(n=(t=i[u]).items,t.marktype===r.q)switch(t.role){case r.b:case r.s:break;case r.A:o.rowheaders.push(...n);break;case r.z:o.rowfooters.push(...n);break;case r.g:o.colheaders.push(...n);break;case r.f:o.colfooters.push(...n);break;case r.B:o.rowtitle=n[0];break;case r.h:o.coltitle=n[0];break;default:o.marks.push(...n)}return o}(t),O=v.marks,j=n.bounds===r.o?p:m,$=n.offset,x=n.columns||O.length,k=x<0?1:Math.ceil(O.length/x),A=k*x;const w=l(e,O,n);v.rowheaders&&(c=f(n.headerBand,r.y,null),i=g(e,v.rowheaders,O,x,k,-f($,"rowHeader"),b,0,j,"x1",0,x,1,c)),v.colheaders&&(c=f(n.headerBand,r.i,null),a=g(e,v.colheaders,O,x,x,-f($,"columnHeader"),b,1,j,"y1",0,1,x,c)),v.rowfooters&&(c=f(n.footerBand,r.y,null),u=g(e,v.rowfooters,O,x,k,f($,"rowFooter"),h,0,j,"x2",x-1,x,1,c)),v.colfooters&&(c=f(n.footerBand,r.i,null),o=g(e,v.colfooters,O,x,x,f($,"columnFooter"),h,1,j,"y2",A-x,1,x,c)),v.rowtitle&&(s=f(n.titleAnchor,r.y),d=f($,"rowTitle"),d=s===r.k?u+d:i-d,c=f(n.titleBand,r.y,.5),y(e,v.rowtitle,d,0,w,c)),v.coltitle&&(s=f(n.titleAnchor,r.i),d=f($,"columnTitle"),d=s===r.k?o+d:a-d,c=f(n.titleBand,r.i,.5),y(e,v.coltitle,d,1,w,c))}function p(e,t){return"x1"===t?e.x||0:"y1"===t?e.y||0:"x2"===t?(e.x||0)+(e.width||0):"y2"===t?(e.y||0)+(e.height||0):void 0}function m(e,t){return e.bounds[t]}function b(e,t){return Math.floor(Math.min(e,t))}function h(e,t){return Math.ceil(Math.max(e,t))}function g(e,t,n,r,i,a,u,o,s,f,c,l,d,p){var m,b,h,g,y,v,O,j,$,x=n.length,k=0,A=0;if(!x)return k;for(m=c;m<x;m+=l)n[m]&&(k=u(k,s(n[m],f)));if(!t.length)return k;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),k+=a,b=0,g=t.length;b<g;++b)e.dirty(t[b]),t[b].mark.bounds.clear();for(m=c,b=0,g=t.length;b<g;++b,m+=l){for(y=(v=t[b]).mark.bounds,h=m;h>=0&&null==(O=n[h]);h-=d);o?(j=null==p?O.x:Math.round(O.bounds.x1+p*O.bounds.width()),$=k):(j=k,$=null==p?O.y:Math.round(O.bounds.y1+p*O.bounds.height())),y.union(v.bounds.translate(j-(v.x||0),$-(v.y||0))),v.x=j,v.y=$,e.dirty(v),A=u(A,y[f])}return A}function y(e,t,n,r,i,a){if(t){e.dirty(t);var u=n,o=n;r?u=Math.round(i.x1+a*i.width()):o=Math.round(i.y1+a*i.height()),t.bounds.translate(u-(t.x||0),o-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=u,t.y=o,e.dirty(t)}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return u}));var r=n(32),i=n(76);function a(e,t,n,i,a,u,o){const s=function(e,t){const n=e[t]||{};return(t,r)=>null!=n[t]?n[t]:null!=e[t]?e[t]:r}(n,t),f=(d=e,p=s("offset",0),m=-1/0,d.forEach(e=>{null!=e.offset&&(m=Math.max(m,e.offset))}),m>-1/0?m:p),c=s("anchor",r.D),l=c===r.k?1:c===r.t?.5:0;var d,p,m;const b={align:r.j,bounds:s("bounds",r.o),columns:"vertical"===s("direction")?1:e.length,padding:s("margin",8),center:s("center"),nodirty:!0};switch(t){case r.r:b.anchor={x:Math.floor(i.x1)-f,column:r.k,y:l*(o||i.height()+2*i.y1),row:c};break;case r.x:b.anchor={x:Math.ceil(i.x2)+f,y:l*(o||i.height()+2*i.y1),row:c};break;case r.G:b.anchor={y:Math.floor(a.y1)-f,row:r.k,x:l*(u||a.width()+2*a.x1),column:c};break;case r.c:b.anchor={y:Math.ceil(a.y2)+f,x:l*(u||a.width()+2*a.x1),column:c};break;case r.H:b.anchor={x:f,y:f};break;case r.I:b.anchor={x:u-f,y:f,column:r.k};break;case r.d:b.anchor={x:f,y:o-f,row:r.k};break;case r.e:b.anchor={x:u-f,y:o-f,column:r.k,row:r.k}}return b}function u(e,t){var n,a,u,f,c=t.items[0],l=c.datum,d=c.orient,p=c.bounds,m=c.x,b=c.y;return c._bounds?c._bounds.clear().union(p):c._bounds=p.clone(),p.clear(),function(e,t,n){var i=t.padding,a=i-n.x,u=i-n.y;if(t.datum.title){var f=t.items[1].items[0],c=f.anchor,l=t.titlePadding||0,d=i-f.x,p=i-f.y;switch(f.orient){case r.r:a+=Math.ceil(f.bounds.width())+l;break;case r.x:case r.c:break;default:u+=f.fontSize+l}switch((a||u)&&s(e,n,a,u),f.orient){case r.r:p+=o(t,n,f,c,0,1);break;case r.x:d+=o(t,n,f,r.k,1,0)+l,p+=o(t,n,f,c,0,1);break;case r.c:d+=o(t,n,f,c,1,0),p+=o(t,n,f,r.k,0,0,1)+l;break;default:d+=o(t,n,f,c,1,0)}(d||p)&&s(e,f,d,p),(d=Math.round(f.bounds.x1-i))<0&&(s(e,n,-d,0),s(e,f,-d,0))}else(a||u)&&s(e,n,a,u)}(e,c,c.items[0].items[0]),p=function(e,t){return e.items.forEach(e=>t.union(e.bounds)),t.x1=e.padding,t.y1=e.padding,t}(c,p),n=2*c.padding,a=2*c.padding,p.empty()||(n=Math.ceil(p.width()+n),a=Math.ceil(p.height()+a)),l.type===r.E&&(u=c.items[0].items[0].items[0].items,f=u.reduce((function(e,t){return e[t.column]=Math.max(t.bounds.x2-t.x,e[t.column]||0),e}),{}),u.forEach((function(e){e.width=f[e.column],e.height=e.bounds.y2-e.y}))),d!==r.u&&(c.x=m=0,c.y=b=0),c.width=n,c.height=a,Object(i.t)(p.set(m,b,m+n,b+a),c),c.mark.bounds.clear().union(p),c}function o(e,t,n,i,a,u,o){const s="symbol"!==e.datum.type,f=n.datum.vgrad,c=(!s||!u&&f||o?t:t.items[0]).bounds[a?"x2":"y2"]-e.padding,l=f&&u?c:0,d=f&&u?0:c;return Math.round(i===r.D?l:i===r.k?d:.5*c)}function s(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n(704),i=n(650),a=n(376),u=n(1003);function o(){var e,t,n=Object(u.a)().unknown(void 0),s=n.domain,f=n.range,c=[0,1],l=!1,d=0,p=0,m=.5;function b(){var n=s().length,a=c[1]<c[0],u=c[a-0],o=c[1-a],b=Object(r.a)(n,d,p);e=(o-u)/(b||1),l&&(e=Math.floor(e)),u+=(o-u-e*(n-d))*m,t=e*(1-d),l&&(u=Math.round(u),t=Math.round(t));var h=Object(i.a)(n).map((function(t){return u+e*t}));return f(a?h.reverse():h)}return delete n.unknown,n.domain=function(e){return arguments.length?(s(e),b()):s()},n.range=function(e){return arguments.length?(c=[+e[0],+e[1]],b()):c.slice()},n.rangeRound=function(e){return c=[+e[0],+e[1]],l=!0,b()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(l=!!e,b()):l},n.padding=function(e){return arguments.length?(p=Math.max(0,Math.min(1,e)),d=p,b()):d},n.paddingInner=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),b()):d},n.paddingOuter=function(e){return arguments.length?(p=Math.max(0,Math.min(1,e)),b()):p},n.align=function(e){return arguments.length?(m=Math.max(0,Math.min(1,e)),b()):m},n.invertRange=function(e){if(null!=e[0]&&null!=e[1]){var n,r,i,u=+e[0],o=+e[1],l=c[1]<c[0],d=l?f().reverse():f(),p=d.length-1;if(u==u&&o==o&&(o<u&&(i=u,u=o,o=i),!(o<d[0]||u>c[1-l])))return n=Math.max(0,Object(a.b)(d,u)-1),r=u===o?n:Object(a.b)(d,o)-1,u-d[n]>t+1e-10&&++n,l&&(i=n,n=p-r,r=p-i),n>r?void 0:s().slice(n,r+1)}},n.invert=function(e){var t=n.invertRange([e,e]);return t?t[0]:t},n.copy=function(){return o().domain(s()).range(c).round(l).paddingInner(d).paddingOuter(p).align(m)},b()}function s(){return function e(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,t.copy=function(){return e(n())},t}(o().paddingInner(1))}},,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));const r={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},i={category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"}},,,,,,,,,,,,function(e,t,n){"use strict";t.a=function(e,t,n){var r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd:function(e,t){var n,i=this.bisect(this.range,e.value),a=e.index,u=i[0],o=i[1],s=a.length;for(n=0;n<u;++n)t[a[n]]|=r;for(n=o;n<s;++n)t[a[n]]|=r;return this}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(371),i=n(376),a=n(2018);function u(){var e=Object(r.b)(0),t=[],n=0;return{insert:function(i,u,o){if(!u.length)return[];var s,f,c,l=n,d=u.length,p=Array(d),m=Object(r.b)(d);for(c=0;c<d;++c)p[c]=i(u[c]),m[c]=c;if(p=function(e,t){return e.sort.call(t,(function(t,n){var r=e[t],i=e[n];return r<i?-1:r>i?1:0})),Object(a.a)(e,t)}(p,m),l)s=t,f=e,t=Array(l+d),e=Object(r.b)(l+d),function(e,t,n,r,i,a,u,o,s){var f,c=0,l=0;for(f=0;c<r&&l<u;++f)t[c]<i[l]?(o[f]=t[c],s[f]=n[c++]):(o[f]=i[l],s[f]=a[l++]+e);for(;c<r;++c,++f)o[f]=t[c],s[f]=n[c];for(;l<u;++l,++f)o[f]=i[l],s[f]=a[l]+e}(o,s,f,l,p,m,d,t,e);else{if(o>0)for(c=0;c<d;++c)m[c]+=o;t=p,e=m}return n=l+d,{index:m,value:p}},remove:function(r,i){var a,u,o,s=n;for(u=0;!i[e[u]]&&u<s;++u);for(o=u;u<s;++u)i[a=e[u]]||(e[o]=a,t[o]=t[u],++o);n=s-r},bisect:function(e,r){var a;return r?a=r.length:(r=t,a=n),[Object(i.a)(r,e[0],0,a),Object(i.b)(r,e[1],0,a)]},reindex:function(t){for(var r=0,i=n;r<i;++r)e[r]=t[e[r]]},index:function(){return e},size:function(){return n}}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return d}));var r=n(1433),i=n(12),a=n(1);const u="view",o="timer",s="window",f={trap:!1};function c(e){const t=Object(a.o)({defaults:{}},e),n=(e,t)=>{t.forEach(t=>{Object(a.A)(e[t])&&(e[t]=Object(a.bb)(e[t]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}function l(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return!(!1===r||Object(a.F)(r)&&!r[n])||(e.warn(`Blocked ${t} ${n} event listener.`),!1)}function d(e,t,n){var a,c=this,d=new i.b(n),p=function(n,i){c.runAsync(null,()=>{e===u&&function(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return!1!==r&&!0!==i&&(!0===r||!1===i||(r?r[t]:i?!i[t]:e.preventDefault()))}(c,t)&&n.preventDefault(),d.receive(Object(r.a)(c,n,i))})};if(e===o)l(c,"timer",t)&&c.timer(p,t);else if(e===u)l(c,"view",t)&&c.addEventListener(t,p,f);else if(e===s?l(c,"window",t)&&"undefined"!=typeof window&&(a=[window]):"undefined"!=typeof document&&l(c,"selector",t)&&(a=document.querySelectorAll(e)),a){for(var m=0,b=a.length;m<b;++m)a[m].addEventListener(t,p);c._eventListeners.push({type:t,sources:a,handler:p})}else c.warn("Can not resolve event source: "+e);return d}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n(274),i=n(789),a=n(610),u=n(1);function o(e,t){if(e.params){var n=t.get(e.id);n||Object(u.n)("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(Object(i.a)(e.params,t),e.react,e.initonly))}}t.a=function(e,t){Object(a.c)(e.type)||!e.type?t.operator(e,e.update?Object(r.d)(e.update,t):null):t.transform(e,e.type)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u}));var r=n(1),i={skip:!0};function a(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach((function(n){var i=t.signals[n];e.signals(n,i)&&(r[n]=i.value)}))}if(e.data){var i=n.data={};Object.keys(t.data).forEach((function(n){var r=t.data[n];e.data(n,r)&&(i[n]=r.input.value)}))}return t.subcontext&&!1!==e.recurse&&(n.subcontext=t.subcontext.map((function(t){return t.getState(e)}))),n}function u(e){var t=this,n=t.dataflow,a=e.data,u=e.signals;Object.keys(u||{}).forEach((function(e){n.update(t.signals[e],u[e],i)})),Object.keys(a||{}).forEach((function(e){n.pulse(t.data[e].input,n.changeset().remove(r.eb).insert(a[e]))})),(e.subcontext||[]).forEach((function(e,n){var r=t.subcontext[n];r&&r.setState(e)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n(12),i=n(1);function a(e){return this._runtime.getState(e||{data:u,signals:o,recurse:!0})}function u(e,t){return t.modified&&Object(i.A)(t.input.value)&&e.indexOf("_:vega:_")}function o(e,t){return!("parent"===e||t instanceof r.s.proxy)}function s(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},e=>{e._trigger=!0}),this}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return c}));var r=n(29),i=n(54),a=n(42),u=n(1),o=0,s={min:"min",max:"max",count:"sum"};function f(e,t){var n=e.type||"linear";Object(a.A)(n)||Object(u.n)("Unrecognized scale type: "+Object(u.X)(n)),t.addScale(e.name,{type:n,domain:void 0})}function c(e,t){var n,r,i=t.getScale(e.name).params;for(n in i.domain=m(e.domain,e,t),null!=e.range&&(i.range=function e(t,n,r){var i=t.range,o=n.config.range;if(i.signal)return n.signalRef(i.signal);if(Object(u.H)(i)){if(o&&Object(u.v)(o,i))return t=Object(u.o)({},t,{range:o[i]}),e(t,n,r);"width"===i?i=[0,{signal:"width"}]:"height"===i?i=Object(a.v)(t.type)?[0,{signal:"height"}]:[{signal:"height"},0]:Object(u.n)("Unrecognized scale range value: "+Object(u.X)(i))}else{if(i.scheme)return r.scheme=Object(u.A)(i.scheme)?d(i.scheme,n):l(i.scheme,n),i.extent&&(r.schemeExtent=d(i.extent,n)),void(i.count&&(r.schemeCount=l(i.count,n)));if(i.step)return void(r.rangeStep=l(i.step,n));if(Object(a.v)(t.type)&&!Object(u.A)(i))return m(i,t,n);Object(u.A)(i)||Object(u.n)("Unsupported range type: "+Object(u.X)(i))}return i.map(e=>(Object(u.A)(e)?d:l)(e,n))}(e,t,i)),null!=e.interpolate&&function(e,t){t.interpolate=l(e.type||e),null!=e.gamma&&(t.interpolateGamma=l(e.gamma))}(e.interpolate,i),null!=e.nice&&(i.nice=(r=e.nice,Object(u.F)(r)?{interval:l(r.interval),step:l(r.step)}:l(r))),null!=e.bins&&(i.bins=function(e,t){return e.signal||Object(u.A)(e)?d(e,t):t.objectProperty(e)}(e.bins,t)),e)Object(u.v)(i,n)||"name"===n||(i[n]=l(e[n],t))}function l(e,t){return Object(u.F)(e)?e.signal?t.signalRef(e.signal):Object(u.n)("Unsupported object: "+Object(u.X)(e)):e}function d(e,t){return e.signal?t.signalRef(e.signal):e.map(e=>l(e,t))}function p(e){Object(u.n)("Can not find data set: "+Object(u.X)(e))}function m(e,t,n){if(e)return e.signal?n.signalRef(e.signal):(Object(u.A)(e)?b:e.fields?g:h)(e,t,n);null==t.domainMin&&null==t.domainMax||Object(u.n)("No scale domain defined for domainMin/domainMax to override.")}function b(e,t,n){return e.map((function(e){return l(e,n)}))}function h(e,t,n){var r=n.getData(e.data);return r||p(e.data),Object(a.v)(t.type)?r.valuesRef(n,e.field,v(e.sort,!1)):Object(a.z)(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function g(e,t,n){var r=e.data,s=e.fields.reduce((function(e,t){return t=Object(u.H)(t)?{data:r,field:t}:Object(u.A)(t)||t.signal?function(e,t){var n="_:vega:_"+o++,r=Object(i.d)({});if(Object(u.A)(e))r.value={$ingest:e};else if(e.signal){var a="setdata("+Object(u.X)(n)+","+e.signal+")";r.params.input=t.signalRef(a)}return t.addDataPipeline(n,[r,Object(i.y)({})]),{data:n,field:"data"}}(t,n):t,e.push(t),e}),[]);return(Object(a.v)(t.type)?y:Object(a.z)(t.type)?O:j)(e,n,s)}function y(e,t,n){var a,u,o,f,c,l=v(e.sort,!0);return a=n.map((function(e){var n=t.getData(e.data);return n||p(e.data),n.countsRef(t,e.field,l)})),u={groupby:r.m,pulse:a},l&&(o=l.op||"count",c=l.field?Object(r.e)(o,l.field):"count",u.ops=[s[o]],u.fields=[t.fieldRef(c)],u.as=[c]),o=t.add(Object(i.a)(u)),f=t.add(Object(i.d)({pulse:Object(r.p)(o)})),c=t.add(Object(i.A)({field:r.m,sort:t.sortRef(l),pulse:Object(r.p)(f)})),Object(r.p)(c)}function v(e,t){return e&&(e.field||e.op?e.field||"count"===e.op?t&&e.field&&e.op&&!s[e.op]&&Object(u.n)("Multiple domain scales can not be sorted using "+e.op):Object(u.n)("No field provided for sort aggregate op: "+e.op):Object(u.F)(e)?e.field="key":e={field:"key"}),e}function O(e,t,n){var a=n.map((function(e){var n=t.getData(e.data);return n||p(e.data),n.domainRef(t,e.field)}));return Object(r.p)(t.add(Object(i.p)({values:a})))}function j(e,t,n){var a=n.map((function(e){var n=t.getData(e.data);return n||p(e.data),n.extentRef(t,e.field)}));return Object(r.p)(t.add(Object(i.o)({extents:a})))}},function(e,t,n){"use strict";var r=n(26),i=n(146),a=n(96),u=n(112),o=n(68),s=n(64),f=n(29);const c=`datum.${r.o}<=0?"${r.k}":datum.${r.o}>=1?"${r.q}":"${r.b}"`,l=`datum.${r.o}<=0?"${r.a}":datum.${r.o}>=1?"${r.v}":"${r.m}"`;t.a=function(e,t,n,d){var p,m,b,h,g,y=Object(a.e)(e,t),v=y.isVertical(),O=Object(s.c)(y.gradientThickness()),j=y.gradientLength(),$=y("labelOverlap"),x=y("labelSeparation"),k="";return p={enter:m={opacity:r.z},update:b={opacity:r.y,text:{field:r.j}},exit:{opacity:r.z}},Object(s.b)(p,{fill:y("labelColor"),fillOpacity:y("labelOpacity"),font:y("labelFont"),fontSize:y("labelFontSize"),fontStyle:y("labelFontStyle"),fontWeight:y("labelFontWeight"),limit:Object(f.r)(e.labelLimit,t.gradientLabelLimit)}),v?(m.align={value:"left"},m.baseline=b.baseline={signal:l},h="y",g="x",k="1-"):(m.align=b.align={signal:c},m.baseline={value:"top"},h="x",g="y"),m[h]=b[h]={signal:k+"datum."+r.o,mult:j},m[g]=b[g]=O,O.offset=Object(f.r)(e.labelOffset,t.gradientLabelOffset)||0,e=Object(i.a)(u.e,o.k,r.g,r.w,d,p,n),$&&(e.overlap={separation:x,method:$,order:"datum."+r.i}),e}},function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var r=n(26),i=n(453),a=n(146),u=n(96),o=n(112),s=n(68),f=n(64);function c(e,t){const n=Object(u.e)(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}t.a=function(e,t,n,c,l){var d,p,m,b,h,g,y,v=Object(u.e)(e,t),O=n.entries,j=!(!O||!O.interactive),$=O?O.name:void 0,x=v("clipHeight"),k=v("symbolOffset"),A={data:"value"},w={},_=`${l} ? datum.${r.n} : datum.${r.r}`,F=x?Object(f.c)(x):{field:r.r},D=`datum.${r.i}`,S=`max(1, ${l})`;return F.mult=.5,w={enter:d={opacity:r.z,x:{signal:_,mult:.5,offset:k},y:F},update:p={opacity:r.y,x:d.x,y:d.y},exit:{opacity:r.z}},e.fill||Object(f.b)(w,{fill:t.symbolBaseFillColor,stroke:t.symbolBaseStrokeColor}),Object(f.b)(w,{fill:v("symbolFillColor"),shape:v("symbolType"),size:v("symbolSize"),stroke:v("symbolStrokeColor"),strokeDash:v("symbolDash"),strokeDashOffset:v("symbolDashOffset"),strokeWidth:v("symbolStrokeWidth")},{opacity:v("symbolOpacity")}),r.l.forEach((function(t){e[t]&&(p[t]=d[t]={scale:e[t],field:r.w})})),b=Object(a.a)(o.d,s.m,null,r.w,A,w,n.symbols),x&&(b.clip=!0),(m=Object(f.c)(k)).offset=v("labelOffset"),w={enter:d={opacity:r.z,x:{signal:_,offset:m},y:F},update:p={opacity:r.y,text:{field:r.j},x:d.x,y:d.y},exit:{opacity:r.z}},Object(f.b)(w,{align:v("labelAlign"),baseline:v("labelBaseline"),fill:v("labelColor"),fillOpacity:v("labelOpacity"),font:v("labelFont"),fontSize:v("labelFontSize"),fontStyle:v("labelFontStyle"),fontWeight:v("labelFontWeight"),limit:v("labelLimit")}),h=Object(a.a)(o.e,s.k,r.g,r.w,A,w,n.labels),w={enter:{noBound:{value:!x},width:r.z,height:x?Object(f.c)(x):r.z,opacity:r.z},exit:{opacity:r.z},update:p={opacity:r.y,row:{signal:null},column:{signal:null}}},v.isVertical(!0)?(g=`ceil(item.mark.items.length / ${S})`,p.row.signal=`${D}%${g}`,p.column.signal=`floor(${D} / ${g})`,y={field:["row",D]}):(p.row.signal=`floor(${D} / ${S})`,p.column.signal=`${D} % ${S}`,y={field:D}),p.column.signal=`${l}?${p.column.signal}:${D}`,c={facet:{data:c,name:"value",groupby:r.i}},(e=Object(i.a)(s.p,null,$,c,j,Object(f.e)(w,O,r.s),[b,h])).sort=y,e}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";t.a=function(e,t,n){var r,i=e[0],a=e[1];return a<i&&(r=a,a=i,i=r),(r=a-i)>=n-t?[t,n]:[i=Math.min(Math.max(i,t),n-r),i+r]}},function(e,t,n){"use strict";var r=n(199),i=n(392),a=n(393),u=n(379),o=n(351);t.a=function(e,t){var n,s,f,c,l,d,p,m,b,h=[],g=(e=Object(i.a)(e)).map((function(e,t){return null==e?null:(h.push(t),Object(a.a)(e)?e:Object(u.a)(e).map(o.a).join("]["))})),y=h.length-1,v=Object(i.a)(t),O="var u,v;return ";if(y<0)return null;for(s=0;s<=y;++s)f=g[n=h[s]],Object(a.a)(f)?(c="(u=this."+(d="f"+n)+"(a))",l="(v=this."+d+"(b))",(p=p||{})[d]=f):(c="(u=a["+f+"])",l="(v=b["+f+"])"),d="((v=v instanceof Date?+v:v),(u=u instanceof Date?+u:u))","descending"!==v[n]?(b=1,m=-1):(b=-1,m=1),O+="("+c+"<"+l+"||u==null)&&v!=null?"+m+":(u>v||v==null)&&u!=null?"+b+":"+d+"!==u&&v===v?"+m+":v!==v&&u===u?"+b+(n<y?":":":0");return f=Function("a","b",O+";"),p&&(f=f.bind(p)),e=e.reduce((function(e,t){return Object(a.a)(t)?(Object(r.a)(t)||[]).forEach((function(t){e[t]=1})):null!=t&&(e[t+""]=1),e}),{}),Object(r.c)(f,Object.keys(e))}},function(e,t,n){"use strict";var r=n(393);t.a=function(e){return Object(r.a)(e)?e:function(){return e}}},function(e,t,n){"use strict";t.a=function(e,t){var n,r;function i(){t(r),n=r=null}return function(t){r=t,n&&clearTimeout(n),n=setTimeout(i,e)}}},function(e,t,n){"use strict";t.a=function(e){for(var t,n,r=1,i=arguments.length;r<i;++r)for(n in t=arguments[r])e[n]=t[n];return e}},function(e,t,n){"use strict";t.a=function(e,t){var n,r,i,a,u=0;if(e&&(n=e.length))if(null==t){for(r=e[u];null==r||r!=r;r=e[++u]);for(i=a=r;u<n;++u)null!=(r=e[u])&&(r<i&&(i=r),r>a&&(a=r))}else{for(r=t(e[u]);null==r||r!=r;r=t(e[++u]));for(i=a=r;u<n;++u)null!=(r=t(e[u]))&&(r<i&&(i=r),r>a&&(a=r))}return[i,a]}},function(e,t,n){"use strict";t.a=function(e,t){var n,r,i,a,u,o=-1,s=e.length;if(null==t){for(;++o<s;)if(null!=(r=e[o])&&r>=r){n=i=r;break}for(a=u=o;++o<s;)null!=(r=e[o])&&(n>r&&(n=r,a=o),i<r&&(i=r,u=o))}else{for(;++o<s;)if(null!=(r=t(e[o],o,e))&&r>=r){n=i=r;break}for(a=u=o;++o<s;)null!=(r=t(e[o],o,e))&&(n>r&&(n=r,a=o),i<r&&(i=r,u=o))}return[a,u]}},function(e,t,n){"use strict";var r=n(670),i={};t.a=function(e){var t,n,a={};function u(e){return Object(r.a)(a,e)&&a[e]!==i}return t={size:0,empty:0,object:a,has:u,get:function(e){return u(e)?a[e]:void 0},set:function(e,n){return u(e)||(++t.size,a[e]===i&&--t.empty),a[e]=n,this},delete:function(e){return u(e)&&(--t.size,++t.empty,a[e]=i),this},clear:function(){t.size=t.empty=0,t.object=a={}},test:function(e){return arguments.length?(n=e,t):n},clean:function(){var e,r,u={},o=0;for(e in a)(r=a[e])===i||n&&n(r)||(u[e]=r,++o);t.size=o,t.empty=0,t.object=a=u}},e&&Object.keys(e).forEach((function(n){t.set(n,e[n])})),t}},function(e,t,n){"use strict";var r=n(301);t.a=function(e,t,n,i,a,u){if(!n&&0!==n)return u;var o,s,f=e[0],c=Object(r.a)(e),l=+n;return c<f&&(o=f,f=c,c=o),(o=Math.abs(t-f))<(s=Math.abs(c-t))&&o<=l?i:s<=l?a:u}},function(e,t,n){"use strict";t.a=function(e,t){var n=e.prototype=Object.create(t.prototype);return n.constructor=e,n}},function(e,t,n){"use strict";t.a=function(e,t,n,r){var i,a=t[0],u=t[t.length-1];return a>u&&(i=a,a=u,u=i),r=void 0===r||r,((n=void 0===n||n)?a<=e:a<e)&&(r?e<=u:e<u)}},function(e,t,n){"use strict";t.a=function(e){return"boolean"==typeof e}},function(e,t,n){"use strict";t.a=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=n(199),i=n(392),a=n(379),u=n(351);t.a=function(e,t){e&&(e=t?Object(i.a)(e).map((function(e){return e.replace(/\\(.)/g,"$1")})):Object(i.a)(e));var n=e&&e.length?Function("_","return ''+"+e.map((function(e){return"_["+(t?Object(u.a)(e):Object(a.a)(e).map(u.a).join("]["))+"]"})).join("+'|'+")+";"):function(){return""};return Object(r.c)(n,e,"key")}},function(e,t,n){"use strict";var r=n(301);t.a=function(e,t){const n=e[0],i=Object(r.a)(e),a=+t;return a?1===a?i:n+a*(i-n):n}},function(e,t,n){"use strict";t.a=function(e,t,n,r){var i=t.length,a=n.length;if(!a)return t;if(!i)return n;for(var u=r||new t.constructor(i+a),o=0,s=0,f=0;o<i&&s<a;++f)u[f]=e(t[o],n[s])>0?n[s++]:t[o++];for(;o<i;++o,++f)u[f]=t[o];for(;s<a;++s,++f)u[f]=n[s];return u}},function(e,t,n){"use strict";var r=n(449);t.a=function(e,t,n,i){var a=n||" ",u=e+"",o=t-u.length;return o<=0?u:"left"===i?Object(r.a)(a,o)+u:"center"===i?Object(r.a)(a,~~(o/2))+u+Object(r.a)(a,Math.ceil(o/2)):u+Object(r.a)(a,o)}},function(e,t,n){"use strict";var r=n(301);t.a=function(e){return e&&Object(r.a)(e)-e[0]||0}},function(e,t,n){"use strict";t.a=function(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e)&&!!e}},function(e,t,n){"use strict";var r=n(671),i=n(672);function a(e){return Object(i.a)(e)?e:Object(r.a)(e)?e:Date.parse(e)}t.a=function(e,t){return t=t||a,null==e||""===e?null:t(e)}},function(e,t,n){"use strict";t.a=function(e){return null==e||""===e?null:e+""}},function(e,t,n){"use strict";t.a=function(e){for(var t={},n=0,r=e.length;n<r;++n)t[e[n]]=!0;return t}},function(e,t,n){"use strict";t.a=function(e,t,n,r){var i=null!=r?r:"…",a=e+"",u=a.length,o=Math.max(0,t-i.length);return u<=t?a:"left"===n?i+a.slice(u-o):"center"===n?a.slice(0,Math.ceil(o/2))+i+a.slice(u-~~(o/2)):a.slice(0,o)+i}},function(e,t,n){"use strict";t.a=function(e,t,n){if(e){var r,i=0,a=e.length;if(t)for(;i<a;++i)(r=t(e[i]))&&n(r,i,e);else e.forEach(n)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(1350),i=n(1351),a=n(1352),u=n(634),o=n(1357),s=n(996),f=n(476),c=n(863),l=n(438),d=n(1358),p=n(319),m=n(302),b=n(1);function h(){this.logger(Object(b.K)()),this.logLevel(b.b),this._clock=0,this._rank=0;try{this._loader=Object(m.e)()}catch(e){}this._touched=Object(p.a)(b.w),this._input={},this._pulse=null,this._heap=Object(d.a)((e,t)=>e.qrank-t.qrank),this._postrun=[]}var g=h.prototype;function y(e){return function(){return this._log[e].apply(this,arguments)}}g.stamp=function(){return this._clock},g.loader=function(e){return arguments.length?(this._loader=e,this):this._loader},g.cleanThreshold=1e4,g.add=r.a,g.connect=i.a,g.rank=s.a,g.rerank=s.b,g.pulse=c.a,g.touch=c.b,g.update=c.c,g.changeset=l.a,g.ingest=u.a,g.parse=u.b,g.preload=u.c,g.request=u.d,g.events=a.a,g.on=o.a,g.evaluate=f.b,g.run=f.d,g.runAsync=f.f,g.runAfter=f.e,g._enqueue=f.a,g._getPulse=f.c,g.logger=function(e){return arguments.length?(this._log=e,this):this._log},g.error=y("error"),g.warn=y("warn"),g.info=y("info"),g.debug=y("debug"),g.logLevel=y("level")},function(e,t,n){"use strict";var r=n(380),i=n(483),a=n(1),u=n(208);t.a=function(e,t,n){t=t||{};const o=Object(i.b)(t.type||"json");return o||Object(a.n)("Unknown data format type: "+t.type),e=o(e,t),t.parse&&function(e,t,n){if(!e.length)return;n=n||u.c;var i,a,o,s,f,c,l,d=e.columns||Object.keys(e[0]);"auto"===t&&(t=Object(r.b)(e,d));for(d=Object.keys(t),i=d.map((function(e){var i,a,o=t[e];if(o&&(0===o.indexOf("date:")||0===o.indexOf("utc:")))return("'"===(a=(i=o.split(/:(.+)?/,2))[1])[0]&&"'"===a[a.length-1]||'"'===a[0]&&'"'===a[a.length-1])&&(a=a.slice(1,-1)),"utc"===i[0]?Object(u.e)(a):n(a);if(!r.c[o])throw Error("Illegal format pattern: "+e+":"+o);return r.c[o]})),s=0,c=e.length,l=d.length;s<c;++s)for(a=e[s],f=0;f<l;++f)o=d[f],a[o]=i[f](a[o])}(e,t.parse,n),Object(a.v)(e,"columns")&&delete e.columns,e}},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(243),i=n(1);function a(e,t){r.a.call(this,e,null,t)}var u=Object(i.y)(a,r.a);u.run=function(e){return e.stamp<this.stamp?e.StopPropagation:(this.skip()?this.skip(!1):t=this.evaluate(e),(t=t||e).then?t=t.then(e=>this.pulse=e):t!==e.StopPropagation&&(this.pulse=t),t);var t},u.evaluate=function(e){var t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},u.transform=function(){}},function(e,t,n){"use strict";t.a=function(e){var t,n,r,i,a,u,o,s,f=e.maxbins||20,c=e.base||10,l=Math.log(c),d=e.divide||[5,2],p=e.extent[0],m=e.extent[1],b=e.span||m-p||Math.abs(p)||1;if(e.step)t=e.step;else if(e.steps){for(a=b/f,u=0,o=e.steps.length;u<o&&e.steps[u]<a;++u);t=e.steps[Math.max(0,u-1)]}else{for(n=Math.ceil(Math.log(f)/l),r=e.minstep||0,t=Math.max(r,Math.pow(c,Math.round(Math.log(b)/l)-n));Math.ceil(b/t)>f;)t*=c;for(u=0,o=d.length;u<o;++u)(a=t/d[u])>=r&&b/a<=f&&(t=a)}return i=(a=Math.log(t))>=0?0:1+~~(-a/l),s=Math.pow(c,-i-1),(e.nice||void 0===e.nice)&&(p=p<(a=Math.floor(p/t+s)*t)?a-t:a,m=Math.ceil(m/t)*t),{start:p,stop:m===p?p+t:m,step:t}}},function(e,t,n){"use strict";var r=n(770),i=n(203),a=n(306),u=n(431);t.a=function(e,t,n,o){if(!e.length)return[void 0,void 0];var s,f,c,l,d=Float64Array.from(Object(r.a)(e,o)),p=d.length,m=t;for(c=0,l=Array(m);c<m;++c){for(s=0,f=0;f<p;++f)s+=d[~~(Object(i.a)()*p)];l[c]=s/p}return l.sort(a.a),[Object(u.a)(l,n/2),Object(u.a)(l,1-n/2)]}},function(e,t,n){"use strict";t.a=function(e){return function(){return(e=(1103515245*e+12345)%2147483647)/2147483647}}},function(e,t,n){"use strict";var r=n(203);t.a=function(e,t){null==t&&(t=e,e=0);var n,i,a,u={};return u.min=function(e){return arguments.length?(a=i-(n=e||0),u):n},u.max=function(e){return arguments.length?(a=(i=e||0)-n,u):i},u.sample=function(){return n+Math.floor(a*Object(r.a)())},u.pdf=function(e){return e===Math.floor(e)&&e>=n&&e<i?1/a:0},u.cdf=function(e){var t=Math.floor(e);return t<n?0:t>=i?1:(t-n+1)/a},u.icdf=function(e){return e>=0&&e<=1?n-1+Math.floor(e*a):NaN},u.min(e).max(t)}},function(e,t,n){"use strict";var r=n(680),i=n(679),a=n(203),u=n(2007);function o(e){var t=e.length,n=Object(i.a)(e),r=(n[2]-n[0])/1.34;return 1.06*Math.min(Math.sqrt(Object(u.a)(e)),r)*Math.pow(t,-.2)}t.a=function(e,t){var n=Object(r.a)(),i={},u=0;return i.data=function(n){return arguments.length?(e=n,u=n?n.length:0,i.bandwidth(t)):e},i.bandwidth=function(n){return arguments.length?(!(t=n)&&e&&(t=o(e)),i):t},i.sample=function(){return e[~~(Object(a.a)()*u)]+t*n.sample()},i.pdf=function(r){for(var i=0,a=0;a<u;++a)i+=n.pdf((r-e[a])/t);return i/t/u},i.cdf=function(r){for(var i=0,a=0;a<u;++a)i+=n.cdf((r-e[a])/t);return i/u},i.icdf=function(){throw Error("KDE icdf not supported.")},i.data(e)}},function(e,t,n){"use strict";var r=n(203);t.a=function(e,t){var n,i={},a=0;function u(e){var t,n=[],r=0;for(t=0;t<a;++t)r+=n[t]=null==e[t]?1:+e[t];for(t=0;t<a;++t)n[t]/=r;return n}return i.weights=function(e){return arguments.length?(n=u(t=e||[]),i):t},i.distributions=function(n){return arguments.length?(n?(a=n.length,e=n):(a=0,e=[]),i.weights(t)):e},i.sample=function(){for(var t=Object(r.a)(),i=e[a-1],u=n[0],o=0;o<a-1;u+=n[++o])if(t<u){i=e[o];break}return i.sample()},i.pdf=function(t){for(var r=0,i=0;i<a;++i)r+=n[i]*e[i].pdf(t);return r},i.cdf=function(t){for(var r=0,i=0;i<a;++i)r+=n[i]*e[i].cdf(t);return r},i.icdf=function(){throw Error("Mixture icdf not supported.")},i.distributions(e).weights(t)}},function(e,t,n){"use strict";var r=n(203);t.a=function(e,t){null==t&&(t=null==e?1:e,e=0);var n,i,a,u={};return u.min=function(e){return arguments.length?(a=i-(n=e||0),u):n},u.max=function(e){return arguments.length?(a=(i=e||0)-n,u):i},u.sample=function(){return n+a*Object(r.a)()},u.pdf=function(e){return e>=n&&e<=i?1/a:0},u.cdf=function(e){return e<n?0:e>i?1:(e-n)/a},u.icdf=function(e){return e>=0&&e<=1?n+e*a:NaN},u.min(e).max(t)}},function(e,t,n){"use strict";var r=n(325),i=n(206),a=n(273);t.a=function(e,t,n){let u=0,o=0,s=0,f=0,c=0;Object(i.b)(e,t,n,(e,t)=>{e=Math.log(e),u+=e,o+=t,s+=e*t,f+=e*e,++c});const l=Object(r.a)(u/c,o/c,s/c,f/c),d=e=>l[0]+l[1]*Math.log(e);return{coef:l,predict:d,rSquared:Object(a.a)(e,t,n,o/c,d)}}},function(e,t,n){"use strict";var r=n(325),i=n(206),a=n(273);t.a=function(e,t,n){let u=0,o=0,s=0,f=0,c=0,l=0;Object(i.b)(e,t,n,(e,t)=>{const n=Math.log(t),r=e*t;u+=t,s+=r,c+=e*r,o+=t*n,f+=r*n,++l});const d=Object(r.a)(s/u,o/u,f/u,c/u),p=e=>d[0]*Math.exp(d[1]*e);return d[0]=Math.exp(d[0]),{coef:d,predict:p,rSquared:Object(a.a)(e,t,n,u/l,p)}}},function(e,t,n){"use strict";var r=n(325),i=n(206),a=n(273);t.a=function(e,t,n){let u=0,o=0,s=0,f=0,c=0,l=0;Object(i.b)(e,t,n,(e,t)=>{const n=Math.log(e),r=Math.log(t);u+=n,o+=r,s+=n*r,f+=n*n,c+=t,++l});const d=Object(r.a)(u/l,o/l,s/l,f/l),p=e=>d[0]*Math.pow(e,d[1]);return d[0]=Math.exp(d[0]),{coef:d,predict:p,rSquared:Object(a.a)(e,t,n,c/l,p)}}},function(e,t,n){"use strict";var r=n(681),i=n(206),a=n(682),u=n(273);t.a=function(e,t,n,o){if(1===o)return Object(r.a)(e,t,n);if(2===o)return Object(a.a)(e,t,n);const[s,f]=Object(i.a)(e,t,n),c=s.length,l=[],d=[],p=o+1;let m,b,h,g,y,v=0;for(m=0;m<c;++m)v+=f[m];for(m=0;m<p;++m){for(h=0,g=0;h<c;++h)g+=Math.pow(s[h],m)*f[h];for(l.push(g),y=new Float64Array(p),b=0;b<p;++b){for(h=0,g=0;h<c;++h)g+=Math.pow(s[h],m+b);y[b]=g}d.push(y)}d.push(l);const O=function(e){const t=e.length-1,n=[];let r,i,a,u,o;for(r=0;r<t;++r){for(u=r,i=r+1;i<t;++i)Math.abs(e[r][i])>Math.abs(e[r][u])&&(u=i);for(a=r;a<t+1;++a)o=e[a][r],e[a][r]=e[a][u],e[a][u]=o;for(i=r+1;i<t;++i)for(a=t;a>=r;a--)e[a][i]-=e[a][r]*e[r][i]/e[r][r]}for(i=t-1;i>=0;--i){for(o=0,a=i+1;a<t;++a)o+=e[a][i]*n[a];n[i]=(e[t][i]-o)/e[i][i]}return n}(d),j=e=>{let t=0,n=0,r=O.length;for(;n<r;++n)t+=O[n]*Math.pow(e,n);return t};return{coef:O,predict:j,rSquared:Object(u.a)(e,t,n,v/c,j)}}},function(e,t,n){"use strict";var r=n(325),i=n(206),a=n(1719);function u(e){return(e=1-e*e*e)*e*e}function o(e,t,n){let r=e[t],i=n[0],a=n[1]+1;if(!(a>=e.length))for(;t>i&&e[a]-r<=r-e[i];)n[0]=++i,n[1]=a,++a}t.a=function(e,t,n,s){const[f,c]=Object(i.a)(e,t,n,!0),l=f.length,d=Math.max(2,~~(s*l)),p=new Float64Array(l),m=new Float64Array(l),b=new Float64Array(l).fill(1);for(let e=-1;++e<=2;){const t=[0,d-1];for(let e=0;e<l;++e){const n=f[e],i=t[0],a=t[1],s=n-f[i]>f[a]-n?i:a;let l=0,d=0,h=0,g=0,y=0,v=1/Math.abs(f[s]-n||1);for(let e=i;e<=a;++e){const t=f[e],r=c[e],i=u(Math.abs(n-t)*v)*b[e],a=t*i;l+=i,d+=a,h+=r*i,g+=r*a,y+=t*a}const[O,j]=Object(r.a)(d/l,h/l,g/l,y/l);p[e]=O+j*n,m[e]=Math.abs(c[e]-p[e]),o(f,e+1,t)}if(2===e)break;const n=Object(a.a)(m);if(Math.abs(n)<1e-12)break;for(let e,t,r=0;r<l;++r)e=m[r]/(6*n),b[r]=e>=1?1e-12:(t=1-e*e)*t}return function(e,t){const n=e.length,r=[];for(let i,a=0,u=0,o=[];a<n;++a)i=e[a],o[0]===i?o[1]+=(t[a]-o[1])/++u:(u=0,o=[i,t[a]],r.push(o));return r}(f,p)}},function(e,t,n){"use strict";const r=.1*Math.PI/180;function i(e,t,n){const r=Math.atan2(n[1]-e[1],n[0]-e[0]),i=Math.atan2(t[1]-e[1],t[0]-e[0]);return Math.abs(r-i)}t.a=function(e,t,n,a){n=n||25,a=Math.max(n,a||200);const u=t=>[t,e(t)],o=t[0],s=t[1],f=s-o,c=f/a,l=[u(o)],d=[];if(n===a){for(let e=1;e<a;++e)l.push(u(o+e/n*f));return l.push(u(s)),l}d.push(u(s));for(let e=n;--e>0;)d.push(u(o+e/n*f));let p=l[0],m=d[d.length-1];for(;m;){const e=u((p[0]+m[0])/2);e[0]-p[0]>=c&&i(p,e,m)>r?d.push(e):(p=m,l.push(m),d.pop()),m=d[d.length-1]}return l}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),i=n(105),a=n(1);function u(e){r.g.call(this,null,e)}u.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};var o=Object(a.y)(u,r.g);o.transform=function(e,t){var n,r=this._bins(e),i=r.start,u=r.step,o=e.as||["bin0","bin1"],s=o[0],f=o[1];return n=e.modified()?(t=t.reflow(!0)).SOURCE:t.modified(Object(a.g)(e.field))?t.ADD_MOD:t.ADD,t.visit(n,(function(e){var t=r(e);e[s]=t,e[f]=null==t?null:i+u*(1+(t-i)/u)})),t.modifies(o)},o._bins=function(e){if(this.value&&!e.modified())return this.value;var t,n,r=e.field,u=Object(i.a)(e),o=u.start,s=u.stop,f=u.step;null!=(t=e.anchor)&&(n=t-(o+f*Math.floor((t-o)/f)),o+=n,s+=n);var c=function(e){var t=r(e);return null==t?null:(t=Math.max(o,Math.min(+t,s-f)),o+f*Math.floor(1e-14+(t-o)/f))};return c.start=o,c.stop=s,c.step=f,this.value=Object(a.f)(c,Object(a.g)(r),e.name||"bin_"+Object(a.h)(r))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(771),i=n(12),a=n(1);function u(e){i.g.call(this,[],e)}u.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},Object(a.y)(u,i.g).transform=function(e,t){var n=t.fork(t.ALL),a=Object(r.a)(i.t,this.value,n.materialize(n.ADD).add),u=e.sort,o=t.changed()||u&&(e.modified("sort")||t.modified(u.fields));return n.visit(n.REM,a.remove),this.modified(o),this.value=n.source=a.data(Object(i.q)(u),o),t.source&&t.source.root&&(this.value.root=t.source.root),n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(12),i=n(1);function a(e){r.d.call(this,null,u,e)}function u(e){return this.value&&!e.modified()?this.value:Object(i.k)(e.fields,e.orders)}Object(i.y)(a,r.d)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(12),i=n(1);function a(e){r.g.call(this,null,e)}a.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};var u=Object(i.y)(a,r.g);u.transform=function(e,t){function n(t){return function(n){for(var r,i=function(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e.match(n)}(o(n),e.case,a)||[],s=0,f=i.length;s<f;++s)u.test(r=i[s])||t(r)}}var r=this._parameterCheck(e,t),i=this._counts,a=this._match,u=this._stop,o=e.field,s=e.as||["text","count"],f=n((function(e){i[e]=1+(i[e]||0)})),c=n((function(e){i[e]-=1}));return r?t.visit(t.SOURCE,f):(t.visit(t.ADD,f),t.visit(t.REM,c)),this._finish(t,s)},u._parameterCheck=function(e,t){var n=!1;return!e.modified("stopwords")&&this._stop||(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),!e.modified("pattern")&&this._match||(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},u._finish=function(e,t){var n,i,a,u=this._counts,o=this._tuples||(this._tuples={}),s=t[0],f=t[1],c=e.fork(e.NO_SOURCE|e.NO_FIELDS);for(n in u)i=o[n],a=u[n]||0,!i&&a?(o[n]=i=Object(r.l)({}),i[s]=n,i[f]=a,c.add.push(i)):0===a?(i&&c.rem.push(i),u[n]=null,o[n]=null):i[f]!==a&&(i[f]=a,c.mod.push(i));return c.modifies(t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(12),i=n(1);function a(e){r.g.call(this,null,e)}a.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},Object(i.y)(a,r.g).transform=function(e,t){var n=t.fork(t.NO_SOURCE),a=this.value,u=e.as||["a","b"],o=u[0],s=u[1];return!a||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter")?(a&&(n.rem=a),a=t.materialize(t.SOURCE).source,n.add=this.value=function(e,t,n,i){for(var a,u,o=[],s={},f=e.length,c=0;c<f;++c)for(s[t]=u=e[c],a=0;a<f;++a)s[n]=e[a],i(s)&&(o.push(Object(r.l)(s)),(s={})[t]=u);return o}(a,o,s,e.filter||i.eb)):n.mod=a,n.source=this.value,n.modifies(u)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1360),i=n(12),a=n(105),u=n(1);function o(e){i.g.call(this,null,e)}var s=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],f={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:s},{name:"weights",type:"number",array:!0}]};o.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:s.concat(f)},{name:"as",type:"string",array:!0,default:["value","density"]}]},Object(u.y)(o,i.g).transform=function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var o=Object(r.a)(e.distribution,function(e){return function(){return e.materialize(e.SOURCE).source}}(t)),s=e.steps||e.minsteps||25,f=e.steps||e.maxsteps||200,c=e.method||"pdf";"pdf"!==c&&"cdf"!==c&&Object(u.n)("Invalid density method: "+c),e.extent||o.data||Object(u.n)("Missing density extent parameter."),c=o[c];var l=e.as||["value","density"],d=e.extent||Object(u.p)(o.data()),p=Object(a.r)(c,d,s,f).map(e=>{var t={};return t[l[0]]=e[0],t[l[1]]=e[1],Object(i.l)(t)});this.value&&(n.rem=this.value),this.value=n.add=n.source=p}return n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(12),i=n(1);function a(e){r.d.call(this,null,u,e),this.modified(!0)}function u(e){var t=e.expr;return this.value&&!e.modified("expr")?this.value:Object(i.f)(n=>t(n,e),Object(i.g)(t),Object(i.h)(t))}Object(i.y)(a,r.d)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(12),i=n(1);function a(e){r.g.call(this,[void 0,void 0],e)}a.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},Object(i.y)(a,r.g).transform=function(e,t){var n,r=this.value,a=e.field,u=r[0],o=r[1];if(((n=t.changed()||t.modified(a.fields)||e.modified("field"))||null==u)&&(u=1/0,o=-1/0),t.visit(n?t.SOURCE:t.ADD,(function(e){var t=a(e);null!=t&&((t=+t)<u&&(u=t),t>o&&(o=t))})),!Number.isFinite(u)||!Number.isFinite(o)){let e=Object(i.h)(a);e&&(e=` for field "${e}"`),t.dataflow.warn(`Infinite extent${e}: [${u}, ${o}]`),u=o=void 0}this.value=[u,o]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(12),i=n(1);function a(e){r.d.call(this,null,u,e)}function u(e){return this.value&&!e.modified()?this.value:Object(i.A)(e.name)?Object(i.i)(e.name).map((function(e){return Object(i.t)(e)})):Object(i.t)(e.name,e.as)}Object(i.y)(a,r.d)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(12),i=n(1);function a(e){r.g.call(this,Object(i.s)(),e)}a.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},Object(i.y)(a,r.g).transform=function(e,t){var n=t.dataflow,i=this.value,a=t.fork(),u=a.add,o=a.rem,s=a.mod,f=e.expr,c=!0;function l(t){var n=Object(r.t)(t),a=f(t,e),l=i.get(n);a&&l?(i.delete(n),u.push(t)):a||l?c&&a&&!l&&s.push(t):(i.set(n,1),o.push(t))}return t.visit(t.REM,(function(e){var t=Object(r.t)(e);i.has(t)?i.delete(t):o.push(e)})),t.visit(t.ADD,(function(t){f(t,e)?u.push(t):i.set(Object(r.t)(t),1)})),t.visit(t.MOD,l),e.modified()&&(c=!1,t.visit(t.REFLOW,l)),i.empty>n.cleanThreshold&&n.runAfter(i.clean),a}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(772),i=n(12),a=n(1);function u(e){i.g.call(this,[],e)}u.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0}]},Object(a.y)(u,i.g).transform=function(e,t){var n=t.fork(t.NO_SOURCE),a=e.fields,u=Object(r.a)(a,e.as||[]),o=u.length;return n.rem=this.value,t.visit(t.SOURCE,(function(e){for(var t,r,s,f=a.map((function(t){return t(e)})),c=f.reduce((function(e,t){return Math.max(e,t.length)}),0),l=0;l<c;++l){for(r=Object(i.k)(e),t=0;t<o;++t)r[u[t]]=null==(s=f[t][l])?null:s;n.add.push(r)}})),this.value=n.source=n.add,n.modifies(u)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(12),i=n(1);function a(e){r.g.call(this,[],e)}a.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},Object(i.y)(a,r.g).transform=function(e,t){var n=t.fork(t.NO_SOURCE),a=e.fields,u=a.map(i.h),o=e.as||["key","value"],s=o[0],f=o[1],c=a.length;return n.rem=this.value,t.visit(t.SOURCE,(function(e){for(var t,i=0;i<c;++i)(t=Object(r.k)(e))[s]=u[i],t[f]=a[i](e),n.add.push(t)})),this.value=n.source=n.add,n.modifies(o)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(12),i=n(1);function a(e){r.g.call(this,null,e)}a.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},Object(i.y)(a,r.g).transform=function(e,t){var n=e.expr,r=e.as,i=e.modified(),a=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(a,(function(t){t[r]=n(t,e)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(12),i=n(1);function a(e){r.g.call(this,[],e)}Object(i.y)(a,r.g).transform=function(e,t){var n,i,a,u=this.value,o=t.fork(t.ALL),s=e.size-u.length,f=e.generator;if(s>0){for(n=[];--s>=0;)n.push(a=Object(r.l)(f(e))),u.push(a);o.add=o.add.length?o.materialize(o.ADD).add.concat(n):n}else i=u.slice(0,-s),o.rem=o.rem.length?o.materialize(o.REM).rem.concat(i):i,u=u.slice(-s);return o.source=this.value=u,o}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(12),i=n(1),a=n(1719),u=n(2008),o=n(2009),s=n(2010),f={value:"value",median:a.a,mean:u.a,min:o.a,max:s.a},c=[];function l(e){r.g.call(this,[],e)}l.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},Object(i.y)(l,r.g).transform=function(e,t){var n,a,u,o,s,l,d,p,m,b,h=t.fork(t.ALL),g=function(e){var t,n=e.method||f.value;if(null!=f[n])return n===f.value?(t=void 0!==e.value?e.value:0,function(){return t}):f[n];Object(i.n)("Unrecognized imputation method: "+n)}(e),y=function(e){var t=e.field;return function(e){return e?t(e):NaN}}(e),v=Object(i.h)(e.field),O=Object(i.h)(e.key),j=(e.groupby||[]).map(i.h),$=function(e,t,n,r){var i,a,u,o,s,f,l,d,p=function(e){return e(d)},m=[],b=r?r.slice():[],h={},g={};for(b.forEach((function(e,t){h[e]=t+1})),o=0,l=e.length;o<l;++o)d=e[o],f=n(d),s=h[f]||(h[f]=b.push(f)),a=(i=t?t.map(p):c)+"",(u=g[a])||(u=g[a]=[],m.push(u),u.values=i),u[s-1]=d;return m.domain=b,m}(t.source,e.groupby,e.key,e.keyvals),x=[],k=this.value,A=$.domain.length;for(s=0,p=$.length;s<p;++s)for(u=(n=$[s]).values,a=NaN,d=0;d<A;++d)if(null==n[d]){for(o=$.domain[d],b={_impute:!0},l=0,m=u.length;l<m;++l)b[j[l]]=u[l];b[O]=o,b[v]=isNaN(a)?a=g(n,y):a,x.push(Object(r.l)(b))}return x.length&&(h.add=h.materialize(h.ADD).add.concat(x)),k.length&&(h.rem=h.materialize(h.REM).rem.concat(k)),this.value=x,h}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(394),i=n(220),a=n(1);function u(e){r.a.call(this,e)}u.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:i.a},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};var o=Object(a.y)(u,r.a);o.transform=function(e,t){var n,r=this,i=e.modified();return r.value&&(i||t.modified(r._inputs,!0))?(n=r.value=i?r.init(e):{},t.visit(t.SOURCE,(function(e){r.add(e)}))):(n=r.value=r.value||this.init(e),t.visit(t.REM,(function(e){r.rem(e)})),t.visit(t.ADD,(function(e){r.add(e)}))),r.changes(),t.visit(t.SOURCE,(function(e){Object(a.o)(e,n[r.cellkey(e)].tuple)})),t.reflow(i).modifies(this._outputs)},o.changes=function(){var e,t,n=this._adds,r=this._mods;for(e=0,t=this._alen;e<t;++e)this.celltuple(n[e]),n[e]=null;for(e=0,t=this._mlen;e<t;++e)this.celltuple(r[e]),r[e]=null;this._alen=this._mlen=0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(105),i=n(12),a=n(1);function u(e){i.g.call(this,null,e)}u.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},Object(a.y)(u,i.g).transform=function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const u=t.materialize(t.SOURCE).source,o=function(e,t,n){var r,i,a,u,o,s,f=[],c=function(e){return e(u)};if(null==t)f.push(e.map(n));else for(r={},i=0,a=e.length;i<a;++i)u=e[i],o=t.map(c),(s=r[o])||(r[o]=s=[],s.dims=o,f.push(s)),s.push(n(u));return f}(u,e.groupby,e.field),s=(e.groupby||[]).map(a.h),f=e.bandwidth,c=e.cumulative?"cdf":"pdf",l=e.as||["value","density"],d=[];let p=e.extent,m=e.steps||e.minsteps||25,b=e.steps||e.maxsteps||200;"pdf"!==c&&"cdf"!==c&&Object(a.n)("Invalid density method: "+c),"shared"===e.resolve&&(p||(p=Object(a.p)(u,e.field)),m=b=e.steps||b),o.forEach(t=>{const n=Object(r.f)(t,f)[c],u=e.counts?t.length:1,o=p||Object(a.p)(t);Object(r.r)(n,o,m,b).forEach(e=>{const n={};for(let e=0;e<s.length;++e)n[s[e]]=t.dims[e];n[l[0]]=e[0],n[l[1]]=e[1]*u,d.push(Object(i.l)(n))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=d}return n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(12),i=n(1);function a(e){r.d.call(this,null,u,e)}function u(e){return this.value&&!e.modified()?this.value:Object(i.I)(e.fields,e.flat)}Object(i.y)(a,r.d)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(12),i=n(1);function a(e){r.g.call(this,[],e)}function u(e,t,n){n.forEach(r.l);const i=t.fork(t.NO_FIELDS&t.NO_SOURCE);return i.rem=e.value,e.value=i.add=i.source=n,i}Object(i.y)(a,r.g).transform=function(e,t){const n=t.dataflow;return e.values?u(this,t,n.parse(e.values,e.format)):n.request(e.url,e.format).then(e=>u(this,t,e.data||[]))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(12),i=n(1);function a(e){r.g.call(this,{},e)}a.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},Object(i.y)(a,r.g).transform=function(e,t){var n,r,a=t,u=e.as,o=e.fields,s=e.index,f=e.values,c=null==e.default?null:e.default,l=e.modified(),d=l?t.SOURCE:t.ADD,p=o.length;return f?(r=f.length,p>1&&!u&&Object(i.n)('Multi-field lookup requires explicit "as" parameter.'),u&&u.length!==p*r&&Object(i.n)('The "as" parameter has too few output field names.'),u=u||f.map(i.h),n=function(e){for(var t,n,i=0,a=0;i<p;++i)if(null==(n=s.get(o[i](e))))for(t=0;t<r;++t,++a)e[u[a]]=c;else for(t=0;t<r;++t,++a)e[u[a]]=f[t](n)}):(u||Object(i.n)("Missing output field names."),n=function(e){for(var t,n=0;n<p;++n)t=s.get(o[n](e)),e[u[n]]=null==t?c:t}),l?a=t.reflow(!0):d|=o.some((function(e){return t.modified(e.fields)}))?t.MOD:0,t.visit(d,n),a.modifies(u)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(12),i=n(1);function a(e){r.d.call(this,null,u,e)}function u(e){if(this.value&&!e.modified())return this.value;var t,n,r,i=1/0,a=-1/0,u=e.extents;for(t=0,n=u.length;t<n;++t)(r=u[t])[0]<i&&(i=r[0]),r[1]>a&&(a=r[1]);return[i,a]}Object(i.y)(a,r.d)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(12),i=n(1);function a(e){r.d.call(this,null,u,e)}function u(e){return this.value&&!e.modified()?this.value:e.values.reduce((function(e,t){return e.concat(t)}),[])}Object(i.y)(a,r.d)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(12),i=n(1);function a(e){r.g.call(this,null,e)}Object(i.y)(a,r.g),a.prototype.transform=function(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(394),i=n(220),a=n(1);function u(e){r.a.call(this,e)}u.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:i.a,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};var o=Object(a.y)(u,r.a);o._transform=o.transform,o.transform=function(e,t){return this._transform(function(e,t){var n=e.field,r=e.value,i=("count"===e.op?"__count__":e.op)||"sum",u=Object(a.g)(n).concat(Object(a.g)(r)),o=function(e,t,n){var r={},i=[];return n.visit(n.SOURCE,(function(t){var n=e(t);r[n]||(r[n]=1,i.push(n))})),i.sort((function(e,t){return(e<t||null==e)&&null!=t?-1:(e>t||null==t)&&null!=e?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t==t?-1:t!=t&&e==e?1:0)})),t?i.slice(0,t):i}(n,e.limit||0,t);t.changed()&&e.set("__pivot__",null,null,!0);return{key:e.key,groupby:e.groupby,ops:o.map((function(){return i})),fields:o.map((function(e){return function(e,t,n,r){return Object(a.f)((function(r){return t(r)===e?n(r):NaN}),r,e+"")}(e,n,r,u)})),as:o.map((function(e){return e+""})),modified:e.modified.bind(e)}}(e,t),t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(588),i=n(12),a=n(1);function u(e){r.a.call(this,e)}Object(a.y)(u,r.a).transform=function(e,t){var n=this,r=e.subflow,u=e.field;return(e.modified("field")||u&&t.modified(Object(a.g)(u)))&&Object(a.n)("PreFacet does not support field modification."),this._targets.active=0,t.visit(t.MOD,(function(e){var a=n.subflow(Object(i.t)(e),r,t,e);u?u(e).forEach((function(e){a.mod(e)})):a.mod(e)})),t.visit(t.ADD,(function(e){var a=n.subflow(Object(i.t)(e),r,t,e);u?u(e).forEach((function(e){a.add(Object(i.l)(e))})):a.add(e)})),t.visit(t.REM,(function(e){var a=n.subflow(Object(i.t)(e),r,t,e);u?u(e).forEach((function(e){a.rem(e)})):a.rem(e)})),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(772),i=n(12),a=n(1);function u(e){i.g.call(this,null,e)}u.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},Object(a.y)(u,i.g).transform=function(e,t){var n,a,u=e.fields,o=Object(r.a)(e.fields,e.as||[]),s=u?function(e,t){return function(e,t,n,r){for(var i=0,a=n.length;i<a;++i)t[r[i]]=n[i](e);return t}(e,t,u,o)}:i.o;return this.value?a=this.value:(t=t.addAll(),a=this.value={}),n=t.fork(t.NO_SOURCE),t.visit(t.REM,(function(e){var t=Object(i.t)(e);n.rem.push(a[t]),a[t]=null})),t.visit(t.ADD,(function(e){var t=s(e,Object(i.l)({}));a[Object(i.t)(e)]=t,n.add.push(t)})),t.visit(t.MOD,(function(e){n.mod.push(s(e,a[Object(i.t)(e)]))})),n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(12),i=n(1);function a(e){r.g.call(this,null,e)}Object(i.y)(a,r.g).transform=function(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(12),i=n(1);function a(e){r.g.call(this,null,e)}Object(i.y)(a,r.g).transform=function(e,t){var n,i;return this.value?i=this.value:(n=t=t.addAll(),i=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,(function(e){var t=Object(r.t)(e);n.rem.push(i[t]),i[t]=null})),t.visit(t.ADD,(function(e){var t=Object(r.k)(e);i[Object(r.t)(e)]=t,n.add.push(t)})),t.visit(t.MOD,(function(e){n.mod.push(Object(r.o)(e,i[Object(r.t)(e)]))}))),n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),i=n(105),a=n(1);function u(e){r.g.call(this,[],e),this.count=0}u.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},Object(a.y)(u,r.g).transform=function(e,t){var n=t.fork(t.NO_SOURCE),a=e.modified("size"),u=e.size,o=this.value,s=this.count,f=0,c=o.reduce((function(e,t){return e[Object(r.t)(t)]=1,e}),{});function l(e){var t,a;o.length<u?o.push(e):(a=~~((s+1)*Object(i.d)()))<o.length&&a>=f&&(t=o[a],c[Object(r.t)(t)]&&n.rem.push(t),o[a]=e),++s}if(t.rem.length&&(t.visit(t.REM,(function(e){var t=Object(r.t)(e);c[t]&&(c[t]=-1,n.rem.push(e)),--s})),o=o.filter((function(e){return-1!==c[Object(r.t)(e)]}))),(t.rem.length||a)&&o.length<u&&t.source&&(f=s=o.length,t.visit(t.SOURCE,(function(e){c[Object(r.t)(e)]||l(e)})),f=-1),a&&o.length>u){for(var d=0,p=o.length-u;d<p;++d)c[Object(r.t)(o[d])]=-1,n.rem.push(o[d]);o=o.slice(p)}return t.mod.length&&t.visit(t.MOD,(function(e){c[Object(r.t)(e)]&&n.mod.push(e)})),t.add.length&&t.visit(t.ADD,l),(t.add.length||f<0)&&(n.add=o.filter((function(e){return!c[Object(r.t)(e)]}))),this.count=s,this.value=n.source=o,n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),i=n(1),a=n(650);function u(e){r.g.call(this,null,e)}u.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},Object(i.y)(u,r.g).transform=function(e,t){if(!this.value||e.modified()){var n=t.materialize().fork(t.MOD),i=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=Object(a.a)(e.start,e.stop,e.step||1).map((function(e){var t={};return t[i]=e,Object(r.l)(t)})),n.add=t.add.concat(this.value),n}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(12),i=n(1);function a(e){r.g.call(this,null,e),this.modified(!0)}Object(i.y)(a,r.g).transform=function(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(12),i=n(1);function a(e){r.g.call(this,Object(i.s)(),e)}Object(i.y)(a,r.g).transform=function(e,t){var n=t.dataflow,r=e.field,i=this.value,a=!0;function u(e){i.set(r(e),e)}return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,u)):t.changed()?(t.visit(t.REM,(function(e){i.delete(r(e))})),t.visit(t.ADD,u)):a=!1,this.modified(a),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(12),i=n(1);function a(e){r.g.call(this,null,e)}Object(i.y)(a,r.g).transform=function(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(Object(r.q)(e.sort)):t.source).map(e.field))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(599),i=n(220),a=n(771),u=n(601),o=n(1361),s=n(12),f=n(1),c=n(864);function l(e){s.g.call(this,{},e),this._mlen=0,this._mods=[]}l.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:u.a.concat(i.a)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};var d=Object(f.y)(l,s.g);function p(e,t,n,r){var i=r.sort,a=i&&!r.ignorePeers,u=r.frame||[null,0],o=e.data(n),s=o.length,l=0,d=a?Object(c.a)(i):null,p={i0:0,i1:0,p0:0,p1:0,index:0,data:o,compare:i||Object(f.l)(-1)};for(t.init();l<s;++l)m(p,u,l,s),a&&b(p,d),t.update(p,o[l])}function m(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=null==t[0]?0:Math.max(0,n-Math.abs(t[0])),e.i1=null==t[1]?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function b(e,t){var n=e.i0,r=e.i1-1,i=e.compare,a=e.data,u=a.length-1;n>0&&!i(a[n],a[n-1])&&(e.i0=t.left(a,a[n])),r<u&&!i(a[r],a[r+1])&&(e.i1=t.right(a,a[r]))}d.transform=function(e,t){var n,i,a=this,u=a.state,f=e.modified(),c=Object(s.q)(e.sort);this.stamp=t.stamp,u&&!f||(u=a.state=new o.a(e));var l=Object(r.a)(e.groupby);function d(e){return a.group(l(e))}for(f||t.modified(u.inputs)?(a.value={},t.visit(t.SOURCE,(function(e){d(e).add(e)}))):(t.visit(t.REM,(function(e){d(e).remove(e)})),t.visit(t.ADD,(function(e){d(e).add(e)}))),n=0,i=a._mlen;n<i;++n)p(a._mods[n],u,c,e);return a._mlen=0,a._mods=[],t.reflow(f).modifies(u.outputs)},d.group=function(e){var t=this.value[e];return t||((t=this.value[e]=Object(a.a)(s.t)).stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(32),i=n(12),a=n(76),u=n(1);function o(e){i.g.call(this,null,e)}function s(e,t,n){return t(e.bounds.clear(),e,n)}Object(u.y)(o,i.g).transform=function(e,t){var n,i=t.dataflow,u=e.mark,o=u.marktype,f=a.h[o],c=f.bound,l=u.bounds;return f.nested?(u.items.length&&i.dirty(u.items[0]),l=s(u,c),u.items.forEach((function(e){e.bounds.clear().union(l)}))):o===r.q||e.modified()?(t.visit(t.MOD,(function(e){i.dirty(e)})),l.clear(),u.items.forEach((function(e){l.union(s(e,c))})),u.role===r.s&&t.reflow()):(n=t.changed(t.REM),t.visit(t.ADD,(function(e){l.union(s(e,c))})),t.visit(t.MOD,(function(e){n=n||l.alignsWith(e.bounds),i.dirty(e),l.union(s(e,c))})),n&&(l.clear(),u.items.forEach((function(e){l.union(e.bounds)})))),Object(a.p)(u),t.modifies("bounds")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(159),i=n(684),a=n(495);function u(e){arguments.length?this.root=Object(a.a)(e):(this.root=s({marktype:"group",name:"root",role:"frame"}),this.root.items=[new i.a(this.root)])}var o=u.prototype;function s(e,t){return{bounds:new r.a,clip:!!e.clip,group:t,interactive:!1!==e.interactive,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0}}o.toJSON=function(e){return Object(a.b)(this.root,e||0)},o.mark=function(e,t,n){var r=s(e,t=t||this.root.items[0]);return t.items[n]=r,r.zindex&&(r.group.zdirty=!0),r}},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(162),i=n(1),a=n(159);function u(e,t,n){const r=[],u=(new a.a).union(t),f=e.marktype;return f?o(e,u,n,r):"group"===f?s(e,u,n,r):Object(i.n)("Intersect scene must be mark node or group item.")}function o(e,t,n,i){if(function(e,t,n){return e.bounds&&t.intersects(e.bounds)&&("group"===e.marktype||!1!==e.interactive&&(!n||n(e)))}(e,t,n)){const a=e.items,u=e.marktype,o=a.length;let c=0;if("group"===u)for(;c<o;++c)s(a[c],t,n,i);else for(const e=r.a[u].isect;c<o;++c){let n=a[c];f(n,t,e)&&i.push(n)}}return i}function s(e,t,n,i){n&&n(e.mark)&&f(e,t,r.a.group.isect)&&i.push(e);const a=e.items,u=a&&a.length;if(u){const r=e.x||0,s=e.y||0;t.translate(-r,-s);for(let e=0;e<u;++e)o(a[e],t,n,i);t.translate(r,s)}return i}function f(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}},function(e,t,n){"use strict";var r=n(159),i=n(320),a=n(1),u=new r.a;t.a=function(e){var t=e.clip;if(Object(a.D)(t))t(Object(i.a)(u.clear()));else{if(!t)return;u.set(0,0,e.group.width,e.group.height)}e.bounds.intersect(u)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),i=n(1),a=":vega_identifier:";function u(e){r.g.call(this,0,e)}u.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},Object(i.y)(u,r.g).transform=function(e,t){var n=function(e){var t=e._signals[a];t||(e._signals[a]=t=e.add(0));return t}(t.dataflow),r=n.value,i=e.as;return t.visit(t.ADD,(function(e){e[i]||(e[i]=++r)})),n.set(this.value=r),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(32),i=n(12),a=n(76),u=n(1);function o(e){i.g.call(this,null,e)}Object(u.y)(o,i.g).transform=function(e,t){var n=this.value;n||((n=t.dataflow.scenegraph().mark(e.markdef,function(e){var t=e.groups,n=e.parent;return t&&1===t.size?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}(e),e.index)).group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);var i=n.marktype===r.q?a.e:a.g;return t.visit(t.ADD,(function(e){i.call(e,n)})),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(32),i=n(12),a=n(76),u=n(1);function o(e){i.g.call(this,null,e)}var s=Object(u.y)(o,i.g),f={parity:function(e){return e.filter((e,t)=>t%2?e.opacity=0:1)},greedy:function(e,t){var n;return e.filter((e,r)=>r&&c(n.bounds,e.bounds,t)?e.opacity=0:(n=e,1))}};function c(e,t,n){return n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2)}function l(e,t){for(var n,r=1,i=e.length,a=e[0].bounds;r<i;a=n,++r)if(c(a,n=e[r].bounds,t))return!0}function d(e){var t=e.bounds;return t.width()>1&&t.height()>1}function p(e){return e.forEach(e=>e.opacity=1),e}function m(e,t){return e.reflow(t.modified()).modifies("opacity")}s.transform=function(e,t){var n,i,o,s=f[e.method]||f.parity,c=t.materialize(t.SOURCE).source,b=e.separation||0;if(c&&c.length){if(!e.method)return e.modified("method")&&(p(c),t=m(t,e)),t;if(e.sort&&(c=c.slice().sort(e.sort)),n=p(c=c.filter(d)),t=m(t,e),n.length>=3&&l(n,b)){do{n=s(n,b)}while(n.length>=3&&l(n,b));n.length<3&&!Object(u.S)(c).opacity&&(n.length>1&&(Object(u.S)(n).opacity=0),Object(u.S)(c).opacity=1)}var h,g,y,v,O;return e.boundScale&&e.boundTolerance>=0&&(h=e.boundScale,g=e.boundOrient,y=+e.boundTolerance,v=h.range(),O=new a.a,g===r.G||g===r.c?O.set(v[0],-1/0,v[1],1/0):O.set(-1/0,v[0],1/0,v[1]),O.expand(y||1),i=e=>O.encloses(e.bounds),c.forEach(e=>{i(e)||(e.opacity=0)})),o=n[0].mark.bounds.clear(),c.forEach(e=>{e.opacity&&o.union(e.bounds)}),t}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(12),i=n(1);function a(e){r.g.call(this,null,e)}Object(i.y)(a,r.g).transform=function(e,t){var n=t.dataflow;if(t.visit(t.ALL,(function(e){n.dirty(e)})),t.fields&&t.fields.zindex){var r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(32),i=n(999),a=n(1e3),u=n(1001),o=n(1381),s=n(12),f=n(76),c=n(1);function l(e){s.g.call(this,null,e)}Object(c.y)(l,s.g).transform=function(e,t){var n=t.dataflow;return e.mark.items.forEach((function(t){e.layout&&Object(a.b)(n,t,e.layout),function(e,t,n){var s,c,l,d,p,m=t.items,b=Math.max(0,t.width||0),h=Math.max(0,t.height||0),g=(new f.a).set(0,0,b,h),y=g.clone(),v=g.clone(),O=[];for(d=0,p=m.length;d<p;++d)switch((c=m[d]).role){case r.b:(Object(i.b)(c)?y:v).union(Object(i.a)(e,c,b,h));break;case r.F:s=c;break;case r.s:O.push(Object(u.a)(e,c));break;case r.p:case r.C:case r.A:case r.z:case r.B:case r.g:case r.f:case r.h:y.union(c.bounds),v.union(c.bounds);break;default:g.union(c.bounds)}if(O.length){const t={};O.forEach(e=>{(l=e.orient||r.x)!==r.u&&(t[l]||(t[l]=[])).push(e)});for(let r in t){const i=t[r];Object(a.a)(e,i,Object(u.b)(i,r,n.legends,y,v,b,h))}O.forEach(t=>{const i=t.bounds;if(i.equals(t._bounds)||(t.bounds=t._bounds,e.dirty(t),t.bounds=i,e.dirty(t)),n.autosize&&n.autosize.type===r.l)switch(t.orient){case r.r:case r.x:g.add(i.x1,0).add(i.x2,0);break;case r.G:case r.c:g.add(0,i.y1).add(0,i.y2)}else g.union(i)})}g.union(y).union(v),s&&g.union(Object(o.a)(e,s,b,h,g));t.clip&&g.set(0,0,t.width||0,t.height||0);!function(e,t,n,i){var a=i.autosize||{},u=a.type,o=e._width,s=e._height,f=e.padding();if(e._autosize<1||!u)return;var c=Math.max(0,t.width||0),l=Math.max(0,Math.ceil(-n.x1)),d=Math.max(0,Math.ceil(n.x2-c)),p=Math.max(0,t.height||0),m=Math.max(0,Math.ceil(-n.y1)),b=Math.max(0,Math.ceil(n.y2-p));a.contains===r.w&&(o-=f.left+f.right,s-=f.top+f.bottom);u===r.u?(l=0,m=0,c=o,p=s):u===r.l?(c=Math.max(0,o-l-d),p=Math.max(0,s-m-b)):u===r.m?(c=Math.max(0,o-l-d),s=p+m+b):u===r.n?(o=c+l+d,p=Math.max(0,s-m-b)):u===r.v&&(o=c+l+d,s=p+m+b);e._resizeView(o,s,c,p,[l,m],a.resize)}(e,t,g,n)}(n,t,e)})),e.modified()&&t.reflow(),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(241),i=n(12),a=n(1);function u(e){i.g.call(this,null,e)}Object(a.y)(u,i.g).transform=function(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),a=this.value,u=e.scale,o=null==e.count?e.values?e.values.length:10:e.count,s=Object(r.a)(u,o,e.minstep),f=e.format||Object(r.b)(u,s,e.formatSpecifier,e.formatType),c=e.values?Object(r.d)(u,e.values,s):Object(r.c)(u,s);return a&&(n.rem=a),a=c.map((function(e,t){return Object(i.l)({index:t/(c.length-1||1),value:e,label:f(e)})})),e.extra&&a.length&&a.push(Object(i.l)({index:-1,extra:{value:a[0].value},label:""})),n.source=a,n.add=a,this.value=a,n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1),i=n(53),a=n(55),u={millisecond:a.c,second:a.g,minute:a.d,hour:a.b,day:a.a,week:a.j,month:a.f,year:a.k},o={millisecond:a.n,second:a.r,minute:a.o,hour:a.m,day:a.l,week:a.u,month:a.q,year:a.v};function s(e,t){const n=t===i.q?o:u;return Object(r.v)(n,e)&&n[e]}},,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1009),i=n(348);function a(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}function u(e,t){for(let n in e)s(n,t(e[n]))}const o={};function s(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(o[e]=t,this):o[e]}u(r.b,a),u(r.a,e=>Object(i.b)(a(e)))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(12),i=n(1);function a(e){r.g.call(this,null,e)}function u(){return Object(r.l)({})}function o(e){return e.exit}Object(i.y)(a,r.g).transform=function(e,t){var n=t.dataflow,a=t.fork(t.NO_SOURCE|t.NO_FIELDS),s=e.item||u,f=e.key||r.t,c=this.value;return Object(i.A)(a.encode)&&(a.encode=null),c&&(e.modified("key")||t.modified(f))&&Object(i.n)("DataJoin does not support modified key function or fields."),c||(t=t.addAll(),this.value=c=Object(i.s)().test(o),c.lookup=function(e){return c.get(f(e))}),t.visit(t.ADD,(function(e){var t=f(e),n=c.get(t);n?n.exit?(c.empty--,a.add.push(n)):a.mod.push(n):(c.set(t,n=s(e)),a.add.push(n)),n.datum=e,n.exit=!1})),t.visit(t.MOD,(function(e){var t=f(e),n=c.get(t);n&&(n.datum=e,a.mod.push(n))})),t.visit(t.REM,(function(e){var t=f(e),n=c.get(t);e!==n.datum||n.exit||(a.rem.push(n),n.exit=!0,++c.empty)})),t.changed(t.ADD_MOD)&&a.modifies("datum"),e.clean&&c.empty>n.cleanThreshold&&n.runAfter(c.clean),a}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(12),i=n(1);function a(e){r.g.call(this,null,e)}Object(i.y)(a,r.g).transform=function(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,a=e.encoders,u=t.encode;if(Object(i.A)(u)){if(!n.changed()&&!u.every((function(e){return a[e]})))return t.StopPropagation;u=u[0],n.encode=null}var o="enter"===u,s=a.update||i.r,f=a.enter||i.r,c=a.exit||i.r,l=(u&&!o?a[u]:s)||i.r;if(t.changed(t.ADD)&&(t.visit(t.ADD,(function(t){f(t,e),s(t,e)})),n.modifies(f.output),n.modifies(s.output),l!==i.r&&l!==s&&(t.visit(t.ADD,(function(t){l(t,e)})),n.modifies(l.output))),t.changed(t.REM)&&c!==i.r&&(t.visit(t.REM,(function(t){c(t,e)})),n.modifies(c.output)),o||l!==i.r){var d=t.MOD|(e.modified()?t.REFLOW:0);o?(t.visit(d,(function(t){var i=f(t,e)||r;(l(t,e)||i)&&n.mod.push(t)})),n.mod.length&&n.modifies(f.output)):t.visit(d,(function(t){(l(t,e)||r)&&n.mod.push(t)})),n.mod.length&&n.modifies(l.output)}return n.changed()?n:t.StopPropagation}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(865),i=n(467),a=n(241),u=n(12),o=n(42),s=n(1);function f(e){u.g.call(this,[],e)}Object(s.y)(f,u.g).transform=function(e,t){if(null!=this.value&&!e.modified())return t.StopPropagation;var n,f,c,l,d=t.fork(t.NO_SOURCE|t.NO_FIELDS),p=this.value,m=e.type||i.c,b=e.scale,h=Object(a.a)(b,null==e.count?5:e.count,e.minstep),g=e.format||Object(r.a)(b,h,m,e.formatSpecifier,e.formatType),y=e.values||Object(r.c)(b,h,m);return p&&(d.rem=p),m===i.c?(Object(s.D)(c=e.size)?(e.values||0!==b(y[0])||(y=y.slice(1)),l=y.reduce((function(t,n){return Math.max(t,c(n,e))}),0)):c=Object(s.l)(l=c||8),p=y.map((function(t,n){return Object(u.l)({index:n,label:g(t,n,y),value:t,offset:l,size:c(t,e)})}))):m===i.b?(n=b.domain(),f=Object(o.D)(b,n[0],Object(s.S)(n)),y.length<3&&!e.values&&n[0]!==Object(s.S)(n)&&(y=[n[0],Object(s.S)(n)]),p=y.map((function(e,t){return Object(u.l)({index:t,label:g(e,t,y),value:e,perc:f(e)})}))):(c=y.length-1,f=Object(r.b)(b),p=y.map((function(e,t){return Object(u.l)({index:t,label:g(e,t,y),value:e,perc:t?f(e):0,perc2:t===c?1:f(y[t+1])})}))),d.source=p,d.add=p,this.value=p,d}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(12),i=n(1),a=Object(i.s)({line:l,"line-radial":function(e,t,n,r){return l(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},arc:d,"arc-radial":function(e,t,n,r){return d(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},curve:p,"curve-radial":function(e,t,n,r){return p(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},"orthogonal-horizontal":function(e,t,n,r){return"M"+e+","+t+"V"+r+"H"+n},"orthogonal-vertical":function(e,t,n,r){return"M"+e+","+t+"H"+n+"V"+r},"orthogonal-radial":function(e,t,n,r){var i=Math.cos(e),a=Math.sin(e),u=Math.cos(n),o=Math.sin(n),s=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*a+"A"+t+","+t+" 0 0,"+(s?1:0)+" "+t*u+","+t*o+"L"+r*u+","+r*o},"diagonal-horizontal":function(e,t,n,r){var i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},"diagonal-vertical":function(e,t,n,r){var i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},"diagonal-radial":function(e,t,n,r){var i=Math.cos(e),a=Math.sin(e),u=Math.cos(n),o=Math.sin(n),s=(t+r)/2;return"M"+t*i+","+t*a+"C"+s*i+","+s*a+" "+s*u+","+s*o+" "+r*u+","+r*o}});function u(e){return e.source.x}function o(e){return e.source.y}function s(e){return e.target.x}function f(e){return e.target.y}function c(e){r.g.call(this,{},e)}function l(e,t,n,r){return"M"+e+","+t+"L"+n+","+r}function d(e,t,n,r){var i=n-e,a=r-t,u=Math.sqrt(i*i+a*a)/2;return"M"+e+","+t+"A"+u+","+u+" "+180*Math.atan2(a,i)/Math.PI+" 0 1 "+n+","+r}function p(e,t,n,r){var i=n-e,a=r-t,u=.2*(i+a),o=.2*(a-i);return"M"+e+","+t+"C"+(e+u)+","+(t+o)+" "+(n+o)+","+(r-u)+" "+n+","+r}c.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},Object(i.y)(c,r.g).transform=function(e,t){var n=e.sourceX||u,r=e.sourceY||o,c=e.targetX||s,l=e.targetY||f,d=e.as||"path",p=e.orient||"vertical",m=e.shape||"line",b=a.get(m+"-"+p)||a.get(m);return b||Object(i.n)("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,(function(e){e[d]=b(n(e),r(e),c(e),l(e))})),t.reflow(e.modified()).modifies(d)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(12),i=n(1),a=n(2016),u=n(650);function o(e){r.g.call(this,null,e)}o.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},Object(i.y)(o,r.g).transform=function(e,t){var n,r,o,s=e.as||["startAngle","endAngle"],f=s[0],c=s[1],l=e.field||i.M,d=e.startAngle||0,p=null!=e.endAngle?e.endAngle:2*Math.PI,m=t.source,b=m.map(l),h=b.length,g=d,y=(p-d)/Object(a.a)(b),v=Object(u.a)(h);for(e.sort&&v.sort((function(e,t){return b[e]-b[t]})),n=0;n<h;++n)o=b[v[n]],(r=m[v[n]])[f]=g,r[c]=g+=o*y;return this.value=b,t.reflow(e.modified()).modifies(s)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(241),i=n(12),a=n(1),u=n(42),o=n(650),s=n(337),f=5;function c(e){return Object(u.u)(e)&&e!==u.k}var l=Object(a.bb)(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function d(e){i.g.call(this,null,e),this.modified(!0)}function p(e,t,n){Object(u.y)(e)&&(Math.abs(t.reduce((function(e,t){return e+(t<0?-1:t>0?1:0)}),0))!==t.length&&n.warn("Log scale domain includes zero: "+Object(a.X)(t)));return t}function m(e,t,n){return Object(a.D)(e)&&(t||n)?Object(u.t)(e,b(t||[0,1],n)):e}function b(e,t){return t?e.slice().reverse():e}Object(a.y)(d,i.g).transform=function(e,t){var n=t.dataflow,i=this.value,d=function(e){var t,n=e.type,r="";if(n===u.k)return u.k+"-"+u.d;(function(e){const t=e.type;return Object(u.u)(t)&&t!==u.o&&t!==u.p&&(e.scheme||e.range&&e.range.length&&e.range.every(a.H))})(e)&&(t=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(null!=e.domainMid):0,r=2===t?u.k+"-":3===t?u.c+"-":"");return(r+n||u.d).toLowerCase()}(e);for(d in i&&d===i.type||(this.value=i=Object(u.C)(d)()),e)if(!l[d]){if("padding"===d&&c(i.type))continue;Object(a.D)(i[d])?i[d](e[d]):n.warn("Unsupported scale property: "+d)}return function(e,t,n){var r=e.type,i=t.round||!1,o=t.range;if(null!=t.rangeStep)o=function(e,t,n){e!==u.a&&e!==u.g&&Object(a.n)("Only band and point scales support rangeStep.");var r=(null!=t.paddingOuter?t.paddingOuter:t.padding)||0,i=e===u.g?1:(null!=t.paddingInner?t.paddingInner:t.padding)||0;return[0,t.rangeStep*Object(u.q)(n,i,r)]}(r,t,n);else if(t.scheme&&(o=function(e,t,n){var r,i,o=t.schemeExtent;Object(a.A)(t.scheme)?i=Object(u.s)(t.scheme,t.interpolate,t.interpolateGamma):(r=t.scheme.toLowerCase(),(i=Object(u.F)(r))||Object(a.n)(`Unrecognized scheme name: ${t.scheme}`));return n=e===u.n?n+1:e===u.b?n-1:e===u.i||e===u.j?+t.schemeCount||f:n,Object(u.x)(e)?m(i,o,t.reverse):Object(a.D)(i)?Object(u.B)(m(i,o),n):e===u.f?i:i.slice(0,n)}(r,t,n),Object(a.D)(o))){if(e.interpolator)return e.interpolator(o);Object(a.n)(`Scale type ${r} does not support interpolating color schemes.`)}if(o&&Object(u.x)(r))return e.interpolator(Object(u.s)(b(o,t.reverse),t.interpolate,t.interpolateGamma));o&&t.interpolate&&e.interpolate?e.interpolate(Object(u.r)(t.interpolate,t.interpolateGamma)):Object(a.D)(e.round)?e.round(i):Object(a.D)(e.rangeRound)&&e.interpolate(i?s.interpolateRound:s.interpolate);o&&e.range(b(o,t.reverse))}(i,e,function(e,t,n){let r=t.bins;if(r&&!Object(a.A)(r)){let t=e.domain(),n=t[0],i=Object(a.S)(t),u=null==r.start?n:r.start,s=null==r.stop?i:r.stop,f=r.step;f||Object(a.n)("Scale bins parameter missing step property."),u<n&&(u=f*Math.ceil(n/f)),s>i&&(s=f*Math.floor(i/f)),r=Object(o.a)(u,s+f/2,f)}r?e.bins=r:e.bins&&delete e.bins;e.type===u.b&&(r?t.domain||t.domainRaw||(e.domain(r),n=r.length):e.bins=e.domain());return n}(i,e,function(e,t,n){var i=function(e,t,n){return t?(e.domain(p(e.type,t,n)),t.length):-1}(e,t.domainRaw,n);if(i>-1)return i;var o,s,f=t.domain,l=e.type,d=t.zero||void 0===t.zero&&function(e){const t=e.type;return!e.bins&&(t===u.d||t===u.h||t===u.l)}(e);if(!f)return 0;c(l)&&t.padding&&f[0]!==Object(a.S)(f)&&(f=function(e,t,n,r,i,o){var s=Math.abs(Object(a.S)(n)-n[0]),f=s/(s-2*r),c=e===u.e?Object(a.jb)(t,null,f):e===u.l?Object(a.kb)(t,null,f,.5):e===u.h?Object(a.kb)(t,null,f,i||1):e===u.m?Object(a.lb)(t,null,f,o||1):Object(a.ib)(t,null,f);return(t=t.slice())[0]=c[0],t[t.length-1]=c[1],t}(l,f,t.range,t.padding,t.exponent,t.constant));(d||null!=t.domainMin||null!=t.domainMax||null!=t.domainMid)&&(o=(f=f.slice()).length-1||1,d&&(f[0]>0&&(f[0]=0),f[o]<0&&(f[o]=0)),null!=t.domainMin&&(f[0]=t.domainMin),null!=t.domainMax&&(f[o]=t.domainMax),null!=t.domainMid&&(((s=t.domainMid)<f[0]||s>f[o])&&n.warn("Scale domainMid exceeds domain min or max.",s),f.splice(o,0,s)));e.domain(p(l,f,n)),l===u.f&&e.unknown(t.domainImplicit?u.E:void 0);t.nice&&e.nice&&e.nice(!0!==t.nice&&Object(r.a)(e,t.nice)||null);return f.length}(i,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(12),i=n(1);function a(e){r.g.call(this,null,e)}Object(i.y)(a,r.g).transform=function(e,t){var n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(Object(r.q)(e.sort)),this.modified(n),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),i=n(1),a=["y0","y1"];function u(e){r.g.call(this,null,e)}function o(e,t,n,r,i){for(var a,u=(t-e.sum)/2,o=e.length,s=0;s<o;++s)(a=e[s])[r]=u,a[i]=u+=Math.abs(n(a))}function s(e,t,n,r,i){for(var a,u=1/e.sum,o=0,s=e.length,f=0,c=0;f<s;++f)(a=e[f])[r]=o,a[i]=o=u*(c+=Math.abs(n(a)))}function f(e,t,n,r,i){for(var a,u,o=0,s=0,f=e.length,c=0;c<f;++c)(a=+n(u=e[c]))<0?(u[r]=s,u[i]=s+=a):(u[r]=o,u[i]=o+=a)}u.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,default:a}]},Object(i.y)(u,r.g).transform=function(e,t){var n,u,c,l,d=e.as||a,p=d[0],m=d[1],b=Object(r.q)(e.sort),h=e.field||i.M,g="center"===e.offset?o:"normalize"===e.offset?s:f;for(n=function(e,t,n,r){var i,a,u,o,s,f,c,l,d,p=[],m=function(e){return e(s)};if(null==t)p.push(e.slice());else for(i={},a=0,u=e.length;a<u;++a)s=e[a],f=t.map(m),(c=i[f])||(i[f]=c=[],p.push(c)),c.push(s);for(f=0,d=0,o=p.length;f<o;++f){for(c=p[f],a=0,l=0,u=c.length;a<u;++a)l+=Math.abs(r(c[a]));c.sum=l,l>d&&(d=l),n&&c.sort(n)}return p.max=d,p}(t.source,e.groupby,b,h),u=0,c=n.length,l=n.max;u<c;++u)g(n[u],l,h,p,m);return t.reflow(e.modified()).modifies(d)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(12),i=n(1),a=n(2017),u=n(1010),o=["size","smooth"],s=["x","y","weight","size","cellSize","bandwidth"];function f(e){r.g.call(this,null,e)}f.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"smooth",type:"boolean"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0}]},Object(i.y)(f,r.g).transform=function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,i,f,c,l=t.fork(t.NO_SOURCE|t.NO_FIELDS),d=e.count||10;return e.values?(n=Object(u.b)(),i=o,f=e.values):(n=Object(u.a)(),i=s,f=t.materialize(t.SOURCE).source),n.thresholds(e.thresholds||(e.nice?d:(c=d,function(e){for(var t=Object(a.a)(e),n=t[0],r=t[1]-n,i=[],u=1;u<=c;++u)i.push(n+r*u/(c+1));return i}))),i.forEach((function(t){null!=e[t]&&n[t](e[t])})),this.value&&(l.rem=this.value),f=f&&f.length?n(f).map(r.l):[],this.value=l.source=l.add=f,l}},,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(369),i=n(12),a=n(1);function u(e){i.g.call(this,null,e)}u.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},Object(a.y)(u,i.g).transform=function(e,t){var n,i=this._features,u=this._points,o=e.fields,s=o&&o[0],f=o&&o[1],c=e.geojson,l=t.ADD;n=e.modified()||t.changed(t.REM)||t.modified(Object(a.g)(c))||s&&t.modified(Object(a.g)(s))||f&&t.modified(Object(a.g)(f)),this.value&&!n||(l=t.SOURCE,this._features=i=[],this._points=u=[]),c&&t.visit(l,(function(e){i.push(c(e))})),s&&f&&(t.visit(l,(function(e){var t=s(e),n=f(e);null!=t&&null!=n&&(t=+t)===t&&(n=+n)===n&&u.push([t,n])})),i=i.concat({type:r.a,geometry:{type:r.c,coordinates:u}})),this.value={type:r.b,features:i}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),i=n(326),a=n(1);function u(e){r.g.call(this,null,e)}u.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},Object(a.y)(u,r.g).transform=function(e,t){var n=t.fork(t.ALL),r=this.value,u=e.field||a.x,o=e.as||"path",s=n.SOURCE;!r||e.modified()?(this.value=r=Object(i.a)(e.projection),n.materialize().reflow()):s=u===a.x||t.modified(u.fields)?n.ADD_MOD:n.ADD;var f=function(e,t){var n=e.pointRadius();e.context(null),null!=t&&e.pointRadius(t);return n}(r,e.pointRadius);return n.visit(s,(function(e){e[o]=r(u(e))})),r.pointRadius(f),n.modifies(o)}},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(12),i=n(1);function a(e){r.g.call(this,null,e)}a.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},Object(i.y)(a,r.g).transform=function(e,t){var n,r=e.projection,i=e.fields[0],a=e.fields[1],u=e.as||["x","y"],o=u[0],s=u[1];function f(e){var t=r([i(e),a(e)]);t?(e[o]=t[0],e[s]=t[1]):(e[o]=void 0,e[s]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,f):(n=t.modified(i.fields)||t.modified(a.fields),t.visit(n?t.ADD_MOD:t.ADD,f)),t.modifies(u)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),i=n(326),a=n(1);function u(e){r.g.call(this,null,e)}u.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},Object(a.y)(u,r.g).transform=function(e,t){var n=t.fork(t.ALL),r=this.value,u=e.as||"shape",o=n.ADD;return r&&!e.modified()||(this.value=r=function(e,t,n){var r=null==n?function(n){return e(t(n))}:function(r){var i=e.pointRadius(),a=e.pointRadius(n)(t(r));return e.pointRadius(i),a};return r.context=function(t){return e.context(t),r},r}(Object(i.a)(e.projection),e.field||Object(a.t)("datum"),e.pointRadius),n.materialize().reflow(),o=n.SOURCE),n.visit(o,(function(e){e[u]=r})),n.modifies(u)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),i=n(1),a=n(21);function u(e){r.g.call(this,[],e),this.generator=Object(a.r)()}u.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},Object(i.y)(u,r.g).transform=function(e,t){var n,a=this.value,u=this.generator;if(!a.length||e.modified())for(var o in e)Object(i.D)(u[o])&&u[o](e[o]);return n=u(),a.length?t.mod.push(Object(r.p)(a[0],n)):t.add.push(Object(r.l)(n)),a[0]=n,t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(369),i=n(12),a=n(326),u=n(1);function o(e){i.g.call(this,null,e),this.modified(!0)}function s(e,t,n){Object(u.D)(e[t])&&e[t](n)}Object(u.y)(o,i.g).transform=function(e,t){var n=this.value;return!n||e.modified("type")?(this.value=n=function(e){var t=Object(a.b)((e||"mercator").toLowerCase());t||Object(u.n)("Unrecognized projection type: "+e);return t()}(e.type),a.c.forEach((function(t){null!=e[t]&&s(n,t,e[t])}))):a.c.forEach((function(t){e.modified(t)&&s(n,t,e[t])})),null!=e.pointRadius&&n.path.pointRadius(e.pointRadius),e.fit&&function(e,t){var n=function(e){return 1===(e=Object(u.i)(e)).length?e[0]:{type:r.b,features:e.reduce((e,t)=>e.concat(function(e){return e.type===r.b?e.features:Object(u.i)(e).filter(e=>null!=e).map(e=>e.type===r.a?e:{type:r.a,geometry:e})}(t)),[])}}(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(12),i=n(1),a=n(432),u={center:a.a,collide:a.b,nbody:a.d,link:a.c,x:a.f,y:a.g},o="forces",s=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],f=["static","iterations"],c=["x","y","vx","vy"];function l(e){r.g.call(this,null,e)}l.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:c}]};var d=Object(i.y)(l,r.g);function p(e,t,n,r){var a,u,f,c,l=Object(i.i)(t.forces);for(a=0,u=s.length;a<u;++a)(f=s[a])!==o&&t.modified(f)&&e[f](t[f]);for(a=0,u=l.length;a<u;++a)c=o+a,(f=n||t.modified(o,a)?b(l[a]):r&&m(l[a],r)?e.force(c):null)&&e.force(c,f);for(u=e.numForces||0;a<u;++a)e.force(o+a,null);return e.numForces=l.length,e}function m(e,t){var n,r;for(n in e)if(Object(i.D)(r=e[n])&&t.modified(Object(i.g)(r)))return 1;return 0}function b(e){var t,n;for(n in Object(i.v)(u,e.force)||Object(i.n)("Unrecognized force: "+e.force),t=u[e.force](),e)Object(i.D)(t[n])&&h(t[n],e[n],e);return t}function h(e,t,n){e(Object(i.D)(t)?function(e){return t(e,n)}:t)}d.transform=function(e,t){var n,r,i=this.value,u=t.changed(t.ADD_REM),o=e.modified(s),c=e.iterations||300;if(i?(u&&(t.modifies("index"),i.nodes(t.source)),(o||t.changed(t.MOD))&&p(i,e,0,t)):(this.value=i=function(e,t){var n=Object(a.e)(e),r=!1,i=n.stop,u=n.restart;return n.stopped=function(){return r},n.restart=function(){return r=!1,u()},n.stop=function(){return r=!0,i()},p(n,t,!0).on("end",(function(){r=!0}))}(t.source,e),i.on("tick",(n=t.dataflow,r=this,function(){n.touch(r).run()})),e.static||(u=!0,i.tick()),t.modifies("index")),o||u||e.modified(f)||t.changed()&&e.restart)if(i.alpha(Math.max(i.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(i.alphaMin(),1/c)),e.static)for(i.stop();--c>=0;)i.tick();else if(i.stopped()&&i.restart(),!u)return t.StopPropagation;return this.finish(e,t)},d.finish=function(e,t){for(var n,r=t.dataflow,i=this._argops,a=0,u=i.length;a<u;++a)if((n=i[a]).name===o&&"link"===n.op._argval.force)for(var s,f=n.op._argops,l=0,d=f.length;l<d;++l)if("links"===f[l].name&&(s=f[l].op.source)){r.pulse(s,r.changeset().reflow());break}return t.reflow(e.modified()).modifies(c)}},,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(607),i=n(12),a=n(1),u=n(167);function o(e){i.g.call(this,null,e)}function s(e){return e.values}function f(){var e,t=[];return e={entries:e=>(function e(n,r){if(++r>t.length)return n;var i,a=[];for(i in n)a.push({key:i,values:e(n[i],r)});return a})(function e(n,r){if(r>=t.length)return n;for(var i,a,u,o=-1,s=n.length,f=t[r++],c={},l={};++o<s;)(u=c[i=f(a=n[o])+""])?u.push(a):c[i]=[a];for(i in c)l[i]=e(c[i],r);return l}(e,0),0),key:n=>(t.push(n),e)}}o.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]},Object(a.y)(o,i.g).transform=function(e,t){t.source||Object(a.n)("Nest transform requires an upstream data source.");var n=e.generate,o=e.modified(),c=t.clone(),l=this.value;return(!l||o||t.changed())&&(l&&l.each(e=>{e.children&&Object(i.n)(e.data)&&c.rem.push(e.data)}),this.value=l=Object(u.b)({values:Object(a.i)(e.keys).reduce((e,t)=>(e.key(t),e),f()).entries(c.source)},s),n&&l.each(e=>{e.children&&(e=Object(i.l)(e.data),c.add.push(e),c.source.push(e))}),Object(r.a)(l,i.t,i.t)),c.source.root=l,c}},,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(287),i=n(1),a=n(167),u=["x","y","r","depth","children"];function o(e){r.a.call(this,e)}o.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:u.length,default:u}]};var s=Object(i.y)(o,r.a);s.layout=a.c,s.params=["radius","size","padding"],s.fields=u},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(287),i=n(1),a=n(167),u=["x0","y0","x1","y1","depth","children"];function o(e){r.a.call(this,e)}o.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:u.length,default:u}]};var s=Object(i.y)(o,r.a);s.layout=a.d,s.params=["size","round","padding"],s.fields=u},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(607),i=n(12),a=n(1),u=n(167);function o(e){i.g.call(this,null,e)}o.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},Object(a.y)(o,i.g).transform=function(e,t){t.source||Object(a.n)("Stratify transform requires an upstream data source.");var n=this.value,i=e.modified(),o=t.fork(t.ALL).materialize(t.SOURCE),s=!this.value||i||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return o.source=o.source.slice(),s&&(n=o.source.length?Object(r.a)(Object(u.e)().id(e.key).parentId(e.parentKey)(o.source),e.key,a.eb):Object(r.a)(Object(u.e)()([{}]),e.key,e.key)),o.source.root=this.value=n,o}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(287),i=n(1),a=n(167),u={tidy:a.f,cluster:a.a},o=["x","y","depth","children"];function s(e){r.a.call(this,e)}s.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:o.length,default:o}]};var f=Object(i.y)(s,r.a);f.layout=function(e){var t=e||"tidy";if(Object(i.v)(u,t))return u[t]();Object(i.n)("Unrecognized Tree layout method: "+t)},f.params=["size","nodeSize"],f.fields=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(12),i=n(1);function a(e){r.g.call(this,[],e)}a.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},Object(i.y)(a,r.g).transform=function(e,t){var n=this.value,a=t.source&&t.source.root,u=t.fork(t.NO_SOURCE),o={};return a||Object(i.n)("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(u.rem=n,t.visit(t.SOURCE,(function(e){o[Object(r.t)(e)]=1})),a.each((function(e){var t=e.data,n=e.parent&&e.parent.data;n&&o[Object(r.t)(t)]&&o[Object(r.t)(n)]&&u.add.push(Object(r.l)({source:n,target:t}))})),this.value=u.add):t.changed(t.MOD)&&(t.visit(t.MOD,(function(e){o[Object(r.t)(e)]=1})),n.forEach((function(e){(o[Object(r.t)(e.source)]||o[Object(r.t)(e.target)])&&u.mod.push(e)}))),u}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(287),i=n(1),a=n(167),u={binary:a.h,dice:a.i,slice:a.k,slicedice:a.l,squarify:a.m,resquarify:a.j},o=["x0","y0","x1","y1","depth","children"];function s(e){r.a.call(this,e)}s.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:o.length,default:o}]};var f=Object(i.y)(s,r.a);f.layout=function(){var e=Object(a.g)();return e.ratio=function(t){var n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=function(t){Object(i.v)(u,t)?e.tile(u[t]):Object(i.n)("Unrecognized Treemap layout method: "+t)},e},f.params=["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],f.fields=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(787),i=n(105),a=n(12),u=n(1);function o(e){a.g.call(this,null,e)}o.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},Object(u.y)(o,a.g).transform=function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const o=t.materialize(t.SOURCE).source,s=Object(r.a)(o,e.groupby),f=(e.groupby||[]).map(u.h),c=f.length,l=e.as||[Object(u.h)(e.x),Object(u.h)(e.y)],d=[];s.forEach(t=>{Object(i.m)(t,e.x,e.y,e.bandwidth||.3).forEach(e=>{const n={};for(let e=0;e<c;++e)n[f[e]]=t.dims[e];n[l[0]]=e[0],n[l[1]]=e[1],d.push(Object(a.l)(n))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=d}return n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(787),i=n(12),a=n(105),u=n(1);const o={linear:a.l,log:a.n,exp:a.k,pow:a.p,quad:a.q,poly:a.o};function s(e){i.g.call(this,null,e)}s.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(o)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},Object(u.y)(s,i.g).transform=function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const s=t.materialize(t.SOURCE).source,f=Object(r.a)(s,e.groupby),c=(e.groupby||[]).map(u.h),l=e.method||"linear",d=e.order||3,p=function(e,t){return"poly"===e?t:"quad"===e?2:1}(l,d),m=e.as||[Object(u.h)(e.x),Object(u.h)(e.y)],b=o[l],h=[];let g=e.extent;Object(u.v)(o,l)||Object(u.n)("Invalid regression method: "+l),null!=g&&"log"===l&&g[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),g=null),f.forEach(n=>{if(n.length<=p)return void t.dataflow.warn("Skipping regression with more parameters than data points.");const r=b(n,e.x,e.y,d);if(e.params)return void h.push(Object(i.l)({keys:n.dims,coef:r.coef,rSquared:r.rSquared}));const o=g||Object(u.p)(n,e.x),s=e=>{const t={};for(let e=0;e<c.length;++e)t[c[e]]=n.dims[e];t[m[0]]=e[0],t[m[1]]=e[1],h.push(Object(i.l)(t))};"linear"===l?o.forEach(e=>s([e,r.predict(e)])):Object(a.r)(r.predict,o,25,200).forEach(s)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=h}return n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),i=n(1),a=n(1427);function u(e){r.g.call(this,null,e)}u.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const o=Object(i.y)(u,r.g),s=[-1e5,-1e5,1e5,1e5];function f(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}o.transform=function(e,t){const n=e.as||"path",r=t.source;if(!r||!r.length)return t;let i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:s;const u=this.value=a.a.from(r,e.x,e.y).voronoi(i);for(let e=0,t=r.length;e<t;++e){const t=u.cellPolygon(e);r[e][n]=t?f(t):null}return t.reflow(e.modified()).modifies(n)}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(1429),i=n(12),a=n(1),u=n(42),o=n(105),s=["x","y","font","fontSize","fontStyle","fontWeight","angle"],f=["text","font","rotate","fontSize","fontStyle","fontWeight"];function c(e){i.g.call(this,Object(r.a)(),e)}c.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:s}]},Object(a.y)(c,i.g).transform=function(e,t){!e.size||e.size[0]&&e.size[1]||Object(a.n)("Wordcloud size dimensions must be non-zero.");var n=e.modified();if(n||t.changed(t.ADD_REM)||f.some((function(n){var r=e[n];return Object(a.D)(r)&&t.modified(r.fields)}))){var r,i=t.materialize(t.SOURCE).source,c=this.value,l=e.as||s,d=e.fontSize||14;if(Object(a.D)(d)?r=e.fontSizeRange:d=Object(a.l)(d),r){var p=d,m=Object(u.C)("sqrt")().domain(function(e,t){for(var n,r=1/0,i=-1/0,a=0,u=t.length;a<u;++a)(n=e(t[a]))<r&&(r=n),n>i&&(i=n);return[r,i]}(p,i)).range(r);d=function(e){return m(p(e))}}i.forEach((function(e){e[l[0]]=NaN,e[l[1]]=NaN,e[l[3]]=0}));for(var b,h,g=c.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(d).random(o.d).layout(),y=c.size(),v=y[0]>>1,O=y[1]>>1,j=0,$=g.length;j<$;++j)(h=(b=g[j]).datum)[l[0]]=b.x+v,h[l[1]]=b.y+O,h[l[2]]=b.font,h[l[3]]=b.size,h[l[4]]=b.style,h[l[5]]=b.weight,h[l[6]]=b.rotate;return t.reflow(n).modifies(l)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1431),i=n(1021),a=n(1022),u=n(12),o=n(1);function s(e){u.g.call(this,Object(r.a)(),e),this._indices=null,this._dims=null}s.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};var f=Object(o.y)(s,u.g);f.transform=function(e,t){return this._dims?e.modified("fields")||e.fields.some((function(e){return t.modified(e.fields)}))?this.reinit(e,t):this.eval(e,t):this.init(e,t)},f.init=function(e,t){for(var n,r,u=e.fields,o=e.query,s=this._indices={},f=this._dims=[],c=o.length,l=0;l<c;++l)r=s[n=u[l].fname]||(s[n]=Object(a.a)()),f.push(Object(i.a)(r,l,o[l]));return this.eval(e,t)},f.reinit=function(e,t){var n,r,u,o,s,f,c,l,d,p=t.materialize().fork(),m=e.fields,b=e.query,h=this._indices,g=this._dims,y=this.value,v=y.curr(),O=y.prev(),j=y.all(),$=p.rem=p.add,x=p.mod,k=b.length,A={};if(O.set(v),t.rem.length&&(s=this.remove(e,t,p)),t.add.length&&y.add(t.add),t.mod.length)for(f={},c=0,l=(o=t.mod).length;c<l;++c)f[o[c]._index]=1;for(c=0;c<k;++c)d=m[c],(!g[c]||e.modified("fields",c)||t.modified(d.fields))&&((n=A[u=d.fname])||(h[u]=r=Object(a.a)(),A[u]=n=r.insert(d,t.source,0)),g[c]=Object(i.a)(r,c,b[c]).onAdd(n,v));for(c=0,l=y.data().length;c<l;++c)s[c]||(O[c]!==v[c]?$.push(c):f[c]&&v[c]!==j&&x.push(c));return y.mask=(1<<k)-1,p},f.eval=function(e,t){var n=t.materialize().fork(),r=this._dims.length,i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},f.insert=function(e,t,n){var r,i,a,u=t.add,o=this.value,s=this._dims,f=this._indices,c=e.fields,l={},d=n.add,p=o.size(),m=p+u.length,b=s.length;o.resize(m,b),o.add(u);var h=o.curr(),g=o.prev(),y=o.all();for(r=0;r<b;++r)a=l[i=c[r].fname]||(l[i]=f[i].insert(c[r],u,p)),s[r].onAdd(a,h);for(;p<m;++p)g[p]=y,h[p]!==y&&d.push(p)},f.modify=function(e,t){var n,r,i,a=t.mod,u=this.value,o=u.curr(),s=u.all(),f=e.mod;for(n=0,r=f.length;n<r;++n)o[i=f[n]._index]!==s&&a.push(i)},f.remove=function(e,t,n){var r,i,a,u,o=this._indices,s=this.value,f=s.curr(),c=s.prev(),l=s.all(),d={},p=n.rem,m=t.rem;for(r=0,i=m.length;r<i;++r)d[a=m[r]._index]=1,c[a]=u=f[a],f[a]=l,u!==l&&p.push(a);for(a in o)o[a].remove(i,d);return this.reindex(t,i,d),d},f.reindex=function(e,t,n){var r=this._indices,i=this.value;e.runAfter((function(){var e=i.remove(t,n);for(var a in r)r[a].reindex(e)}))},f.update=function(e,t,n){var r,i,a=this._dims,u=e.query,o=t.stamp,s=a.length,f=0;for(n.filters=0,i=0;i<s;++i)e.modified("query",i)&&(r=i,++f);if(1===f)f=a[r].one,this.incrementOne(a[r],u[r],n.add,n.rem);else for(i=0,f=0;i<s;++i)e.modified("query",i)&&(f|=a[i].one,this.incrementAll(a[i],u[i],o,n.add),n.rem=n.add);return f},f.incrementAll=function(e,t,n,r){var i,a,u,o=this.value,s=o.seen(),f=o.curr(),c=o.prev(),l=e.index(),d=e.bisect(e.range),p=e.bisect(t),m=p[0],b=p[1],h=d[0],g=d[1],y=e.one;if(m<h)for(i=m,a=Math.min(h,b);i<a;++i)s[u=l[i]]!==n&&(c[u]=f[u],s[u]=n,r.push(u)),f[u]^=y;else if(m>h)for(i=h,a=Math.min(m,g);i<a;++i)s[u=l[i]]!==n&&(c[u]=f[u],s[u]=n,r.push(u)),f[u]^=y;if(b>g)for(i=Math.max(m,g),a=b;i<a;++i)s[u=l[i]]!==n&&(c[u]=f[u],s[u]=n,r.push(u)),f[u]^=y;else if(b<g)for(i=Math.max(h,b),a=g;i<a;++i)s[u=l[i]]!==n&&(c[u]=f[u],s[u]=n,r.push(u)),f[u]^=y;e.range=t.slice()},f.incrementOne=function(e,t,n,r){var i,a,u,o=this.value.curr(),s=e.index(),f=e.bisect(e.range),c=e.bisect(t),l=c[0],d=c[1],p=f[0],m=f[1],b=e.one;if(l<p)for(i=l,a=Math.min(p,d);i<a;++i)o[u=s[i]]^=b,n.push(u);else if(l>p)for(i=p,a=Math.min(l,m);i<a;++i)o[u=s[i]]^=b,r.push(u);if(d>m)for(i=Math.max(l,m),a=d;i<a;++i)o[u=s[i]]^=b,n.push(u);else if(d<m)for(i=Math.max(p,d),a=m;i<a;++i)o[u=s[i]]^=b,r.push(u);e.range=t.slice()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(12),i=n(1);function a(e){r.g.call(this,null,e)}a.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},Object(i.y)(a,r.g).transform=function(e,t){var n=~(e.ignore||0),r=e.filter,i=r.mask;if(0==(i&n))return t.StopPropagation;var a=t.fork(t.ALL),u=r.data(),o=r.curr(),s=r.prev(),f=function(e){return o[e]&n?null:u[e]};return a.filter(a.MOD,f),i&i-1?(a.filter(a.ADD,(function(e){var t=o[e]&n;return!t&&t^s[e]&n?u[e]:null})),a.filter(a.REM,(function(e){var t=o[e]&n;return t&&!(t^t^s[e]&n)?u[e]:null}))):(a.filter(a.ADD,f),a.filter(a.REM,(function(e){return(o[e]&n)===i?u[e]:null}))),a.filter(a.SOURCE,(function(e){return f(e._index)}))}},function(e){e.exports=JSON.parse('{"a":"5.6.0"}')},function(e,t,n){"use strict";var r=n(1277);n.d(t,"a",(function(){return r.a}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n(1432),i=n(479),a=n(1023),u=n(1434),o=n(1435),s=n(1436),f=n(1439),c=n(1440),l=n(1441),d=n(332),p=n(1442),m=n(1446),b=n(638),h=n(1026),g=n(1447),y=n(1448),v=n(609),O=n(12),j=n(1),$=n(76);function x(e,t){t=t||{},O.a.call(this),t.loader&&this.loader(t.loader),t.logger&&this.logger(t.logger),null!=t.logLevel&&this.logLevel(t.logLevel),this._el=null,this._elBind=null,this._renderType=t.renderer||$.i.Canvas,this._scenegraph=new $.o;var n=this._scenegraph.root;this._renderer=null,this._tooltip=t.tooltip||y.a,this._redraw=!0,this._handler=(new $.b).scene(n),this._preventDefault=!1,this._timers=[],this._eventListeners=[],this._resizeListeners=[],this._eventConfig=Object(a.b)(e.eventConfig);var i=Object(p.a)(this,e,t.functions);this._runtime=i,this._signals=i.signals,this._bind=(e.bindings||[]).map((function(e){return{state:null,param:Object(j.o)({},e)}})),i.root&&i.root.set(n),n.source=i.data.root.input,this.pulse(i.data.root.input,this.changeset().insert(n.items)),this._background=t.background||i.background||null,this._width=this.width(),this._height=this.height(),this._viewWidth=Object(b.d)(this,this._width),this._viewHeight=Object(b.c)(this,this._height),this._origin=[0,0],this._resize=0,this._autosize=1,Object(b.a)(this),Object(r.a)(this),t.hover&&this.hover(),t.container&&this.initialize(t.container,t.bind)}var k=Object(j.y)(x,O.a);function A(e,t){return Object(j.v)(e._signals,t)?e._signals[t]:Object(j.n)("Unrecognized signal name: "+Object(j.X)(t))}function w(e,t){var n=(e._targets||[]).filter((function(e){var n=e._update;return n&&n.handler===t}));return n.length?n[0]:null}function _(e,t,n,r){var i=w(n,r);return i||((i=Object(v.a)(this,(function(){r(t,n.value)}))).handler=r,e.on(n,null,i)),e}function F(e,t,n){var r=w(t,n);return r&&t._targets.remove(r),e}k.evaluate=async function(e,t,n){if(await O.a.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,Object(d.c)(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(e){this.error(e)}return n&&Object(O.h)(this,n),this},k.dirty=function(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},k.container=function(){return this._el},k.scenegraph=function(){return this._scenegraph},k.origin=function(){return this._origin.slice()},k.signal=function(e,t,n){var r=A(this,e);return 1===arguments.length?r.value:this.update(r,t,n)},k.background=function(e){return arguments.length?(this._background=e,this._resize=1,this):this._background},k.width=function(e){return arguments.length?this.signal("width",e):this.signal("width")},k.height=function(e){return arguments.length?this.signal("height",e):this.signal("height")},k.padding=function(e){return arguments.length?this.signal("padding",e):this.signal("padding")},k.autosize=function(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},k.renderer=function(e){return arguments.length?(Object($.Q)(e)||Object(j.n)("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},k.tooltip=function(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},k.loader=function(e){return arguments.length?(e!==this._loader&&(O.a.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},k.resize=function(){return this._autosize=1,this.touch(A(this,"autosize"))},k._resetRenderer=function(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},k._resizeView=b.b,k.addEventListener=function(e,t,n){var r=t;return n&&!1===n.trap||((r=Object(v.a)(this,t)).raw=t),this._handler.on(e,r),this},k.removeEventListener=function(e,t){for(var n,r,i=this._handler.handlers(e),a=i.length;--a>=0;)if(r=i[a].type,n=i[a].handler,e===r&&(t===n||t===n.raw)){this._handler.off(r,n);break}return this},k.addResizeListener=function(e){var t=this._resizeListeners;return t.indexOf(e)<0&&t.push(e),this},k.removeResizeListener=function(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},k.addSignalListener=function(e,t){return _(this,e,A(this,e),t)},k.removeSignalListener=function(e,t){return F(this,A(this,e),t)},k.addDataListener=function(e,t){return _(this,e,Object(i.c)(this,e).values,t)},k.removeDataListener=function(e,t){return F(this,Object(i.c)(this,e).values,t)},k.preventDefault=function(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},k.timer=g.a,k.events=a.a,k.finalize=o.a,k.hover=u.a,k.data=i.b,k.change=i.a,k.insert=i.d,k.remove=i.e,k.scale=m.a,k.initialize=s.a,k.toImageURL=f.a,k.toCanvas=c.a,k.toSVG=l.a,k.getState=h.a,k.setState=h.b},function(e,t,n){"use strict";var r,i,a,u,o,s=n(134),f=1,c=2,l=3,d=4,p=5,m=6,b=7,h=8;(r={})[f]="Boolean",r[c]="<end>",r[l]="Identifier",r[d]="Keyword",r[p]="Null",r[m]="Numeric",r[b]="Punctuator",r[h]="String",r[9]="RegularExpression";var g="ArrayExpression",y="BinaryExpression",v="CallExpression",O="ConditionalExpression",j="Identifier",$="Literal",x="LogicalExpression",k="MemberExpression",A="ObjectExpression",w="Property",_="UnaryExpression",F="Unexpected token %0",D="Unexpected number",S="Unexpected string",C="Unexpected identifier",E="Unexpected reserved word",q="Unexpected end of input",M="Invalid regular expression",z="Invalid regular expression: missing /",B="Octal literals are not allowed in strict mode.",P="Duplicate data property in object literal not allowed in strict mode",T="ILLEGAL",R="Disabled.",I=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),V=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function L(e,t){if(!e)throw new Error("ASSERT: "+t)}function N(e){return e>=48&&e<=57}function U(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function W(e){return"01234567".indexOf(e)>=0}function X(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function H(e){return 10===e||13===e||8232===e||8233===e}function G(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&I.test(String.fromCharCode(e))}function Y(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&V.test(String.fromCharCode(e))}var J={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function K(){for(var e;a<u&&(X(e=i.charCodeAt(a))||H(e));)++a}function Q(e){var t,n,r,o=0;for(n="u"===e?4:2,t=0;t<n;++t)a<u&&U(i[a])?(r=i[a++],o=16*o+"0123456789abcdef".indexOf(r.toLowerCase())):me({},F,T);return String.fromCharCode(o)}function Z(){var e,t,n,r;for(t=0,"}"===(e=i[a])&&me({},F,T);a<u&&U(e=i[a++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&me({},F,T),t<=65535?String.fromCharCode(t):(n=55296+(t-65536>>10),r=56320+(t-65536&1023),String.fromCharCode(n,r))}function ee(){var e,t;for(e=i.charCodeAt(a++),t=String.fromCharCode(e),92===e&&(117!==i.charCodeAt(a)&&me({},F,T),++a,(e=Q("u"))&&"\\"!==e&&G(e.charCodeAt(0))||me({},F,T),t=e);a<u&&Y(e=i.charCodeAt(a));)++a,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==i.charCodeAt(a)&&me({},F,T),++a,(e=Q("u"))&&"\\"!==e&&Y(e.charCodeAt(0))||me({},F,T),t+=e);return t}function te(){var e,t;return e=a,{type:1===(t=92===i.charCodeAt(a)?ee():function(){var e,t;for(e=a++;a<u;){if(92===(t=i.charCodeAt(a)))return a=e,ee();if(!Y(t))break;++a}return i.slice(e,a)}()).length?l:J.hasOwnProperty(t)?d:"null"===t?p:"true"===t||"false"===t?f:l,value:t,start:e,end:a}}function ne(){var e,t,n,r,u=a,o=i.charCodeAt(a),s=i[a];switch(o){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++a,{type:b,value:String.fromCharCode(o),start:u,end:a};default:if(61===(e=i.charCodeAt(a+1)))switch(o){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return a+=2,{type:b,value:String.fromCharCode(o)+String.fromCharCode(e),start:u,end:a};case 33:case 61:return a+=2,61===i.charCodeAt(a)&&++a,{type:b,value:i.slice(u,a),start:u,end:a}}}return">>>="===(r=i.substr(a,4))?{type:b,value:r,start:u,end:a+=4}:">>>"===(n=r.substr(0,3))||"<<="===n||">>="===n?{type:b,value:n,start:u,end:a+=3}:s===(t=n.substr(0,2))[1]&&"+-<>&|".indexOf(s)>=0||"=>"===t?{type:b,value:t,start:u,end:a+=2}:"<>=!+-*%&|^/".indexOf(s)>=0?{type:b,value:s,start:u,end:++a}:void me({},F,T)}function re(){var e,t,n;if(L(N((n=i[a]).charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),t=a,e="","."!==n){if(e=i[a++],n=i[a],"0"===e){if("x"===n||"X"===n)return++a,function(e){for(var t="";a<u&&U(i[a]);)t+=i[a++];return 0===t.length&&me({},F,T),G(i.charCodeAt(a))&&me({},F,T),{type:m,value:parseInt("0x"+t,16),start:e,end:a}}(t);if(W(n))return function(e){for(var t="0"+i[a++];a<u&&W(i[a]);)t+=i[a++];return(G(i.charCodeAt(a))||N(i.charCodeAt(a)))&&me({},F,T),{type:m,value:parseInt(t,8),octal:!0,start:e,end:a}}(t);n&&N(n.charCodeAt(0))&&me({},F,T)}for(;N(i.charCodeAt(a));)e+=i[a++];n=i[a]}if("."===n){for(e+=i[a++];N(i.charCodeAt(a));)e+=i[a++];n=i[a]}if("e"===n||"E"===n)if(e+=i[a++],"+"!==(n=i[a])&&"-"!==n||(e+=i[a++]),N(i.charCodeAt(a)))for(;N(i.charCodeAt(a));)e+=i[a++];else me({},F,T);return G(i.charCodeAt(a))&&me({},F,T),{type:m,value:parseFloat(e),start:t,end:a}}function ie(){var e,t,n,r;return o=null,K(),e=a,t=function(){var e,t,n,r;for(L("/"===(e=i[a]),"Regular expression literal must start with a slash"),t=i[a++],n=!1,r=!1;a<u;)if(t+=e=i[a++],"\\"===e)H((e=i[a++]).charCodeAt(0))&&me({},z),t+=e;else if(H(e.charCodeAt(0)))me({},z);else if(n)"]"===e&&(n=!1);else{if("/"===e){r=!0;break}"["===e&&(n=!0)}return r||me({},z),{value:t.substr(1,t.length-2),literal:t}}(),n=function(){var e,t,n;for(t="",n="";a<u&&Y((e=i[a]).charCodeAt(0));)++a,"\\"===e&&a<u?me({},F,T):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&me({},M,n),{value:n,literal:t}}(),r=function(e,t){var n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(function(e,t){if(parseInt(t,16)<=1114111)return"x";me({},M)})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(e){me({},M)}try{return new RegExp(e,t)}catch(e){return null}}(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:a}}function ae(){var e;return K(),a>=u?{type:c,start:a,end:a}:G(e=i.charCodeAt(a))?te():40===e||41===e||59===e?ne():39===e||34===e?function(){var e,t,n,r,o="",s=!1;for(L("'"===(e=i[a])||'"'===e,"String literal must starts with a quote"),t=a,++a;a<u;){if((n=i[a++])===e){e="";break}if("\\"===n)if((n=i[a++])&&H(n.charCodeAt(0)))"\r"===n&&"\n"===i[a]&&++a;else switch(n){case"u":case"x":"{"===i[a]?(++a,o+=Z()):o+=Q(n);break;case"n":o+="\n";break;case"r":o+="\r";break;case"t":o+="\t";break;case"b":o+="\b";break;case"f":o+="\f";break;case"v":o+="\v";break;default:W(n)?(0!==(r="01234567".indexOf(n))&&(s=!0),a<u&&W(i[a])&&(s=!0,r=8*r+"01234567".indexOf(i[a++]),"0123".indexOf(n)>=0&&a<u&&W(i[a])&&(r=8*r+"01234567".indexOf(i[a++]))),o+=String.fromCharCode(r)):o+=n}else{if(H(n.charCodeAt(0)))break;o+=n}}return""!==e&&me({},F,T),{type:h,value:o,octal:s,start:t,end:a}}():46===e?N(i.charCodeAt(a+1))?re():ne():N(e)?re():ne()}function ue(){var e;return a=(e=o).end,o=ae(),a=e.end,e}function oe(){var e;e=a,o=ae(),a=e}function se(e,t,n){var r=new s.d("||"===e||"&&"===e?x:y);return r.operator=e,r.left=t,r.right=n,r}function fe(e,t){var n=new s.d(v);return n.callee=e,n.arguments=t,n}function ce(e){var t=new s.d(j);return t.name=e,t}function le(e){var t=new s.d($);return t.value=e.value,t.raw=i.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function de(e,t,n){var r=new s.d(k);return r.computed="["===e,r.object=t,r.property=n,r.computed||(n.member=!0),r}function pe(e,t,n){var r=new s.d(w);return r.key=t,r.value=n,r.kind=e,r}function me(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(function(e,t){return L(t<r.length,"Message reference must be in range"),r[t]}));throw(n=new Error(i)).index=a,n.description=i,n}function be(e){e.type===c&&me(e,q),e.type===m&&me(e,D),e.type===h&&me(e,S),e.type===l&&me(e,C),e.type===d&&me(e,E),me(e,F,e.value)}function he(e){var t=ue();t.type===b&&t.value===e||be(t)}function ge(e){return o.type===b&&o.value===e}function ye(e){return o.type===d&&o.value===e}function ve(){var e=[];for(a=o.start,he("[");!ge("]");)ge(",")?(ue(),e.push(null)):(e.push(Ce()),ge("]")||he(","));return ue(),function(e){var t=new s.d(g);return t.elements=e,t}(e)}function Oe(){var e;return a=o.start,(e=ue()).type===h||e.type===m?(e.octal&&me(e,B),le(e)):ce(e.value)}function je(){var e,t,n;return a=o.start,(e=o).type===l?(n=Oe(),he(":"),pe("init",n,Ce())):e.type!==c&&e.type!==b?(t=Oe(),he(":"),pe("init",t,Ce())):void be(e)}function $e(){var e,t,n=[],r={},i=String;for(a=o.start,he("{");!ge("}");)t="$"+((e=je()).key.type===j?e.key.name:i(e.key.value)),Object.prototype.hasOwnProperty.call(r,t)?me({},P):r[t]=!0,n.push(e),ge("}")||he(",");return he("}"),function(e){var t=new s.d(A);return t.properties=e,t}(n)}var xe={if:1,this:1};function ke(){var e,t,n;if(ge("("))return function(){var e;return he("("),e=Ee(),he(")"),e}();if(ge("["))return ve();if(ge("{"))return $e();if(e=o.type,a=o.start,e===l||xe[o.value])n=ce(ue().value);else if(e===h||e===m)o.octal&&me(o,B),n=le(ue());else{if(e===d)throw new Error(R);e===f?((t=ue()).value="true"===t.value,n=le(t)):e===p?((t=ue()).value=null,n=le(t)):ge("/")||ge("/=")?(n=le(ie()),oe()):be(ue())}return n}function Ae(){var e=[];if(he("("),!ge(")"))for(;a<u&&(e.push(Ce()),!ge(")"));)he(",");return he(")"),e}function we(){var e;return a=o.start,function(e){return e.type===l||e.type===d||e.type===f||e.type===p}(e=ue())||be(e),ce(e.value)}function _e(){var e;return he("["),e=Ee(),he("]"),e}function Fe(){var e=function(){var e;for(e=ke();;)if(ge("."))he("."),e=de(".",e,we());else if(ge("("))e=fe(e,Ae());else{if(!ge("["))break;e=de("[",e,_e())}return e}();if(o.type===b&&(ge("++")||ge("--")))throw new Error(R);return e}function De(){var e,t,n,r,i;if(o.type!==b&&o.type!==d)t=Fe();else{if(ge("++")||ge("--"))throw new Error(R);if(ge("+")||ge("-")||ge("~")||ge("!"))e=ue(),t=De(),n=e.value,r=t,(i=new s.d(_)).operator=n,i.argument=r,i.prefix=!0,t=i;else{if(ye("delete")||ye("void")||ye("typeof"))throw new Error(R);t=Fe()}}return t}function Se(e){var t=0;if(e.type!==b&&e.type!==d)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function Ce(){var e,t;return e=function(){var e,t,n,r,i,a,u,s,f,c;if(e=o,f=De(),0===(i=Se(r=o)))return f;for(r.prec=i,ue(),t=[e,o],a=[f,r,u=De()];(i=Se(o))>0;){for(;a.length>2&&i<=a[a.length-2].prec;)u=a.pop(),s=a.pop().value,f=a.pop(),t.pop(),n=se(s,f,u),a.push(n);(r=ue()).prec=i,a.push(r),t.push(o),n=De(),a.push(n)}for(n=a[c=a.length-1],t.pop();c>1;)t.pop(),n=se(a[c-1].value,a[c-2],n),c-=2;return n}(),ge("?")&&(ue(),t=Ce(),he(":"),e=function(e,t,n){var r=new s.d(O);return r.test=e,r.consequent=t,r.alternate=n,r}(e,t,Ce())),e}function Ee(){var e=Ce();if(ge(","))throw new Error(R);return e}t.a=function(e){a=0,u=(i=e).length,o=null,oe();var t=Ee();if(o.type!==c)throw new Error("Unexpect token after expression.");return t}},function(e,t,n){"use strict";var r=n(738),i=n(739),a=n(1);t.a=function(e){var t=(e=e||{}).whitelist?Object(a.bb)(e.whitelist):{},n=e.blacklist?Object(a.bb)(e.blacklist):{},u=e.constants||r.a,o=(e.functions||i.a)(m),s=e.globalvar,f=e.fieldvar,c={},l={},d=0,p=Object(a.D)(s)?s:function(e){return s+'["'+e+'"]'};function m(e){if(Object(a.H)(e))return e;var t=b[e.type];return null==t&&Object(a.n)("Unsupported type: "+e.type),t(e)}var b={Literal:function(e){return e.raw},Identifier:function(e){var r=e.name;return d>0?r:Object(a.v)(n,r)?Object(a.n)("Illegal identifier: "+r):Object(a.v)(u,r)?u[r]:Object(a.v)(t,r)?r:(c[r]=1,p(r))},MemberExpression:function(e){var t=!e.computed,n=m(e.object);t&&(d+=1);var r=m(e.property);return n===f&&(l[function(e){var t=e&&e.length-1;return t&&('"'===e[0]&&'"'===e[t]||"'"===e[0]&&"'"===e[t])?e.slice(1,-1):e}(r)]=1),t&&(d-=1),n+(t?"."+r:"["+r+"]")},CallExpression:function(e){"Identifier"!==e.callee.type&&Object(a.n)("Illegal callee type: "+e.callee.type);var t=e.callee.name,n=e.arguments,r=Object(a.v)(o,t)&&o[t];return r||Object(a.n)("Unrecognized function: "+t),Object(a.D)(r)?r(n):r+"("+n.map(m).join(",")+")"},ArrayExpression:function(e){return"["+e.elements.map(m).join(",")+"]"},BinaryExpression:function(e){return"("+m(e.left)+e.operator+m(e.right)+")"},UnaryExpression:function(e){return"("+e.operator+m(e.argument)+")"},ConditionalExpression:function(e){return"("+m(e.test)+"?"+m(e.consequent)+":"+m(e.alternate)+")"},LogicalExpression:function(e){return"("+m(e.left)+e.operator+m(e.right)+")"},ObjectExpression:function(e){return"{"+e.properties.map(m).join(",")+"}"},Property:function(e){d+=1;var t=m(e.key);return d-=1,t+":"+m(e.value)}};function h(e){var t={code:m(e),globals:Object.keys(c),fields:Object.keys(l)};return c={},l={},t}return h.functions=o,h.constants=u,h}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(523),i=n(1),a="E",u="R",o="R-E",s="R-LE",f="R-RE",c="index:unit";function l(e,t){for(var n,r,c=t.fields,l=t.values,d=c.length,p=0;p<d;++p)if((r=c[p]).getter=i.t.getter||Object(i.t)(r.field),n=r.getter(e),Object(i.C)(n)&&(n=Object(i.ab)(n)),Object(i.C)(l[p])&&(l[p]=Object(i.ab)(l[p])),Object(i.C)(l[p][0])&&(l[p]=l[p].map(i.ab)),r.type===a){if(Object(i.A)(l[p])?l[p].indexOf(n)<0:n!==l[p])return!1}else if(r.type===u){if(!Object(i.z)(n,l[p]))return!1}else if(r.type===f){if(!Object(i.z)(n,l[p],!0,!1))return!1}else if(r.type===o){if(!Object(i.z)(n,l[p],!1,!1))return!1}else if(r.type===s&&!Object(i.z)(n,l[p],!1,!0))return!1;return!0}function d(e,t,n){for(var i,a,u,o,s,f=this.context.data[e],d=f?f.values.value:[],p=f?f[c]&&f[c].value:void 0,m=n===r.a,b=d.length,h=0;h<b;++h)if(i=d[h],p&&m){if(-1===(u=(a=a||{})[o=i.unit]||0))continue;if(s=l(t,i),a[o]=s?-1:++u,s&&1===p.size)return!0;if(!s&&u===p.get(o).count)return!1}else if(m^(s=l(t,i)))return s;return b&&m}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(523),i=n(1);function a(e,t){for(var n,a,o,s,f,c,l,d,p,m,b,h=this.context.data[e],g=h?h.values.value:[],y={},v={},O=g.length,j=0;j<O;++j)for(s=(n=g[j]).unit,a=n.fields,o=n.values,m=0,b=a.length;m<b;++m)f=a[m],l=(c=y[f.field]||(y[f.field]={}))[s]||(c[s]=[]),v[f.field]=d=f.type.charAt(0),p=u[d+"_union"],c[s]=p(l,Object(i.i)(o[m]));return t=t||r.b,Object.keys(y).forEach((function(e){y[e]=Object.keys(y[e]).map((function(t){return y[e][t]})).reduce((function(n,r){return void 0===n?r:u[v[e]+"_"+t](n,r)}))})),y}var u={E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.indexOf(t[n])<0&&e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter((function(e){return t.indexOf(e)>=0})):t},R_union:function(e,t){var n=Object(i.ab)(t[0]),r=Object(i.ab)(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=Object(i.ab)(t[0]),r=Object(i.ab)(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(523),i=n(201),a=n(1);const u=":",o="@";function s(e,t,n,s){t[0].type!==i.c&&Object(a.n)("First argument to selection functions must be a string literal.");const f=t[0].value,c=t.length>=2&&Object(a.S)(t).value,l=o+"unit",d=u+f;c!==r.a||Object(a.v)(s,l)||(s[l]=n.getData(f).indataRef(n,"unit")),Object(a.v)(s,d)||(s[d]=n.getData(f).tuplesRef())}},function(e,t,n){"use strict";var r=n(1025),i=n(610);function a(e,t,n){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function u(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.functions=e.functions,this.events=e.events,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}t.a=function(e,t,n){return new a(e,t,n)},a.prototype=u.prototype={fork:function(){var e=new u(this);return(this.subcontext||(this.subcontext=[])).push(e),e},get:function(e){return this.nodes[e]},set:function(e,t){return this.nodes[e]=t},add:function(e,t){var n,r=this,a=r.dataflow;if(r.set(e.id,t),Object(i.b)(e.type)&&(n=e.value)&&(n.$ingest?a.ingest(t,n.$ingest,n.$format):n.$request?a.preload(t,n.$request,n.$format):a.pulse(t,a.changeset().insert(n))),e.root&&(r.root=t),e.parent){var u=r.get(e.parent.$ref);u?(a.connect(u,[t]),t.targets().add(u)):(r.unresolved=r.unresolved||[]).push((function(){u=r.get(e.parent.$ref),a.connect(u,[t]),t.targets().add(u)}))}if(e.signal&&(r.signals[e.signal]=t),e.scale&&(r.scales[e.scale]=t),e.data)for(var o in e.data)n=r.data[o]||(r.data[o]={}),e.data[o].forEach((function(e){n[e]=t}))},resolve:function(){return(this.unresolved||[]).forEach((function(e){e()})),delete this.unresolved,this},operator:function(e,t){this.add(e,this.dataflow.add(e.value,t))},transform:function(e,t){this.add(e,this.dataflow.add(this.transforms[Object(i.a)(t)]))},stream:function(e,t){this.set(e.id,t)},update:function(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},getState:r.a,setState:r.b}},function(e,t,n){"use strict";var r=n(1285);n.d(t,"a",(function(){return r.a}));n(749),n(447),n(746),n(747),n(68),n(748),n(323)},function(e,t,n){"use strict";var r=n(1449),i=n(748),a=n(749),u=n(1);t.a=function(e,t){return Object(u.F)(e)||Object(u.n)("Input Vega specification must be an object."),Object(r.a)(e,new i.a(Object(a.a)([t,e.config]))).toRuntime()}},function(e,t,n){"use strict";t.a=function(e,t,n){return r=t||a,i=n||b,g(e.trim()).map(y)};var r,i,a="view",u="[",o="]",s="{",f="}",c=":",l=",",d="@",p=">",m=/[[\]{}]/,b={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};function h(e,t,n,r,i){for(var a,u=0,o=e.length;t<o;++t){if(a=e[t],!u&&a===n)return t;i&&i.indexOf(a)>=0?--u:r&&r.indexOf(a)>=0&&++u}return t}function g(e){for(var t=[],n=0,r=e.length,i=0;i<r;)i=h(e,i,l,u+s,o+f),t.push(e.substring(n,i).trim()),n=++i;if(0===t.length)throw"Empty event selector: "+e;return t}function y(e){return"["===e[0]?function(e){var t,n,r=e.length,i=1;if((i=h(e,i,o,u,o))===r)throw"Empty between selector: "+e;if(2!==(t=g(e.substring(1,i))).length)throw"Between selector must have two elements: "+e;if((e=e.slice(i+1).trim())[0]!==p)throw"Expected '>' after between selector: "+e;if(t=t.map(y),(n=y(e.slice(1).trim())).between)return{between:t,stream:n};n.between=t;return n}(e):function(e){var t,n,a={source:r},p=[],b=[0,0],g=0,y=0,v=e.length,O=0;if(e[v-1]===f){if(!((O=e.lastIndexOf(s))>=0))throw"Unmatched right brace: "+e;try{b=function(e){var t=e.split(l);if(!e.length||t.length>2)throw e;return t.map((function(t){var n=+t;if(n!=n)throw e;return n}))}(e.substring(O+1,v-1))}catch(t){throw"Invalid throttle specification: "+e}e=e.slice(0,O).trim(),v=e.length,O=0}if(!v)throw e;e[0]===d&&(g=++O);(t=h(e,O,c))<v&&(p.push(e.substring(y,t).trim()),y=O=++t);if((O=h(e,O,u))===v)p.push(e.substring(y,v).trim());else if(p.push(e.substring(y,O).trim()),n=[],(y=++O)===v)throw"Unmatched left bracket: "+e;for(;O<v;){if((O=h(e,O,o))===v)throw"Unmatched left bracket: "+e;if(n.push(e.substring(y,O).trim()),O<v-1&&e[++O]!==u)throw"Expected left bracket: "+e;y=++O}if(!(v=p.length)||m.test(p[v-1]))throw"Invalid event selector: "+e;v>1?(a.type=p[1],g?a.markname=p[0].slice(1):(j=p[0],i[j]?a.marktype=p[0]:a.source=p[0])):a.type=p[0];var j;"!"===a.type.slice(-1)&&(a.consume=!0,a.type=a.type.slice(0,-1));null!=n&&(a.filter=n);b[0]&&(a.throttle=b[0]);b[1]&&(a.debounce=b[1]);return a}(e)}},,,,,,function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-06/schema#","title":"Vega Visualization Specification Language","defs":{"autosize":{"oneOf":[{"enum":["pad","fit","fit-x","fit-y","none"],"default":"pad"},{"type":"object","properties":{"type":{"enum":["pad","fit","fit-x","fit-y","none"],"default":"pad"},"resize":{"type":"boolean"},"contains":{"enum":["content","padding"]}},"required":["type"],"additionalProperties":false}]},"axis":{"type":"object","properties":{"orient":{"enum":["top","bottom","left","right"]},"scale":{"type":"string"},"format":{"$ref":"#/refs/stringOrSignal"},"formatType":{"oneOf":[{"enum":["number","time"]},{"$ref":"#/refs/signal"}]},"minExtent":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"maxExtent":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"offset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"position":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"bandPosition":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"values":{"$ref":"#/refs/arrayOrSignal"},"zindex":{"type":"number"},"title":{"$ref":"#/refs/stringOrSignal"},"titlePadding":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleAlign":{"oneOf":[{"enum":["left","right","center"]},{"$ref":"#/refs/alignValue"}]},"titleAnchor":{"oneOf":[{"enum":[null,"start","middle","end"]},{"$ref":"#/refs/anchorValue"}]},"titleAngle":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleX":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleY":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleBaseline":{"oneOf":[{"enum":["top","middle","bottom","alphabetic"]},{"$ref":"#/refs/baselineValue"}]},"titleColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"titleFont":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"titleFontSize":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleFontStyle":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"titleFontWeight":{"oneOf":[{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]},{"$ref":"#/refs/fontWeightValue"}]},"titleLimit":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"domain":{"type":"boolean"},"domainColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"domainDash":{"oneOf":[{"type":"array","items":{"type":"number"}},{"$ref":"#/refs/arrayValue"}]},"domainDashOffset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"domainOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"domainWidth":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"ticks":{"type":"boolean"},"tickColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"tickDash":{"oneOf":[{"type":"array","items":{"type":"number"}},{"$ref":"#/refs/arrayValue"}]},"tickDashOffset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"tickOffset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"tickOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"tickRound":{"oneOf":[{"type":"boolean"},{"$ref":"#/refs/booleanValue"}]},"tickSize":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"tickWidth":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"tickCount":{"$ref":"#/refs/tickCount"},"tickExtra":{"$ref":"#/refs/booleanOrSignal"},"tickMinStep":{"$ref":"#/refs/numberOrSignal"},"grid":{"type":"boolean"},"gridScale":{"type":"string"},"gridColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"gridDash":{"oneOf":[{"type":"array","items":{"type":"number"}},{"$ref":"#/refs/arrayValue"}]},"gridDashOffset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"gridOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"gridWidth":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labels":{"type":"boolean"},"labelAlign":{"oneOf":[{"enum":["left","right","center"]},{"$ref":"#/refs/alignValue"}]},"labelBaseline":{"oneOf":[{"enum":["top","middle","bottom","alphabetic"]},{"$ref":"#/refs/baselineValue"}]},"labelBound":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$ref":"#/refs/signal"}]},"labelFlush":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$ref":"#/refs/signal"}]},"labelFlushOffset":{"$ref":"#/refs/numberOrSignal"},"labelOverlap":{"$ref":"#/refs/labelOverlap"},"labelAngle":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"labelFont":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"labelFontSize":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelFontWeight":{"oneOf":[{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]},{"$ref":"#/refs/fontWeightValue"}]},"labelFontStyle":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"labelLimit":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelPadding":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelSeparation":{"$ref":"#/refs/numberOrSignal"},"encode":{"type":"object","properties":{"axis":{"$ref":"#/defs/guideEncode"},"ticks":{"$ref":"#/defs/guideEncode"},"labels":{"$ref":"#/defs/guideEncode"},"title":{"$ref":"#/defs/guideEncode"},"grid":{"$ref":"#/defs/guideEncode"},"domain":{"$ref":"#/defs/guideEncode"}},"additionalProperties":false}},"required":["orient","scale"],"additionalProperties":false},"background":{"type":"string"},"bind":{"oneOf":[{"type":"object","properties":{"input":{"enum":["checkbox"]},"element":{"$ref":"#/refs/element"},"debounce":{"type":"number"},"name":{"type":"string"}},"required":["input"],"additionalProperties":false},{"type":"object","properties":{"input":{"enum":["radio","select"]},"element":{"$ref":"#/refs/element"},"options":{"type":"array"},"debounce":{"type":"number"},"name":{"type":"string"}},"required":["input","options"],"additionalProperties":false},{"type":"object","properties":{"input":{"enum":["range"]},"element":{"$ref":"#/refs/element"},"min":{"type":"number"},"max":{"type":"number"},"step":{"type":"number"},"debounce":{"type":"number"},"name":{"type":"string"}},"required":["input"],"additionalProperties":false},{"type":"object","properties":{"input":{"not":{"enum":["checkbox","radio","range","select"]}},"element":{"$ref":"#/refs/element"},"debounce":{"type":"number"},"name":{"type":"string"}},"required":["input"],"additionalProperties":true}]},"data":{"oneOf":[{"type":"object","properties":{"name":{"type":"string"},"transform":{"type":"array","items":{"$ref":"#/defs/transform"}},"on":{"$ref":"#/defs/onTrigger"}},"required":["name"],"additionalProperties":false},{"type":"object","properties":{"source":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"},"minItems":1}]},"name":{"type":"string"},"transform":{"type":"array","items":{"$ref":"#/defs/transform"}},"on":{"$ref":"#/defs/onTrigger"}},"required":["source","name"],"additionalProperties":false},{"type":"object","properties":{"url":{"$ref":"#/refs/stringOrSignal"},"format":{"oneOf":[{"anyOf":[{"type":"object","properties":{"type":{"$ref":"#/refs/stringOrSignal"},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/refs/signal"}]}}},{"type":"object","properties":{"type":{"enum":["json"]},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/refs/signal"}]},"property":{"$ref":"#/refs/stringOrSignal"},"copy":{"$ref":"#/refs/booleanOrSignal"}},"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["csv","tsv"]},"header":{"type":"array","items":{"type":"string"}},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/refs/signal"}]}},"required":["type"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["dsv"]},"delimiter":{"type":"string"},"header":{"type":"array","items":{"type":"string"}},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/refs/signal"}]}},"required":["type","delimiter"],"additionalProperties":false},{"oneOf":[{"type":"object","properties":{"type":{"enum":["topojson"]},"feature":{"$ref":"#/refs/stringOrSignal"},"property":{"$ref":"#/refs/stringOrSignal"}},"required":["type","feature"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["topojson"]},"mesh":{"$ref":"#/refs/stringOrSignal"},"property":{"$ref":"#/refs/stringOrSignal"},"filter":{"enum":["interior","exterior",null]}},"required":["type","mesh"],"additionalProperties":false}]}]},{"$ref":"#/refs/signal"}]},"name":{"type":"string"},"transform":{"type":"array","items":{"$ref":"#/defs/transform"}},"on":{"$ref":"#/defs/onTrigger"}},"required":["url","name"],"additionalProperties":false},{"type":"object","properties":{"values":{"oneOf":[{},{"$ref":"#/refs/signal"}]},"format":{"oneOf":[{"anyOf":[{"type":"object","properties":{"type":{"$ref":"#/refs/stringOrSignal"},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/refs/signal"}]}}},{"type":"object","properties":{"type":{"enum":["json"]},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/refs/signal"}]},"property":{"$ref":"#/refs/stringOrSignal"},"copy":{"$ref":"#/refs/booleanOrSignal"}},"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["csv","tsv"]},"header":{"type":"array","items":{"type":"string"}},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/refs/signal"}]}},"required":["type"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["dsv"]},"delimiter":{"type":"string"},"header":{"type":"array","items":{"type":"string"}},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/refs/signal"}]}},"required":["type","delimiter"],"additionalProperties":false},{"oneOf":[{"type":"object","properties":{"type":{"enum":["topojson"]},"feature":{"$ref":"#/refs/stringOrSignal"},"property":{"$ref":"#/refs/stringOrSignal"}},"required":["type","feature"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["topojson"]},"mesh":{"$ref":"#/refs/stringOrSignal"},"property":{"$ref":"#/refs/stringOrSignal"},"filter":{"enum":["interior","exterior",null]}},"required":["type","mesh"],"additionalProperties":false}]}]},{"$ref":"#/refs/signal"}]},"name":{"type":"string"},"transform":{"type":"array","items":{"$ref":"#/defs/transform"}},"on":{"$ref":"#/defs/onTrigger"}},"required":["values","name"],"additionalProperties":false}]},"rule":{"type":"object","properties":{"test":{"type":"string"}}},"encodeEntry":{"type":"object","properties":{"x":{"$ref":"#/refs/numberValue"},"x2":{"$ref":"#/refs/numberValue"},"xc":{"$ref":"#/refs/numberValue"},"width":{"$ref":"#/refs/numberValue"},"y":{"$ref":"#/refs/numberValue"},"y2":{"$ref":"#/refs/numberValue"},"yc":{"$ref":"#/refs/numberValue"},"height":{"$ref":"#/refs/numberValue"},"opacity":{"$ref":"#/refs/numberValue"},"fill":{"$ref":"#/refs/colorValue"},"fillOpacity":{"$ref":"#/refs/numberValue"},"stroke":{"$ref":"#/refs/colorValue"},"strokeOpacity":{"$ref":"#/refs/numberValue"},"strokeWidth":{"$ref":"#/refs/numberValue"},"strokeCap":{"$ref":"#/refs/strokeCapValue"},"strokeDash":{"$ref":"#/refs/arrayValue"},"strokeDashOffset":{"$ref":"#/refs/numberValue"},"strokeJoin":{"$ref":"#/refs/strokeJoinValue"},"strokeMiterLimit":{"$ref":"#/refs/numberValue"},"cursor":{"$ref":"#/refs/stringValue"},"tooltip":{"$ref":"#/refs/anyValue"},"zindex":{"$ref":"#/refs/numberValue"},"clip":{"$ref":"#/refs/booleanValue"},"angle":{"$ref":"#/refs/numberValue"},"size":{"$ref":"#/refs/numberValue"},"shape":{"$ref":"#/refs/stringValue"},"path":{"$ref":"#/refs/stringValue"},"innerRadius":{"$ref":"#/refs/numberValue"},"outerRadius":{"$ref":"#/refs/numberValue"},"startAngle":{"$ref":"#/refs/numberValue"},"endAngle":{"$ref":"#/refs/numberValue"},"interpolate":{"$ref":"#/refs/stringValue"},"tension":{"$ref":"#/refs/numberValue"},"orient":{"$ref":"#/refs/directionValue"},"url":{"$ref":"#/refs/stringValue"},"align":{"$ref":"#/refs/alignValue"},"baseline":{"$ref":"#/refs/baselineValue"},"text":{"$ref":"#/refs/stringValue"},"dir":{"$ref":"#/refs/stringValue"},"ellipsis":{"$ref":"#/refs/stringValue"},"limit":{"$ref":"#/refs/numberValue"},"dx":{"$ref":"#/refs/numberValue"},"dy":{"$ref":"#/refs/numberValue"},"radius":{"$ref":"#/refs/numberValue"},"theta":{"$ref":"#/refs/numberValue"},"font":{"$ref":"#/refs/stringValue"},"fontSize":{"$ref":"#/refs/numberValue"},"fontWeight":{"$ref":"#/refs/fontWeightValue"},"fontStyle":{"$ref":"#/refs/stringValue"}},"additionalProperties":true},"encode":{"type":"object","additionalProperties":false,"patternProperties":{"^.+$":{"$ref":"#/defs/encodeEntry"}}},"layout":{"oneOf":[{"type":"object","properties":{"align":{"oneOf":[{"oneOf":[{"enum":["all","each","none"]},{"$ref":"#/refs/signal"}]},{"type":"object","properties":{"row":{"oneOf":[{"enum":["all","each","none"]},{"$ref":"#/refs/signal"}]},"column":{"oneOf":[{"enum":["all","each","none"]},{"$ref":"#/refs/signal"}]}},"additionalProperties":false}]},"bounds":{"oneOf":[{"enum":["full","flush"]},{"$ref":"#/refs/signal"}]},"center":{"oneOf":[{"type":"boolean"},{"$ref":"#/refs/signal"},{"type":"object","properties":{"row":{"$ref":"#/refs/booleanOrSignal"},"column":{"$ref":"#/refs/booleanOrSignal"}},"additionalProperties":false}]},"columns":{"$ref":"#/refs/numberOrSignal"},"padding":{"oneOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"type":"object","properties":{"row":{"$ref":"#/refs/numberOrSignal"},"column":{"$ref":"#/refs/numberOrSignal"}},"additionalProperties":false}]},"offset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"type":"object","properties":{"rowHeader":{"$ref":"#/refs/numberOrSignal"},"rowFooter":{"$ref":"#/refs/numberOrSignal"},"rowTitle":{"$ref":"#/refs/numberOrSignal"},"columnHeader":{"$ref":"#/refs/numberOrSignal"},"columnFooter":{"$ref":"#/refs/numberOrSignal"},"columnTitle":{"$ref":"#/refs/numberOrSignal"}},"additionalProperties":false}]},"headerBand":{"oneOf":[{"$ref":"#/refs/numberOrSignal"},{"type":"null"},{"type":"object","properties":{"row":{"$ref":"#/refs/numberOrSignal"},"column":{"$ref":"#/refs/numberOrSignal"}},"additionalProperties":false}]},"footerBand":{"oneOf":[{"$ref":"#/refs/numberOrSignal"},{"type":"null"},{"type":"object","properties":{"row":{"$ref":"#/refs/numberOrSignal"},"column":{"$ref":"#/refs/numberOrSignal"}},"additionalProperties":false}]},"titleBand":{"oneOf":[{"$ref":"#/refs/numberOrSignal"},{"type":"null"},{"type":"object","properties":{"row":{"$ref":"#/refs/numberOrSignal"},"column":{"$ref":"#/refs/numberOrSignal"}},"additionalProperties":false}]},"titleAnchor":{"oneOf":[{"oneOf":[{"enum":["start","end"]},{"$ref":"#/refs/signal"}]},{"type":"object","properties":{"row":{"oneOf":[{"enum":["start","end"]},{"$ref":"#/refs/signal"}]},"column":{"oneOf":[{"enum":["start","end"]},{"$ref":"#/refs/signal"}]}},"additionalProperties":false}]}},"additionalProperties":false},{"$ref":"#/refs/signal"}]},"guideEncode":{"type":"object","properties":{"name":{"type":"string"},"interactive":{"type":"boolean","default":false},"style":{"$ref":"#/refs/style"}},"additionalProperties":false,"patternProperties":{"^(?!interactive|name|style).+$":{"$ref":"#/defs/encodeEntry"}}},"legend":{"allOf":[{"type":"object","properties":{"size":{"type":"string"},"shape":{"type":"string"},"fill":{"type":"string"},"stroke":{"type":"string"},"opacity":{"type":"string"},"strokeDash":{"type":"string"},"strokeWidth":{"type":"string"},"type":{"enum":["gradient","symbol"]},"direction":{"enum":["vertical","horizontal"]},"orient":{"oneOf":[{"enum":["none","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],"default":"right"},{"$ref":"#/refs/signal"}]},"tickCount":{"$ref":"#/refs/tickCount"},"tickMinStep":{"$ref":"#/refs/numberOrSignal"},"values":{"$ref":"#/refs/arrayOrSignal"},"zindex":{"type":"number"},"cornerRadius":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"fillColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"offset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"padding":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"strokeColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"legendX":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"legendY":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"title":{"$ref":"#/refs/stringOrSignal"},"titleAlign":{"oneOf":[{"enum":["left","right","center"]},{"$ref":"#/refs/alignValue"}]},"titleAnchor":{"oneOf":[{"enum":[null,"start","middle","end"]},{"$ref":"#/refs/anchorValue"}]},"titleBaseline":{"oneOf":[{"enum":["top","middle","bottom","alphabetic"]},{"$ref":"#/refs/baselineValue"}]},"titleColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"titleFont":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"titleFontSize":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleFontStyle":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"titleFontWeight":{"oneOf":[{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]},{"$ref":"#/refs/fontWeightValue"}]},"titleLimit":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleOrient":{"oneOf":[{"enum":["left","right","top","bottom"]},{"$ref":"#/refs/orientValue"}]},"titlePadding":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"gradientLength":{"$ref":"#/refs/numberOrSignal"},"gradientOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"gradientStrokeColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"gradientStrokeWidth":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"gradientThickness":{"$ref":"#/refs/numberOrSignal"},"clipHeight":{"$ref":"#/refs/numberOrSignal"},"columns":{"$ref":"#/refs/numberOrSignal"},"columnPadding":{"$ref":"#/refs/numberOrSignal"},"rowPadding":{"$ref":"#/refs/numberOrSignal"},"gridAlign":{"oneOf":[{"enum":["all","each","none"]},{"$ref":"#/refs/signal"}]},"symbolDash":{"oneOf":[{"type":"array","items":{"type":"number"}},{"$ref":"#/refs/arrayValue"}]},"symbolDashOffset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"symbolFillColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"symbolOffset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"symbolOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"symbolSize":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"symbolStrokeColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"symbolStrokeWidth":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"symbolType":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"format":{"$ref":"#/refs/stringOrSignal"},"formatType":{"oneOf":[{"enum":["number","time"]},{"$ref":"#/refs/signal"}]},"labelAlign":{"oneOf":[{"enum":["left","right","center"]},{"$ref":"#/refs/alignValue"}]},"labelBaseline":{"oneOf":[{"enum":["top","middle","bottom","alphabetic"]},{"$ref":"#/refs/baselineValue"}]},"labelColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"labelFont":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"labelFontSize":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelFontStyle":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"labelFontWeight":{"oneOf":[{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]},{"$ref":"#/refs/fontWeightValue"}]},"labelLimit":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelOffset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelOverlap":{"$ref":"#/refs/labelOverlap"},"labelSeparation":{"$ref":"#/refs/numberOrSignal"},"encode":{"type":"object","properties":{"title":{"$ref":"#/defs/guideEncode"},"labels":{"$ref":"#/defs/guideEncode"},"legend":{"$ref":"#/defs/guideEncode"},"entries":{"$ref":"#/defs/guideEncode"},"symbols":{"$ref":"#/defs/guideEncode"},"gradient":{"$ref":"#/defs/guideEncode"}},"additionalProperties":false}},"additionalProperties":false},{"anyOf":[{"type":"object","required":["size"]},{"type":"object","required":["shape"]},{"type":"object","required":["fill"]},{"type":"object","required":["stroke"]},{"type":"object","required":["opacity"]},{"type":"object","required":["strokeDash"]},{"type":"object","required":["strokeWidth"]}]}]},"mark":{"type":"object","properties":{"type":{"$ref":"#/refs/marktype"},"role":{"type":"string"},"name":{"type":"string"},"style":{"$ref":"#/refs/style"},"key":{"type":"string"},"clip":{"$ref":"#/refs/markclip"},"sort":{"$ref":"#/refs/compare"},"interactive":{"$ref":"#/refs/booleanOrSignal"},"encode":{"$ref":"#/defs/encode"},"transform":{"type":"array","items":{"$ref":"#/defs/transformMark"}},"on":{"$ref":"#/defs/onMarkTrigger"}},"required":["type"]},"markGroup":{"allOf":[{"type":"object","properties":{"type":{"enum":["group"]},"from":{"oneOf":[{"$ref":"#/refs/from"},{"$ref":"#/refs/facet"}]}},"required":["type"]},{"$ref":"#/defs/mark"},{"$ref":"#/defs/scope"}]},"markVisual":{"allOf":[{"type":"object","properties":{"type":{"not":{"enum":["group"]}},"from":{"$ref":"#/refs/from"}}},{"$ref":"#/defs/mark"}]},"listener":{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"scale":{"type":"string"}},"required":["scale"]},{"$ref":"#/defs/stream"}]},"onEvents":{"type":"array","items":{"allOf":[{"type":"object","properties":{"events":{"oneOf":[{"$ref":"#/refs/selector"},{"$ref":"#/defs/listener"},{"type":"array","items":{"$ref":"#/defs/listener"},"minItems":1}]},"force":{"type":"boolean"}},"required":["events"]},{"oneOf":[{"type":"object","properties":{"encode":{"type":"string"}},"required":["encode"]},{"type":"object","properties":{"update":{"oneOf":[{"$ref":"#/refs/exprString"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{}},"required":["value"]}]}},"required":["update"]}]}]}},"onTrigger":{"type":"array","items":{"type":"object","properties":{"trigger":{"$ref":"#/refs/exprString"},"insert":{"$ref":"#/refs/exprString"},"remove":{"oneOf":[{"type":"boolean"},{"$ref":"#/refs/exprString"}]},"toggle":{"$ref":"#/refs/exprString"},"modify":{"$ref":"#/refs/exprString"},"values":{"$ref":"#/refs/exprString"}},"required":["trigger"],"additionalProperties":false}},"onMarkTrigger":{"type":"array","items":{"type":"object","properties":{"trigger":{"$ref":"#/refs/exprString"},"modify":{"$ref":"#/refs/exprString"},"values":{"$ref":"#/refs/exprString"}},"required":["trigger"],"additionalProperties":false}},"padding":{"oneOf":[{"type":"number"},{"type":"object","properties":{"top":{"type":"number"},"bottom":{"type":"number"},"left":{"type":"number"},"right":{"type":"number"}},"additionalProperties":false}]},"projection":{"type":"object","properties":{"name":{"type":"string"},"type":{"$ref":"#/refs/stringOrSignal"},"clipAngle":{"$ref":"#/refs/numberOrSignal"},"clipExtent":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"minItems":2,"maxItems":2},{"$ref":"#/refs/signal"}]},"minItems":2,"maxItems":2},{"$ref":"#/refs/signal"}]},"scale":{"$ref":"#/refs/numberOrSignal"},"translate":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"minItems":2,"maxItems":2},{"$ref":"#/refs/signal"}]},"center":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"minItems":2,"maxItems":2},{"$ref":"#/refs/signal"}]},"rotate":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"minItems":2,"maxItems":3},{"$ref":"#/refs/signal"}]},"parallels":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"minItems":2,"maxItems":2},{"$ref":"#/refs/signal"}]},"precision":{"$ref":"#/refs/numberOrSignal"},"pointRadius":{"$ref":"#/refs/numberOrSignal"},"fit":{"oneOf":[{"type":"object"},{"type":"array"}]},"extent":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"minItems":2,"maxItems":2},{"$ref":"#/refs/signal"}]},"minItems":2,"maxItems":2},{"$ref":"#/refs/signal"}]},"size":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"minItems":2,"maxItems":2},{"$ref":"#/refs/signal"}]}},"required":["name"],"additionalProperties":true},"scale":{"oneOf":[{"type":"object","properties":{"type":{"enum":["identity"]},"nice":{"$ref":"#/refs/booleanOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["ordinal"]},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"count":{"$ref":"#/refs/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"numItems":2},{"$ref":"#/refs/signal"}]}},"required":["scheme"],"additionalProperties":false},{"oneOf":[{"type":"object","properties":{"data":{"type":"string"},"field":{"$ref":"#/refs/stringOrSignal"},"sort":{"oneOf":[{"type":"boolean"},{"type":"object","properties":{"field":{"$ref":"#/refs/stringOrSignal"},"op":{"$ref":"#/refs/stringOrSignal"},"order":{"$ref":"#/refs/sortOrder"}},"additionalProperties":false}]}},"required":["data","field"],"additionalProperties":false},{"type":"object","properties":{"data":{"type":"string"},"fields":{"type":"array","items":{"$ref":"#/refs/stringOrSignal"},"minItems":1},"sort":{"oneOf":[{"type":"boolean"},{"type":"object","properties":{"op":{"enum":["count"]},"order":{"$ref":"#/refs/sortOrder"}},"additionalProperties":false},{"type":"object","properties":{"field":{"$ref":"#/refs/stringOrSignal"},"op":{"enum":["count","min","max"]},"order":{"$ref":"#/refs/sortOrder"}},"required":["field","op"],"additionalProperties":false}]}},"required":["data","fields"],"additionalProperties":false},{"type":"object","properties":{"fields":{"type":"array","items":{"oneOf":[{"type":"object","properties":{"data":{"type":"string"},"field":{"$ref":"#/refs/stringOrSignal"}},"required":["data","field"],"additionalProperties":false},{"type":"array","items":{"oneOf":[{"type":"string"},{"type":"number"},{"type":"boolean"}]}},{"$ref":"#/refs/signal"}]},"minItems":1},"sort":{"oneOf":[{"type":"boolean"},{"type":"object","properties":{"op":{"enum":["count"]},"order":{"$ref":"#/refs/sortOrder"}},"additionalProperties":false},{"type":"object","properties":{"field":{"$ref":"#/refs/stringOrSignal"},"op":{"enum":["count","min","max"]},"order":{"$ref":"#/refs/sortOrder"}},"required":["field","op"],"additionalProperties":false}]}},"required":["fields"],"additionalProperties":false}]},{"$ref":"#/refs/signal"}]},"interpolate":{"$ref":"#/refs/scaleInterpolate"},"domainImplicit":{"$ref":"#/refs/booleanOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["band"]},"paddingInner":{"$ref":"#/refs/numberOrSignal"},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"step":{"$ref":"#/refs/numberOrSignal"}},"required":["step"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"padding":{"$ref":"#/refs/numberOrSignal"},"paddingOuter":{"$ref":"#/refs/numberOrSignal"},"align":{"$ref":"#/refs/numberOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["point"]},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"step":{"$ref":"#/refs/numberOrSignal"}},"required":["step"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"padding":{"$ref":"#/refs/numberOrSignal"},"paddingOuter":{"$ref":"#/refs/numberOrSignal"},"align":{"$ref":"#/refs/numberOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["quantize","threshold"]},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"count":{"$ref":"#/refs/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"numItems":2},{"$ref":"#/refs/signal"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"interpolate":{"$ref":"#/refs/scaleInterpolate"},"nice":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$ref":"#/refs/signal"}]},"zero":{"$ref":"#/refs/booleanOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["quantile"]},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"count":{"$ref":"#/refs/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"numItems":2},{"$ref":"#/refs/signal"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"interpolate":{"$ref":"#/refs/scaleInterpolate"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["bin-ordinal"]},"bins":{"$ref":"#/refs/scaleBins"},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"count":{"$ref":"#/refs/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"numItems":2},{"$ref":"#/refs/signal"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"interpolate":{"$ref":"#/refs/scaleInterpolate"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["time","utc"]},"nice":{"oneOf":[{"type":"boolean"},{"enum":["millisecond","second","minute","hour","day","week","month","year"]},{"type":"object","properties":{"interval":{"oneOf":[{"enum":["millisecond","second","minute","hour","day","week","month","year"]},{"$ref":"#/refs/signal"}]},"step":{"$ref":"#/refs/numberOrSignal"}},"required":["interval"],"additionalProperties":false}]},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"count":{"$ref":"#/refs/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"numItems":2},{"$ref":"#/refs/signal"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"bins":{"$ref":"#/refs/scaleBins"},"interpolate":{"$ref":"#/refs/scaleInterpolate"},"clamp":{"$ref":"#/refs/booleanOrSignal"},"padding":{"$ref":"#/refs/numberOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["linear","sqrt","sequential"]},"nice":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$ref":"#/refs/signal"}]},"zero":{"$ref":"#/refs/booleanOrSignal"},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"count":{"$ref":"#/refs/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"numItems":2},{"$ref":"#/refs/signal"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"bins":{"$ref":"#/refs/scaleBins"},"interpolate":{"$ref":"#/refs/scaleInterpolate"},"clamp":{"$ref":"#/refs/booleanOrSignal"},"padding":{"$ref":"#/refs/numberOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["log"]},"base":{"$ref":"#/refs/numberOrSignal"},"nice":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$ref":"#/refs/signal"}]},"zero":{"$ref":"#/refs/booleanOrSignal"},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"count":{"$ref":"#/refs/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"numItems":2},{"$ref":"#/refs/signal"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"bins":{"$ref":"#/refs/scaleBins"},"interpolate":{"$ref":"#/refs/scaleInterpolate"},"clamp":{"$ref":"#/refs/booleanOrSignal"},"padding":{"$ref":"#/refs/numberOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["pow"]},"exponent":{"$ref":"#/refs/numberOrSignal"},"nice":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$ref":"#/refs/signal"}]},"zero":{"$ref":"#/refs/booleanOrSignal"},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"count":{"$ref":"#/refs/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"numItems":2},{"$ref":"#/refs/signal"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"bins":{"$ref":"#/refs/scaleBins"},"interpolate":{"$ref":"#/refs/scaleInterpolate"},"clamp":{"$ref":"#/refs/booleanOrSignal"},"padding":{"$ref":"#/refs/numberOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["symlog"]},"constant":{"$ref":"#/refs/numberOrSignal"},"nice":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$ref":"#/refs/signal"}]},"zero":{"$ref":"#/refs/booleanOrSignal"},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"count":{"$ref":"#/refs/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"numItems":2},{"$ref":"#/refs/signal"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"bins":{"$ref":"#/refs/scaleBins"},"interpolate":{"$ref":"#/refs/scaleInterpolate"},"clamp":{"$ref":"#/refs/booleanOrSignal"},"padding":{"$ref":"#/refs/numberOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false}]},"scope":{"type":"object","properties":{"encode":{"$ref":"#/defs/encode"},"layout":{"$ref":"#/defs/layout"},"signals":{"type":"array","items":{"$ref":"#/defs/signal"}},"data":{"type":"array","items":{"$ref":"#/defs/data"}},"scales":{"type":"array","items":{"$ref":"#/defs/scale"}},"projections":{"type":"array","items":{"$ref":"#/defs/projection"}},"axes":{"type":"array","items":{"$ref":"#/defs/axis"}},"legends":{"type":"array","items":{"$ref":"#/defs/legend"}},"title":{"$ref":"#/defs/title"},"marks":{"type":"array","items":{"oneOf":[{"$ref":"#/defs/markGroup"},{"$ref":"#/defs/markVisual"}]}},"usermeta":{"type":"object"}}},"signalName":{"type":"string","not":{"enum":["parent","datum","event","item"]}},"signal":{"oneOf":[{"type":"object","properties":{"name":{"$ref":"#/defs/signalName"},"description":{"type":"string"},"push":{"enum":["outer"]},"on":{"$ref":"#/defs/onEvents"}},"required":["name","push"],"additionalProperties":false},{"type":"object","properties":{"name":{"$ref":"#/defs/signalName"},"description":{"type":"string"},"value":{},"react":{"type":"boolean","default":true},"update":{"$ref":"#/refs/exprString"},"on":{"$ref":"#/defs/onEvents"},"bind":{"$ref":"#/defs/bind"}},"required":["name"],"additionalProperties":false},{"type":"object","properties":{"name":{"$ref":"#/defs/signalName"},"description":{"type":"string"},"value":{},"init":{"$ref":"#/refs/exprString"},"on":{"$ref":"#/defs/onEvents"},"bind":{"$ref":"#/defs/bind"}},"required":["name","init"],"additionalProperties":false}]},"stream":{"allOf":[{"type":"object","properties":{"between":{"type":"array","items":{"$ref":"#/defs/stream"},"minItems":2,"maxItems":2},"marktype":{"type":"string"},"markname":{"type":"string"},"filter":{"oneOf":[{"$ref":"#/refs/exprString"},{"type":"array","items":{"$ref":"#/refs/exprString"},"minItems":1}]},"throttle":{"type":"number"},"debounce":{"type":"number"},"consume":{"type":"boolean"}}},{"oneOf":[{"type":"object","properties":{"type":{"type":"string"},"source":{"type":"string"}},"required":["type"]},{"type":"object","properties":{"stream":{"$ref":"#/defs/stream"}},"required":["stream"]},{"type":"object","properties":{"merge":{"type":"array","items":{"$ref":"#/defs/stream"},"minItems":1}},"required":["merge"]}]}]},"title":{"oneOf":[{"type":"string"},{"type":"object","properties":{"name":{"type":"string"},"orient":{"oneOf":[{"enum":["none","left","right","top","bottom"],"default":"top"},{"$ref":"#/refs/signal"}]},"anchor":{"oneOf":[{"enum":[null,"start","middle","end"]},{"$ref":"#/refs/anchorValue"}]},"frame":{"oneOf":[{"enum":["group","bounds"]},{"$ref":"#/refs/stringValue"}]},"offset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"style":{"$ref":"#/refs/style"},"text":{"$ref":"#/refs/stringOrSignal"},"zindex":{"type":"number"},"interactive":{"type":"boolean"},"align":{"oneOf":[{"enum":["left","right","center"]},{"$ref":"#/refs/alignValue"}]},"angle":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"baseline":{"oneOf":[{"enum":["top","middle","bottom","alphabetic"]},{"$ref":"#/refs/baselineValue"}]},"color":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"dx":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"dy":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"font":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"fontSize":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"fontStyle":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"fontWeight":{"oneOf":[{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]},{"$ref":"#/refs/fontWeightValue"}]},"limit":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"encode":{"type":"object","additionalProperties":false,"patternProperties":{"^(?!interactive|name|style).+$":{"$ref":"#/defs/encodeEntry"}}}},"additionalProperties":false}]},"transform":{"oneOf":[{"$ref":"#/defs/crossfilterTransform"},{"$ref":"#/defs/resolvefilterTransform"},{"$ref":"#/defs/linkpathTransform"},{"$ref":"#/defs/pieTransform"},{"$ref":"#/defs/stackTransform"},{"$ref":"#/defs/forceTransform"},{"$ref":"#/defs/contourTransform"},{"$ref":"#/defs/geojsonTransform"},{"$ref":"#/defs/geopathTransform"},{"$ref":"#/defs/geopointTransform"},{"$ref":"#/defs/geoshapeTransform"},{"$ref":"#/defs/graticuleTransform"},{"$ref":"#/defs/nestTransform"},{"$ref":"#/defs/packTransform"},{"$ref":"#/defs/partitionTransform"},{"$ref":"#/defs/stratifyTransform"},{"$ref":"#/defs/treeTransform"},{"$ref":"#/defs/treelinksTransform"},{"$ref":"#/defs/treemapTransform"},{"$ref":"#/defs/loessTransform"},{"$ref":"#/defs/regressionTransform"},{"$ref":"#/defs/aggregateTransform"},{"$ref":"#/defs/binTransform"},{"$ref":"#/defs/collectTransform"},{"$ref":"#/defs/countpatternTransform"},{"$ref":"#/defs/crossTransform"},{"$ref":"#/defs/densityTransform"},{"$ref":"#/defs/extentTransform"},{"$ref":"#/defs/filterTransform"},{"$ref":"#/defs/flattenTransform"},{"$ref":"#/defs/foldTransform"},{"$ref":"#/defs/formulaTransform"},{"$ref":"#/defs/imputeTransform"},{"$ref":"#/defs/joinaggregateTransform"},{"$ref":"#/defs/kdeTransform"},{"$ref":"#/defs/lookupTransform"},{"$ref":"#/defs/pivotTransform"},{"$ref":"#/defs/projectTransform"},{"$ref":"#/defs/sampleTransform"},{"$ref":"#/defs/sequenceTransform"},{"$ref":"#/defs/windowTransform"},{"$ref":"#/defs/identifierTransform"},{"$ref":"#/defs/voronoiTransform"},{"$ref":"#/defs/wordcloudTransform"}]},"transformMark":{"oneOf":[{"$ref":"#/defs/crossfilterTransform"},{"$ref":"#/defs/resolvefilterTransform"},{"$ref":"#/defs/linkpathTransform"},{"$ref":"#/defs/pieTransform"},{"$ref":"#/defs/stackTransform"},{"$ref":"#/defs/forceTransform"},{"$ref":"#/defs/geojsonTransform"},{"$ref":"#/defs/geopathTransform"},{"$ref":"#/defs/geopointTransform"},{"$ref":"#/defs/geoshapeTransform"},{"$ref":"#/defs/packTransform"},{"$ref":"#/defs/partitionTransform"},{"$ref":"#/defs/stratifyTransform"},{"$ref":"#/defs/treeTransform"},{"$ref":"#/defs/treemapTransform"},{"$ref":"#/defs/binTransform"},{"$ref":"#/defs/collectTransform"},{"$ref":"#/defs/extentTransform"},{"$ref":"#/defs/formulaTransform"},{"$ref":"#/defs/joinaggregateTransform"},{"$ref":"#/defs/lookupTransform"},{"$ref":"#/defs/sampleTransform"},{"$ref":"#/defs/windowTransform"},{"$ref":"#/defs/identifierTransform"},{"$ref":"#/defs/voronoiTransform"},{"$ref":"#/defs/wordcloudTransform"}]},"crossfilterTransform":{"type":"object","properties":{"type":{"enum":["crossfilter"]},"signal":{"type":"string"},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"query":{"oneOf":[{"type":"array","items":{}},{"$ref":"#/refs/signal"}]}},"required":["type","fields","query"],"additionalProperties":false},"resolvefilterTransform":{"type":"object","properties":{"type":{"enum":["resolvefilter"]},"signal":{"type":"string"},"ignore":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"filter":{}},"required":["type","ignore","filter"],"additionalProperties":false},"linkpathTransform":{"type":"object","properties":{"type":{"enum":["linkpath"]},"signal":{"type":"string"},"sourceX":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}],"default":"source.x"},"sourceY":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}],"default":"source.y"},"targetX":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}],"default":"target.x"},"targetY":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}],"default":"target.y"},"orient":{"anyOf":[{"enum":["horizontal","vertical","radial"]},{"$ref":"#/refs/signal"}],"default":"vertical"},"shape":{"anyOf":[{"enum":["line","arc","curve","diagonal","orthogonal"]},{"$ref":"#/refs/signal"}],"default":"line"},"require":{"$ref":"#/refs/signal"},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"path"}},"required":["type"],"additionalProperties":false},"pieTransform":{"type":"object","properties":{"type":{"enum":["pie"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"startAngle":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"endAngle":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":6.283185307179586},"sort":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":["startAngle","endAngle"]}},"required":["type"],"additionalProperties":false},"stackTransform":{"type":"object","properties":{"type":{"enum":["stack"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"sort":{"$ref":"#/refs/compare"},"offset":{"anyOf":[{"enum":["zero","center","normalize"]},{"$ref":"#/refs/signal"}],"default":"zero"},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":["y0","y1"]}},"required":["type"],"additionalProperties":false},"forceTransform":{"type":"object","properties":{"type":{"enum":["force"]},"signal":{"type":"string"},"static":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"restart":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"iterations":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":300},"alpha":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1},"alphaMin":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":0.001},"alphaTarget":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"velocityDecay":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":0.4},"forces":{"type":"array","items":{"oneOf":[{"type":"object","properties":{"force":{"enum":["center"]},"x":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"y":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},"required":["force"],"additionalProperties":false},{"type":"object","properties":{"force":{"enum":["collide"]},"radius":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}]},"strength":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":0.7},"iterations":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1}},"required":["force"],"additionalProperties":false},{"type":"object","properties":{"force":{"enum":["nbody"]},"strength":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":-30},"theta":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":0.9},"distanceMin":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1},"distanceMax":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},"required":["force"],"additionalProperties":false},{"type":"object","properties":{"force":{"enum":["link"]},"links":{"type":"string"},"id":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"distance":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}],"default":30},"strength":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}]},"iterations":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1}},"required":["force"],"additionalProperties":false},{"type":"object","properties":{"force":{"enum":["x"]},"strength":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":0.1},"x":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},"required":["force"],"additionalProperties":false},{"type":"object","properties":{"force":{"enum":["y"]},"strength":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":0.1},"y":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},"required":["force"],"additionalProperties":false}]}},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"default":["x","y","vx","vy"]}},"required":["type"],"additionalProperties":false},"contourTransform":{"type":"object","properties":{"type":{"enum":["contour"]},"signal":{"type":"string"},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"values":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"x":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"y":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"weight":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"cellSize":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"bandwidth":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"count":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"smooth":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"nice":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"thresholds":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]}},"required":["type","size"],"additionalProperties":false},"geojsonTransform":{"type":"object","properties":{"type":{"enum":["geojson"]},"signal":{"type":"string"},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"geojson":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},"required":["type"],"additionalProperties":false},"geopathTransform":{"type":"object","properties":{"type":{"enum":["geopath"]},"signal":{"type":"string"},"projection":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"pointRadius":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}]},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"path"}},"required":["type"],"additionalProperties":false},"geopointTransform":{"type":"object","properties":{"type":{"enum":["geopoint"]},"signal":{"type":"string"},"projection":{"type":"string"},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":["x","y"]}},"required":["type","projection","fields"],"additionalProperties":false},"geoshapeTransform":{"type":"object","properties":{"type":{"enum":["geoshape"]},"signal":{"type":"string"},"projection":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}],"default":"datum"},"pointRadius":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}]},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"shape"}},"required":["type"],"additionalProperties":false},"graticuleTransform":{"type":"object","properties":{"type":{"enum":["graticule"]},"signal":{"type":"string"},"extent":{"oneOf":[{"type":"array","items":{}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"extentMajor":{"oneOf":[{"type":"array","items":{}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"extentMinor":{"oneOf":[{"type":"array","items":{}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"step":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"stepMajor":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":[90,360]},"stepMinor":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":[10,10]},"precision":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":2.5}},"required":["type"],"additionalProperties":false},"nestTransform":{"type":"object","properties":{"type":{"enum":["nest"]},"signal":{"type":"string"},"keys":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"generate":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]}},"required":["type"],"additionalProperties":false},"packTransform":{"type":"object","properties":{"type":{"enum":["pack"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"sort":{"$ref":"#/refs/compare"},"padding":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"radius":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":5,"minItems":5,"default":["x","y","r","depth","children"]}},"required":["type"],"additionalProperties":false},"partitionTransform":{"type":"object","properties":{"type":{"enum":["partition"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"sort":{"$ref":"#/refs/compare"},"padding":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"round":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":6,"minItems":6,"default":["x0","y0","x1","y1","depth","children"]}},"required":["type"],"additionalProperties":false},"stratifyTransform":{"type":"object","properties":{"type":{"enum":["stratify"]},"signal":{"type":"string"},"key":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"parentKey":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},"required":["type","key","parentKey"],"additionalProperties":false},"treeTransform":{"type":"object","properties":{"type":{"enum":["tree"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"sort":{"$ref":"#/refs/compare"},"method":{"anyOf":[{"enum":["tidy","cluster"]},{"$ref":"#/refs/signal"}],"default":"tidy"},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"nodeSize":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"separation":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}],"default":true},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":4,"minItems":4,"default":["x","y","depth","children"]}},"required":["type"],"additionalProperties":false},"treelinksTransform":{"type":"object","properties":{"type":{"enum":["treelinks"]},"signal":{"type":"string"}},"required":["type"],"additionalProperties":false},"treemapTransform":{"type":"object","properties":{"type":{"enum":["treemap"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"sort":{"$ref":"#/refs/compare"},"method":{"anyOf":[{"enum":["squarify","resquarify","binary","dice","slice","slicedice"]},{"$ref":"#/refs/signal"}],"default":"squarify"},"padding":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"paddingInner":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"paddingOuter":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"paddingTop":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"paddingRight":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"paddingBottom":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"paddingLeft":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"ratio":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1.618033988749895},"round":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":6,"minItems":6,"default":["x0","y0","x1","y1","depth","children"]}},"required":["type"],"additionalProperties":false},"loessTransform":{"type":"object","properties":{"type":{"enum":["loess"]},"signal":{"type":"string"},"x":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"y":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"bandwidth":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":0.3},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]}},"required":["type","x","y"],"additionalProperties":false},"regressionTransform":{"type":"object","properties":{"type":{"enum":["regression"]},"signal":{"type":"string"},"x":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"y":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"method":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"linear"},"order":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":3},"extent":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"params":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]}},"required":["type","x","y"],"additionalProperties":false},"aggregateTransform":{"type":"object","properties":{"type":{"enum":["aggregate"]},"signal":{"type":"string"},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"ops":{"oneOf":[{"type":"array","items":{"anyOf":[{"enum":["values","count","__count__","missing","valid","sum","mean","average","variance","variancep","stdev","stdevp","stderr","distinct","ci0","ci1","median","q1","q3","argmin","argmax","min","max"]},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"},{"type":"null"}]}},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"type":"null"}]}},{"$ref":"#/refs/signal"}]},"drop":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}],"default":true},"cross":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"key":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},"required":["type"],"additionalProperties":false},"binTransform":{"type":"object","properties":{"type":{"enum":["bin"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"anchor":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"maxbins":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":20},"base":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":10},"divide":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"default":[5,2]},"extent":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"span":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"step":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"steps":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"minstep":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"nice":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}],"default":true},"name":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":["bin0","bin1"]}},"required":["type","field","extent"],"additionalProperties":false},"collectTransform":{"type":"object","properties":{"type":{"enum":["collect"]},"signal":{"type":"string"},"sort":{"$ref":"#/refs/compare"}},"required":["type"],"additionalProperties":false},"countpatternTransform":{"type":"object","properties":{"type":{"enum":["countpattern"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"case":{"anyOf":[{"enum":["upper","lower","mixed"]},{"$ref":"#/refs/signal"}],"default":"mixed"},"pattern":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"[\\\\w\\"]+"},"stopwords":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":["text","count"]}},"required":["type","field"],"additionalProperties":false},"crossTransform":{"type":"object","properties":{"type":{"enum":["cross"]},"signal":{"type":"string"},"filter":{"$ref":"#/refs/exprString"},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":["a","b"]}},"required":["type"],"additionalProperties":false},"densityTransform":{"type":"object","properties":{"type":{"enum":["density"]},"signal":{"type":"string"},"extent":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"steps":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"minsteps":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":25},"maxsteps":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":200},"method":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"pdf"},"distribution":{"oneOf":[{"type":"object","properties":{"function":{"enum":["normal"]},"mean":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"stdev":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1}},"required":["function"],"additionalProperties":false},{"type":"object","properties":{"function":{"enum":["uniform"]},"min":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"max":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1}},"required":["function"],"additionalProperties":false},{"type":"object","properties":{"function":{"enum":["kde"]},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"from":{"type":"string"},"bandwidth":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},"required":["function","field"],"additionalProperties":false},{"type":"object","properties":{"function":{"enum":["mixture"]},"distributions":{"oneOf":[{"type":"array","items":{}},{"$ref":"#/refs/signal"}]},"weights":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]}},"required":["function"],"additionalProperties":false}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"default":["value","density"]}},"required":["type"],"additionalProperties":false},"extentTransform":{"type":"object","properties":{"type":{"enum":["extent"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},"required":["type","field"],"additionalProperties":false},"filterTransform":{"type":"object","properties":{"type":{"enum":["filter"]},"signal":{"type":"string"},"expr":{"$ref":"#/refs/exprString"}},"required":["type","expr"],"additionalProperties":false},"flattenTransform":{"type":"object","properties":{"type":{"enum":["flatten"]},"signal":{"type":"string"},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]}},"required":["type","fields"],"additionalProperties":false},"foldTransform":{"type":"object","properties":{"type":{"enum":["fold"]},"signal":{"type":"string"},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":["key","value"]}},"required":["type","fields"],"additionalProperties":false},"formulaTransform":{"type":"object","properties":{"type":{"enum":["formula"]},"signal":{"type":"string"},"expr":{"$ref":"#/refs/exprString"},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]},"initonly":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]}},"required":["type","expr","as"],"additionalProperties":false},"imputeTransform":{"type":"object","properties":{"type":{"enum":["impute"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"key":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"keyvals":{"oneOf":[{"type":"array","items":{}},{"$ref":"#/refs/signal"}]},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"method":{"anyOf":[{"enum":["value","mean","median","max","min"]},{"$ref":"#/refs/signal"}],"default":"value"},"value":{}},"required":["type","field","key"],"additionalProperties":false},"joinaggregateTransform":{"type":"object","properties":{"type":{"enum":["joinaggregate"]},"signal":{"type":"string"},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"},{"type":"null"}]}},{"$ref":"#/refs/signal"}]},"ops":{"oneOf":[{"type":"array","items":{"anyOf":[{"enum":["values","count","__count__","missing","valid","sum","mean","average","variance","variancep","stdev","stdevp","stderr","distinct","ci0","ci1","median","q1","q3","argmin","argmax","min","max"]},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"type":"null"}]}},{"$ref":"#/refs/signal"}]},"key":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},"required":["type"],"additionalProperties":false},"kdeTransform":{"type":"object","properties":{"type":{"enum":["kde"]},"signal":{"type":"string"},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"cumulative":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"counts":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"bandwidth":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"extent":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"resolve":{"anyOf":[{"enum":["shared","independent"]},{"$ref":"#/refs/signal"}],"default":"independent"},"steps":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"minsteps":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":25},"maxsteps":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":200},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"default":["value","density"]}},"required":["type","field"],"additionalProperties":false},"lookupTransform":{"type":"object","properties":{"type":{"enum":["lookup"]},"signal":{"type":"string"},"from":{"type":"string"},"key":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"values":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"default":{}},"required":["type","from","key","fields"],"additionalProperties":false},"pivotTransform":{"type":"object","properties":{"type":{"enum":["pivot"]},"signal":{"type":"string"},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"value":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"op":{"anyOf":[{"enum":["values","count","__count__","missing","valid","sum","mean","average","variance","variancep","stdev","stdevp","stderr","distinct","ci0","ci1","median","q1","q3","argmin","argmax","min","max"]},{"$ref":"#/refs/signal"}],"default":"sum"},"limit":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"key":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},"required":["type","field","value"],"additionalProperties":false},"projectTransform":{"type":"object","properties":{"type":{"enum":["project"]},"signal":{"type":"string"},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"type":"null"}]}},{"$ref":"#/refs/signal"}]}},"required":["type"],"additionalProperties":false},"sampleTransform":{"type":"object","properties":{"type":{"enum":["sample"]},"signal":{"type":"string"},"size":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1000}},"required":["type"],"additionalProperties":false},"sequenceTransform":{"type":"object","properties":{"type":{"enum":["sequence"]},"signal":{"type":"string"},"start":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"stop":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"step":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"data"}},"required":["type","start","stop"],"additionalProperties":false},"windowTransform":{"type":"object","properties":{"type":{"enum":["window"]},"signal":{"type":"string"},"sort":{"$ref":"#/refs/compare"},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"ops":{"oneOf":[{"type":"array","items":{"anyOf":[{"enum":["row_number","rank","dense_rank","percent_rank","cume_dist","ntile","lag","lead","first_value","last_value","nth_value","prev_value","next_value","values","count","__count__","missing","valid","sum","mean","average","variance","variancep","stdev","stdevp","stderr","distinct","ci0","ci1","median","q1","q3","argmin","argmax","min","max"]},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"params":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"type":"null"}]}},{"$ref":"#/refs/signal"}]},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"},{"type":"null"}]}},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"type":"null"}]}},{"$ref":"#/refs/signal"}]},"frame":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"type":"null"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":[null,0]},"ignorePeers":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]}},"required":["type"],"additionalProperties":false},"identifierTransform":{"type":"object","properties":{"type":{"enum":["identifier"]},"signal":{"type":"string"},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},"required":["type","as"],"additionalProperties":false},"voronoiTransform":{"type":"object","properties":{"type":{"enum":["voronoi"]},"signal":{"type":"string"},"x":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"y":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"extent":{"oneOf":[{"type":"array","items":{}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":[[-100000,-100000],[100000,100000]]},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"path"}},"required":["type","x","y"],"additionalProperties":false},"wordcloudTransform":{"type":"object","properties":{"type":{"enum":["wordcloud"]},"signal":{"type":"string"},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"font":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}],"default":"sans-serif"},"fontStyle":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}],"default":"normal"},"fontWeight":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}],"default":"normal"},"fontSize":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}],"default":14},"fontSizeRange":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"},{"type":"null"}],"default":[10,50]},"rotate":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}]},"text":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"spiral":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]},"padding":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":7,"minItems":7,"default":["x","y","font","fontSize","fontStyle","fontWeight","angle"]}},"required":["type"],"additionalProperties":false}},"refs":{"labelOverlap":{"oneOf":[{"type":"boolean"},{"enum":["parity","greedy"]},{"$ref":"#/refs/signal"}]},"tickCount":{"oneOf":[{"type":"number"},{"enum":["millisecond","second","minute","hour","day","week","month","year"]},{"type":"object","properties":{"interval":{"oneOf":[{"enum":["millisecond","second","minute","hour","day","week","month","year"]},{"$ref":"#/refs/signal"}]},"step":{"$ref":"#/refs/numberOrSignal"}},"required":["interval"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"element":{"type":"string"},"paramField":{"type":"object","properties":{"field":{"type":"string"},"as":{"type":"string"}},"required":["field"],"additionalProperties":false},"field":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"type":"object","properties":{"datum":{"$ref":"#/refs/field"}},"required":["datum"],"additionalProperties":false},{"type":"object","properties":{"group":{"$ref":"#/refs/field"},"level":{"type":"number"}},"required":["group"],"additionalProperties":false},{"type":"object","properties":{"parent":{"$ref":"#/refs/field"},"level":{"type":"number"}},"required":["parent"],"additionalProperties":false}]},"scale":{"$ref":"#/refs/field"},"stringModifiers":{"type":"object","properties":{"scale":{"$ref":"#/refs/scale"}}},"numberModifiers":{"type":"object","properties":{"exponent":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"mult":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"offset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"round":{"type":"boolean","default":false},"scale":{"$ref":"#/refs/scale"},"band":{"oneOf":[{"type":"number"},{"type":"boolean"}]},"extra":{"type":"boolean"}}},"anyValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"numberValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"type":"number"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"type":"number"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"stringValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"type":"string"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"type":"string"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"booleanValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"type":"boolean"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"type":"boolean"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"arrayValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"type":"array"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"type":"array"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"nullableStringValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"oneOf":[{"type":"string"},{"type":"null"}]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"oneOf":[{"type":"string"},{"type":"null"}]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"fontWeightValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"anchorValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["start","middle","end"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["start","middle","end"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"alignValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["left","right","center"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["left","right","center"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"baselineValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["top","middle","bottom","alphabetic"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["top","middle","bottom","alphabetic"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"directionValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["horizontal","vertical"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["horizontal","vertical"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"orientValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["left","right","top","bottom"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["left","right","top","bottom"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"strokeCapValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["butt","round","square"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["butt","round","square"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"strokeJoinValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["miter","round","bevel"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["miter","round","bevel"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"colorRGB":{"type":"object","properties":{"r":{"$ref":"#/refs/numberValue"},"g":{"$ref":"#/refs/numberValue"},"b":{"$ref":"#/refs/numberValue"}},"required":["r","g","b"]},"colorHSL":{"type":"object","properties":{"h":{"$ref":"#/refs/numberValue"},"s":{"$ref":"#/refs/numberValue"},"l":{"$ref":"#/refs/numberValue"}},"required":["h","s","l"]},"colorLAB":{"type":"object","properties":{"l":{"$ref":"#/refs/numberValue"},"a":{"$ref":"#/refs/numberValue"},"b":{"$ref":"#/refs/numberValue"}},"required":["l","a","b"]},"colorHCL":{"type":"object","properties":{"h":{"$ref":"#/refs/numberValue"},"c":{"$ref":"#/refs/numberValue"},"l":{"$ref":"#/refs/numberValue"}},"required":["h","c","l"]},"colorValue":{"oneOf":[{"$ref":"#/refs/nullableStringValue"},{"type":"object","properties":{"value":{"$ref":"#/refs/linearGradient"}},"required":["value"],"additionalProperties":false},{"type":"object","properties":{"value":{"$ref":"#/refs/radialGradient"}},"required":["value"],"additionalProperties":false},{"type":"object","properties":{"gradient":{"$ref":"#/refs/scale"},"start":{"type":"array","items":{"type":"number"},"minItems":2,"maxItems":2},"stop":{"type":"array","items":{"type":"number"},"minItems":2,"maxItems":2},"count":{"type":"number"}},"required":["gradient"],"additionalProperties":false},{"type":"object","properties":{"color":{"oneOf":[{"$ref":"#/refs/colorRGB"},{"$ref":"#/refs/colorHSL"},{"$ref":"#/refs/colorLAB"},{"$ref":"#/refs/colorHCL"}]}},"required":["color"],"additionalProperties":false}]},"gradientStops":{"type":"array","items":{"type":"object","properties":{"offset":{"type":"number"},"color":{"type":"string"}},"required":["offset","color"],"additionalProperties":false}},"linearGradient":{"type":"object","properties":{"gradient":{"enum":["linear"]},"id":{"type":"string"},"x1":{"type":"number"},"y1":{"type":"number"},"x2":{"type":"number"},"y2":{"type":"number"},"stops":{"$ref":"#/refs/gradientStops"}},"required":["gradient","stops"],"additionalProperties":false},"radialGradient":{"type":"object","properties":{"gradient":{"enum":["radial"]},"id":{"type":"string"},"x1":{"type":"number"},"y1":{"type":"number"},"r1":{"type":"number"},"x2":{"type":"number"},"y2":{"type":"number"},"r2":{"type":"number"},"stops":{"$ref":"#/refs/gradientStops"}},"required":["gradient","stops"],"additionalProperties":false},"expr":{"type":"object","properties":{"expr":{"type":"string"},"as":{"type":"string"}},"required":["expr"]},"exprString":{"type":"string"},"compare":{"oneOf":[{"type":"object","properties":{"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/expr"}]},"order":{"$ref":"#/refs/sortOrder"}},"additionalProperties":false},{"type":"object","properties":{"field":{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/expr"}]}},"order":{"type":"array","items":{"$ref":"#/refs/sortOrder"}}},"additionalProperties":false}]},"from":{"type":"object","properties":{"data":{"type":"string"}},"additionalProperties":false},"facet":{"type":"object","properties":{"data":{"type":"string"},"facet":{"oneOf":[{"type":"object","properties":{"name":{"type":"string"},"data":{"type":"string"},"field":{"type":"string"}},"required":["name","data","field"],"additionalProperties":false},{"type":"object","properties":{"name":{"type":"string"},"data":{"type":"string"},"groupby":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"aggregate":{"type":"object","properties":{"cross":{"type":"boolean"},"fields":{"type":"array","items":{"type":"string"}},"ops":{"type":"array","items":{"type":"string"}},"as":{"type":"array","items":{"type":"string"}}},"additionalProperties":false}},"required":["name","data","groupby"],"additionalProperties":false}]}},"required":["facet"],"additionalProperties":false},"markclip":{"oneOf":[{"$ref":"#/refs/booleanOrSignal"},{"type":"object","properties":{"path":{"$ref":"#/refs/stringOrSignal"}},"required":["path"],"additionalProperties":false},{"type":"object","properties":{"sphere":{"$ref":"#/refs/stringOrSignal"}},"required":["sphere"],"additionalProperties":false}]},"style":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"marktype":{"type":"string"},"scaleField":{"$ref":"#/refs/stringOrSignal"},"sortOrder":{"oneOf":[{"enum":["ascending","descending"]},{"$ref":"#/refs/signal"}]},"scaleBins":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}},{"type":"object","properties":{"step":{"$ref":"#/refs/numberOrSignal"},"start":{"$ref":"#/refs/numberOrSignal"},"stop":{"$ref":"#/refs/numberOrSignal"}},"required":["step"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"scaleInterpolate":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"type":"object","properties":{"type":{"$ref":"#/refs/stringOrSignal"},"gamma":{"$ref":"#/refs/numberOrSignal"}},"required":["type"],"additionalProperties":false}]},"scaleData":{"oneOf":[{"type":"object","properties":{"data":{"type":"string"},"field":{"$ref":"#/refs/stringOrSignal"},"sort":{"oneOf":[{"type":"boolean"},{"type":"object","properties":{"field":{"$ref":"#/refs/stringOrSignal"},"op":{"$ref":"#/refs/stringOrSignal"},"order":{"$ref":"#/refs/sortOrder"}},"additionalProperties":false}]}},"required":["data","field"],"additionalProperties":false},{"type":"object","properties":{"data":{"type":"string"},"fields":{"type":"array","items":{"$ref":"#/refs/stringOrSignal"},"minItems":1},"sort":{"oneOf":[{"type":"boolean"},{"type":"object","properties":{"op":{"enum":["count"]},"order":{"$ref":"#/refs/sortOrder"}},"additionalProperties":false},{"type":"object","properties":{"field":{"$ref":"#/refs/stringOrSignal"},"op":{"enum":["count","min","max"]},"order":{"$ref":"#/refs/sortOrder"}},"required":["field","op"],"additionalProperties":false}]}},"required":["data","fields"],"additionalProperties":false},{"type":"object","properties":{"fields":{"type":"array","items":{"oneOf":[{"type":"object","properties":{"data":{"type":"string"},"field":{"$ref":"#/refs/stringOrSignal"}},"required":["data","field"],"additionalProperties":false},{"type":"array","items":{"oneOf":[{"type":"string"},{"type":"number"},{"type":"boolean"}]}},{"$ref":"#/refs/signal"}]},"minItems":1},"sort":{"oneOf":[{"type":"boolean"},{"type":"object","properties":{"op":{"enum":["count"]},"order":{"$ref":"#/refs/sortOrder"}},"additionalProperties":false},{"type":"object","properties":{"field":{"$ref":"#/refs/stringOrSignal"},"op":{"enum":["count","min","max"]},"order":{"$ref":"#/refs/sortOrder"}},"required":["field","op"],"additionalProperties":false}]}},"required":["fields"],"additionalProperties":false}]},"selector":{"type":"string"},"signal":{"type":"object","properties":{"signal":{"type":"string"}},"required":["signal"]},"arrayOrSignal":{"oneOf":[{"type":"array"},{"$ref":"#/refs/signal"}]},"booleanOrSignal":{"oneOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"numberOrSignal":{"oneOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"stringOrSignal":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},"type":"object","allOf":[{"$ref":"#/defs/scope"},{"properties":{"$schema":{"type":"string","format":"uri"},"config":{"type":"object"},"description":{"type":"string"},"width":{"type":"number"},"height":{"type":"number"},"padding":{"$ref":"#/defs/padding"},"autosize":{"$ref":"#/defs/autosize"},"background":{"$ref":"#/defs/background"},"style":{"$ref":"#/refs/style"}}}]}')},,,function(e,t,n){"use strict";const r={background:"#333",title:{color:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}};t.a=r},function(e,t,n){"use strict";const r={background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},symbol:{fill:"#4572a7",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}};t.a=r},function(e,t,n){"use strict";const r={arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},style:{bar:{binSpacing:2,fill:"#30a2da",stroke:null}},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}};t.a=r},function(e,t,n){"use strict";const r={group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}};t.a=r},function(e,t,n){"use strict";const r="Benton Gothic Bold, sans-serif",i={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},a={background:"#ffffff",title:{anchor:"start",color:"#000000",font:r,fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:r,titleFontSize:13,titleFontWeight:"normal"},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:r,titleFontSize:13,titleFontWeight:"normal"},range:{category:i["category-6"],diverging:i["fireandice-6"],heatmap:i["fire-7"],ordinal:i["fire-7"],ramp:i["fire-7"]}};t.a=a},function(e,t,n){"use strict";const r={background:"#f9f9f9",arc:{fill:"#ab5787"},area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}};t.a=r},function(e,t,n){"use strict";const r={background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}};t.a=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(243),i=n(1);t.a=function(e,t,n,a){var u,o=1;return e instanceof r.a?u=e:e&&e.prototype instanceof r.a?u=new e:Object(i.D)(e)?u=new r.a(null,e):(o=0,u=new r.a(e,t)),this.rank(u),o&&(a=n,n=t),n&&this.connect(u,u.parameters(n,a)),this.touch(u),u}},function(e,t,n){"use strict";t.a=function(e,t){var n,r,i=e.rank;for(n=0,r=t.length;n<r;++n)if(i<t[n].rank)return void this.rerank(e)}},function(e,t,n){"use strict";var r=n(673),i=n(1);t.a=function(e,t,n,a){for(var u,o=this,s=Object(r.b)(n,a),f=function(e){e.dataflow=o;try{s.receive(e)}catch(e){o.error(e)}finally{o.run()}},c=0,l=(u="string"==typeof e&&"undefined"!=typeof document?document.querySelectorAll(e):Object(i.i)(e)).length;c<l;++c)u[c].addEventListener(t,f);return s}},function(e,t,n){"use strict";var r=n(1);const i=/^([A-Za-z]+:)?\/\//,a=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,u=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,o="file://";async function s(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t)}async function f(e,t){t=Object(r.o)({},this.options,t);const n=this.fileAccess,s={href:null};let f,c,l;const d=a.test(e.replace(u,""));null!=e&&"string"==typeof e&&d||Object(r.n)("Sanitize failure, invalid URI: "+Object(r.X)(e));const p=i.test(e);return(l=t.baseURL)&&!p&&(e.startsWith("/")||"/"===l[l.length-1]||(e="/"+e),e=l+e),c=(f=e.startsWith(o))||"file"===t.mode||"http"!==t.mode&&!p&&n,f?e=e.slice(o.length):e.startsWith("//")&&("file"===t.defaultProtocol?(e=e.slice(2),c=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(s,"localFile",{value:!!c}),s.href=e,t.target&&(s.target=t.target+""),t.rel&&(s.rel=t.rel+""),s}function c(e){return e?function(t){return new Promise((function(n,r){e.readFile(t,(function(e,t){e?r(e):n(t)}))}))}:l}async function l(){Object(r.n)("No file system access.")}function d(e){return e?async function(t,n){const i=Object(r.o)({},this.options.http,n),a=n&&n.response,u=await e(t,i);return u.ok?Object(r.D)(u[a])?u[a]():u.text():Object(r.n)(u.status+""+u.statusText)}:p}async function p(){Object(r.n)("No HTTP fetch method available.")}t.a=function(e,t){return function(n){return{options:n||{},sanitize:f,load:s,fileAccess:!!t,file:c(t),http:d(e)}}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(766),i=n(994),a=n(1);const u={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function o(e,t){let n,o,s,f;return e=Object(r.a)(e,t),t&&t.feature?(n=i.a,s=t.feature):t&&t.mesh?(n=i.b,s=t.mesh,f=u[t.filter]):Object(a.n)("Missing TopoJSON feature or mesh parameter."),(o=(o=e.objects[s])?n(e,o,f):Object(a.n)("Invalid TopoJSON object: "+s))&&o.features||[o]}o.responseType="json"},,function(e,t,n){"use strict";var r=n(243),i=n(438),a=n(1),u={skip:!0};function o(e,t,n,o,s,f){var c,l,d=Object(a.o)({},f,u);Object(a.D)(n)||(n=Object(a.l)(n)),void 0===o?c=t=>e.touch(n(t)):Object(a.D)(o)?(l=new r.a(null,o,s,!1),c=t=>{l.evaluate(t);const r=n(t),a=l.value;Object(i.b)(a)?e.pulse(r,a,f):e.update(r,a,d)}):c=t=>e.update(n(t),o,d),t.apply(c)}function s(e,t,n,i,u,o){if(void 0===i)t.targets().add(n);else{const s=o||{},f=new r.a(null,function(e,t){return t=Object(a.D)(t)?t:Object(a.l)(t),e?function(n,r){const i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}(n,i),u,!1);f.modified(s.force),f.rank=t.rank,t.targets().add(f),n&&(f.skip(!0),f.value=n.value,f.targets().add(n),e.connect(n,[f]))}}t.a=function(e,t,n,i,a){return(e instanceof r.a?s:o)(this,e,t,n,i,a),this}},function(e,t,n){"use strict";function r(e){var t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),i(t,0,t.length-1,e)),pop:()=>{var n,r=t.pop();return t.length?(n=t[0],t[0]=r,function(e,t,n){var r,a=t,u=e.length,o=e[t],s=1+(t<<1);for(;s<u;)(r=s+1)<u&&n(e[s],e[r])>=0&&(s=r),e[t]=e[s],s=1+((t=s)<<1);e[t]=o,i(e,a,t,n)}(t,0,e)):n=r,n}}}function i(e,t,n,r){var i,a,u;for(i=e[n];n>t&&r(i,a=e[u=n-1>>1])<0;)e[n]=a,n=u;return e[n]=i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.r(t);var r=n(394);n.d(t,"aggregate",(function(){return r.a}));var i=n(1113);n.d(t,"bin",(function(){return i.a}));var a=n(1114);n.d(t,"collect",(function(){return a.a}));var u=n(1115);n.d(t,"compare",(function(){return u.a}));var o=n(1116);n.d(t,"countpattern",(function(){return o.a}));var s=n(1117);n.d(t,"cross",(function(){return s.a}));var f=n(1118);n.d(t,"density",(function(){return f.a}));var c=n(1119);n.d(t,"expression",(function(){return c.a}));var l=n(1120);n.d(t,"extent",(function(){return l.a}));var d=n(588);n.d(t,"facet",(function(){return d.a}));var p=n(1121);n.d(t,"field",(function(){return p.a}));var m=n(1122);n.d(t,"filter",(function(){return m.a}));var b=n(1123);n.d(t,"flatten",(function(){return b.a}));var h=n(1124);n.d(t,"fold",(function(){return h.a}));var g=n(1125);n.d(t,"formula",(function(){return g.a}));var y=n(1126);n.d(t,"generate",(function(){return y.a}));var v=n(1127);n.d(t,"impute",(function(){return v.a}));var O=n(1128);n.d(t,"joinaggregate",(function(){return O.a}));var j=n(1129);n.d(t,"kde",(function(){return j.a}));var $=n(1130);n.d(t,"key",(function(){return $.a}));var x=n(1131);n.d(t,"load",(function(){return x.a}));var k=n(1132);n.d(t,"lookup",(function(){return k.a}));var A=n(1133);n.d(t,"multiextent",(function(){return A.a}));var w=n(1134);n.d(t,"multivalues",(function(){return w.a}));var _=n(1135);n.d(t,"params",(function(){return _.a}));var F=n(1136);n.d(t,"pivot",(function(){return F.a}));var D=n(1137);n.d(t,"prefacet",(function(){return D.a}));var S=n(1138);n.d(t,"project",(function(){return S.a}));var C=n(1139);n.d(t,"proxy",(function(){return C.a}));var E=n(1140);n.d(t,"relay",(function(){return E.a}));var q=n(1141);n.d(t,"sample",(function(){return q.a}));var M=n(1142);n.d(t,"sequence",(function(){return M.a}));var z=n(1143);n.d(t,"sieve",(function(){return z.a}));var B=n(683);n.d(t,"subflow",(function(){return B.a}));var P=n(1144);n.d(t,"tupleindex",(function(){return P.a}));var T=n(1145);n.d(t,"values",(function(){return T.a}));var R=n(1146);n.d(t,"window",(function(){return R.a}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(105),i=n(1),a={kde:r.f,mixture:r.h,normal:r.i,uniform:r.j},u="distributions",o="function",s="field";function f(e,t){var n=e[o];Object(i.v)(a,n)||Object(i.n)("Unknown distribution function: "+n);var r=a[n]();for(var c in e)c===s?r.data((e.from||t()).map(e[c])):c===u?r[c](e[c].map((function(e){return f(e,t)}))):typeof r[c]===o&&r[c](e[c]);return r}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(220),i=n(769),a=n(601),u=n(1);function o(e){let t=this,n=Object(u.i)(e.ops),o=Object(u.i)(e.fields),s=Object(u.i)(e.params),f=Object(u.i)(e.as),c=t.outputs=[],l=t.windows=[],d={},p={},m=!0,b=[],h=[];function g(e){Object(u.i)(Object(u.g)(e)).forEach(e=>d[e]=1)}g(e.sort),n.forEach((function(e,t){let n=o[t],i=Object(u.h)(n),d=Object(r.d)(e,i,f[t]);if(g(n),c.push(d),Object(u.v)(a.c,e))l.push(Object(a.b)(e,o[t],s[t],d));else{if(null==n&&"count"!==e&&Object(u.n)("Null aggregate field specified."),"count"===e)return void b.push(d);m=!1;let t=p[i];t||((t=p[i]=[]).field=n,h.push(t)),t.push(Object(r.c)(e,d))}})),(b.length||h.length)&&(t.cell=function(e,t,n){e=e.map(e=>Object(r.b)(e,e.field));let a={num:0,agg:null,store:!1,count:t};if(!n)for(var u=e.length,o=a.agg=Array(u),s=0;s<u;++s)o[s]=new e[s](a);if(a.store)var f=a.data=new i.a;return a.add=function(e){if(a.num+=1,!n){f&&f.add(e);for(let t=0;t<u;++t)o[t].add(o[t].get(e),e)}},a.rem=function(e){if(a.num-=1,!n){f&&f.rem(e);for(let t=0;t<u;++t)o[t].rem(o[t].get(e),e)}},a.set=function(e){let r,i;for(f&&f.values(),r=0,i=t.length;r<i;++r)e[t[r]]=a.num;if(!n)for(r=0,i=o.length;r<i;++r)o[r].set(e)},a.init=function(){a.num=0,f&&f.reset();for(let e=0;e<u;++e)o[e].init()},a}(h,b,m)),t.inputs=Object.keys(d)}const s=o.prototype;s.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()},s.update=function(e,t){let n,r=this.cell,i=this.windows,a=e.data,u=i&&i.length;if(r){for(n=e.p0;n<e.i0;++n)r.rem(a[n]);for(n=e.p1;n<e.i1;++n)r.add(a[n]);r.set(t)}for(n=0;n<u;++n)i[n].update(e,t)}},function(e,t,n){"use strict";n.r(t);var r=n(1147);n.d(t,"bound",(function(){return r.a}));var i=n(1169);n.d(t,"identifier",(function(){return i.a}));var a=n(1170);n.d(t,"mark",(function(){return a.a}));var u=n(1171);n.d(t,"overlap",(function(){return u.a}));var o=n(1172);n.d(t,"render",(function(){return o.a}));var s=n(1173);n.d(t,"viewlayout",(function(){return s.a}))},function(e,t,n){"use strict";var r=n(182),i=n(516);t.a=Object(i.a)("arc",r.a)},,,function(e,t,n){"use strict";t.a=function(e,t,n){const r=n.width(),i=n.height(),a=t.stops,u=a.length,o="radial"===t.gradient?e.createRadialGradient(n.x1+(t.x1||.5)*r,n.y1+(t.y1||.5)*i,Math.max(r,i)*(t.r1||0),n.x1+(t.x2||.5)*r,n.y1+(t.y2||.5)*i,Math.max(r,i)*(t.r2||.5)):e.createLinearGradient(n.x1+(t.x1||0)*r,n.y1+(t.y1||0)*i,n.x1+(t.x2||1)*r,n.y1+(t.y2||0)*i);for(let e=0;e<u;++e)o.addColorStop(a[e].offset,a[e].color);return o}},function(e,t,n){"use strict";var r=n(182),i=n(518),a=n(519);t.a=Object(a.a)("area",r.b,i.a)},function(e,t,n){"use strict";var r=n(182),i=n(237),a=n(141),u=n(135),o=n(398),s=n(517),f=n(207),c=n(383),l=n(216),d=.5;function p(e,t){var n=t.stroke?d:0;e.beginPath(),Object(r.d)(e,t,n,n)}var m=Object(f.a)(p);t.a={type:"group",tag:"g",nested:!1,attr:function(e,t){e("transform",Object(l.d)(t))},bound:function(e,t){if(!t.clip&&t.items)for(var n=t.items,r=0,a=n.length;r<a;++r)e.union(n[r].bounds);return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),Object(i.a)(e,t),e.translate(t.x||0,t.y||0)},draw:function(e,t,n){var r=this;Object(u.b)(t,(function(t){var i,a=t.x||0,f=t.y||0,c=t.width||0,l=t.height||0;e.save(),e.translate(a,f),(t.stroke||t.fill)&&(i=null==t.opacity?1:t.opacity)>0&&(p(e,t),t.fill&&Object(s.a)(e,t,i)&&e.fill(),t.stroke&&Object(o.a)(e,t,i)&&e.stroke()),t.clip&&(e.beginPath(),e.rect(0,0,c,l),e.clip()),n&&n.translate(-a,-f),Object(u.b)(t,(function(t){r.draw(e,t,n)})),n&&n.translate(a,f),e.restore()}))},pick:function(e,t,n,r,i,a){if(t.bounds&&!t.bounds.contains(i,a)||!t.items)return null;var o=this,s=n*e.pixelRatio,f=r*e.pixelRatio;return Object(u.a)(t,(function(c){var l,d,p,b;if(!(b=c.bounds)||b.contains(i,a))return d=c.x||0,p=c.y||0,e.save(),e.translate(d,p),d=i-d,p=a-p,!(l=Object(u.a)(c,(function(e){return function(e,t,n){return(!1!==e.interactive||"group"===e.marktype)&&e.bounds&&e.bounds.contains(t,n)}(e,d,p)?o.pick(e,n,r,d,p):null})))&&!1!==t.interactive&&(c.fill||c.stroke)&&m(e,c,s,f)&&(l=c),e.restore(),l||null}))},isect:a.d,background:function(e,t){var n=t.stroke?d:0;e("class","background"),e("d",Object(r.d)(null,t,n,n))},foreground:function(e,t,n){e("clip-path",t.clip?Object(c.a)(n,t,t):null)}}},function(e,t,n){"use strict";var r=n(135),i=n(207),a=n(216),u=n(1);function o(e,t){var n=e.image;return n&&n.url===e.url||(n={loaded:!1,width:0,height:0},t.loadImage(e.url).then((function(t){e.image=t,e.image.url=e.url}))),n}function s(e,t){return"center"===e?t/2:"right"===e?t:0}function f(e,t){return"middle"===e?t/2:"bottom"===e?t:0}t.a={type:"image",tag:"image",nested:!1,attr:function(e,t,n){var r=o(t,n),i=t.x||0,u=t.y||0,c=(null!=t.width?t.width:r.width)||0,l=(null!=t.height?t.height:r.height)||0,d=!1===t.aspect?"none":"xMidYMid";i-=s(t.align,c),u-=f(t.baseline,l),e("href",r.src||"","http://www.w3.org/1999/xlink","xlink:href"),e("transform",Object(a.c)(i,u)),e("width",c),e("height",l),e("preserveAspectRatio",d)},bound:function(e,t){var n=t.image,r=t.x||0,i=t.y||0,a=(null!=t.width?t.width:n&&n.width)||0,u=(null!=t.height?t.height:n&&n.height)||0;return r-=s(t.align,a),i-=f(t.baseline,u),e.set(r,i,r+a,i+u)},draw:function(e,t,n){var i=this;Object(r.b)(t,(function(t){if(!n||n.intersects(t.bounds)){var r,a,u,c,l=o(t,i),d=t.x||0,p=t.y||0,m=(null!=t.width?t.width:l.width)||0,b=(null!=t.height?t.height:l.height)||0;d-=s(t.align,m),p-=f(t.baseline,b),!1!==t.aspect&&(a=l.width/l.height,u=t.width/t.height,a==a&&u==u&&a!==u&&(u<a?(p+=(b-(c=m/a))/2,b=c):(d+=(m-(c=b*a))/2,m=c))),l.loaded&&(e.globalAlpha=null!=(r=t.opacity)?r:1,e.drawImage(l,d,p,m,b))}}))},pick:Object(i.b)(),isect:u.eb,get:o,xOffset:s,yOffset:f}},function(e,t,n){"use strict";var r=n(182),i=n(518),a=n(519);t.a=Object(a.a)("line",r.c,i.b)},function(e,t,n){"use strict";var r=n(237),i=n(320),a=n(353),u=n(499),o=n(141),s=n(397),f=n(207),c=n(216);function l(e,t){var n=t.path;if(null==n)return!0;var r=t.pathCache;r&&r.path===n||((t.pathCache=r=Object(a.a)(n)).path=n),Object(u.a)(e,r,t.x,t.y)}t.a={type:"path",tag:"path",nested:!1,attr:function(e,t){e("transform",Object(c.d)(t)),e("d",t.path)},bound:function(e,t){return l(Object(i.a)(e),t)?e.set(0,0,0,0):Object(r.a)(e,t)},draw:Object(s.a)(l),pick:Object(f.c)(l),isect:Object(o.b)(l)}},function(e,t,n){"use strict";var r=n(237),i=n(182),a=n(141),u=n(397),o=n(207);function s(e,t){e.beginPath(),Object(i.d)(e,t)}t.a={type:"rect",tag:"path",nested:!1,attr:function(e,t){e("d",Object(i.d)(null,t))},bound:function(e,t){var n,i;return Object(r.a)(e.set(n=t.x||0,i=t.y||0,n+t.width||0,i+t.height||0),t)},draw:Object(u.a)(s),pick:Object(o.c)(s),isect:a.d}},function(e,t,n){"use strict";var r=n(237),i=n(141),a=n(135),u=n(207),o=n(398),s=n(216);function f(e,t,n){var r,i,a,u;return!(!t.stroke||!Object(o.a)(e,t,n))&&(r=t.x||0,i=t.y||0,a=null!=t.x2?t.x2:r,u=null!=t.y2?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(a,u),!0)}t.a={type:"rule",tag:"line",nested:!1,attr:function(e,t){e("transform",Object(s.d)(t)),e("x2",null!=t.x2?t.x2-(t.x||0):0),e("y2",null!=t.y2?t.y2-(t.y||0):0)},bound:function(e,t){var n,i;return Object(r.a)(e.set(n=t.x||0,i=t.y||0,null!=t.x2?t.x2:n,null!=t.y2?t.y2:i),t)},draw:function(e,t,n){Object(a.b)(t,(function(t){if(!n||n.intersects(t.bounds)){var r=null==t.opacity?1:t.opacity;r&&f(e,t,r)&&e.stroke()}}))},pick:Object(u.b)((function(e,t,n,r){return!!e.isPointInStroke&&(f(e,t,1)&&e.isPointInStroke(n,r))})),isect:i.e}},function(e,t,n){"use strict";var r=n(182),i=n(516);t.a=Object(i.a)("shape",r.e)},function(e,t,n){"use strict";var r=n(182),i=n(141),a=n(516);t.a=Object(a.a)("symbol",r.f,i.c)},function(e,t,n){"use strict";var r=n(159),i=n(97),a=n(153),u=n(141),o=n(135),s=n(517),f=n(207),c=n(398),l=n(216),d={left:"start",center:"middle",right:"end"},p=new r.a;function m(e){var t,n=e.x||0,r=e.y||0,a=e.radius||0;return a&&(t=(e.theta||0)-i.b,n+=a*Math.cos(t),r+=a*Math.sin(t)),p.x1=n,p.y1=r,p}function b(e,t,n){var r,u=a.e.height(t),o=t.align,s=m(t),f=s.x1,c=s.y1,l=t.dx||0,d=(t.dy||0)+Object(a.d)(t)-Math.round(.8*u);if(r=a.e.width(t),"center"===o?l-=r/2:"right"===o&&(l-=r),e.set(l+=f,d+=c,l+r,d+u),t.angle&&!n)e.rotate(t.angle*i.a,f,c);else if(2===n)return e.rotatedPoints(t.angle*i.a,f,c);return e}t.a={type:"text",tag:"text",nested:!1,attr:function(e,t){var n,r=t.dx||0,i=(t.dy||0)+Object(a.d)(t),u=m(t),o=u.x1,s=u.y1,f=t.angle||0;e("text-anchor",d[t.align]||"start"),f?(n=Object(l.c)(o,s)+" "+Object(l.a)(f),(r||i)&&(n+=" "+Object(l.c)(r,i))):n=Object(l.c)(o+r,s+i),e("transform",n)},bound:b,draw:function(e,t,n){Object(o.b)(t,(function(t){var r,u,o,f,l;n&&!n.intersects(t.bounds)||(l=Object(a.f)(t))&&(0===(r=null==t.opacity?1:t.opacity)||t.fontSize<=0||(e.font=Object(a.a)(t),e.textAlign=t.align||"left",o=(u=m(t)).x1,f=u.y1,t.angle&&(e.save(),e.translate(o,f),e.rotate(t.angle*i.a),o=f=0),o+=t.dx||0,f+=(t.dy||0)+Object(a.d)(t),t.fill&&Object(s.a)(e,t,r)&&e.fillText(l,o,f),t.stroke&&Object(c.a)(e,t,r)&&e.strokeText(l,o,f),t.angle&&e.restore()))}))},pick:Object(f.b)((function(e,t,n,r,a,u){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var o=m(t),s=o.x1,f=o.y1,c=b(p,t,1),l=-t.angle*i.a,d=Math.cos(l),h=Math.sin(l),g=d*a-h*u+(s-d*s+h*f),y=h*a+d*u+(f-h*s-d*f);return c.contains(g,y)})),isect:function(e,t){var n=b(p,e,2);return Object(u.a)(t,n[0],n[1],n[2],n[3])||Object(u.a)(t,n[0],n[1],n[4],n[5])||Object(u.a)(t,n[4],n[5],n[6],n[7])||Object(u.a)(t,n[2],n[3],n[6],n[7])}}},function(e,t,n){"use strict";var r=n(182),i=n(518),a=n(519);t.a=Object(a.a)("trail",r.g,i.c)},function(e,t,n){"use strict";var r=n(162),i=n(500);t.a=function(e,t,n,a){var u,o,s=e&&e.mark;if(s&&(u=r.a[s.marktype]).tip){for((o=Object(i.a)(t,n))[0]-=a[0],o[1]-=a[1];e=e.mark.group;)o[0]-=e.x||0,o[1]-=e.y||0;e=u.tip(s.items,o)}return e}},function(e,t,n){"use strict";var r=n(1);t.a=function(e,t){var n=t.clip;if(e.save(),e.beginPath(),Object(r.D)(n))n(e);else{var i=t.group;e.rect(0,0,i.width||0,i.height||0)}e.clip()}},function(e,t,n){"use strict";var r="undefined"!=typeof window&&window.devicePixelRatio||1;t.a=function(e,t,n,i,a,u){var o,s="undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&null!=e.parentNode,f=e.getContext("2d"),c=s?r:a;for(o in e.width=t*c,e.height=n*c,u)f[o]=u[o];return s&&1!==c&&(e.style.width=t+"px",e.style.height=n+"px"),f.pixelRatio=c,f.setTransform(c,0,0,c,c*i[0],c*i[1]),e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(32),i=n(290);function a(e,t,n,a,u){var o,s=t.items[0],f=s.frame,c=s.orient,l=s.anchor,d=s.offset,p=s.bounds,m=0,b=c===r.r||c===r.x?a:n,h=0,g=0;switch(f!==r.q?c===r.r?(m=u.y2,b=u.y1):c===r.x?(m=u.y1,b=u.y2):(m=u.x1,b=u.x2):c===r.r&&(m=a,b=0),o=l===r.D?m:l===r.k?b:(m+b)/2,i.b.clear().union(p),c){case r.G:h=o,g=u.y1-d;break;case r.r:h=u.x1-d,g=o;break;case r.x:h=u.x2+d,g=o;break;case r.c:h=o,g=u.y2+d;break;default:h=s.x,g=s.y}return p.translate(h-(s.x||0),g-(s.y||0)),Object(i.a)(s,"x",h)|Object(i.a)(s,"y",g)&&(s.bounds=i.b,e.dirty(s),s.bounds=p,e.dirty(s)),t.bounds.clear().union(p)}},function(e,t,n){"use strict";n.r(t);var r=n(1174);n.d(t,"axisticks",(function(){return r.a}));var i=n(1188);n.d(t,"datajoin",(function(){return i.a}));var a=n(1189);n.d(t,"encode",(function(){return a.a}));var u=n(1190);n.d(t,"legendentries",(function(){return u.a}));var o=n(1191);n.d(t,"linkpath",(function(){return o.a}));var s=n(1192);n.d(t,"pie",(function(){return s.a}));var f=n(1193);n.d(t,"scale",(function(){return f.a}));var c=n(1194);n.d(t,"sortitems",(function(){return c.a}));var l=n(1195);n.d(t,"stack",(function(){return l.a}));var d=n(241);n.d(t,"validTicks",(function(){return d.d}))},function(e,t,n){"use strict";t.a=function(e){return function(t){var n,r=t[0],i=t[1];return i<r&&(n=r,r=i,i=n),[e.invert(r),e.invert(i)]}}},function(e,t,n){"use strict";t.a=function(e){return function(t){var n,r,i,a,u=e.range(),o=t[0],s=t[1],f=-1;for(s<o&&(r=o,o=s,s=r),i=0,a=u.length;i<a;++i)u[i]>=o&&u[i]<=s&&(f<0&&(f=i),n=i);if(!(f<0))return o=e.invertExtent(u[f]),s=e.invertExtent(u[n]),[void 0===o[0]?o[1]:o[0],void 0===s[1]?s[0]:s[1]]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(376),i=n(774),a=n(1),u=n(1386),o=n(1387);function s(){var e=[],t=[];function n(n){return null==n||n!=n?void 0:t[(Object(r.c)(e,n)-1)%t.length]}return n.domain=function(t){return arguments.length?(e=Object(u.a)(t),n):e.slice()},n.range=function(e){return arguments.length?(t=o.a.call(e),n):t.slice()},n.tickFormat=function(t,n){return Object(i.a)(e[0],Object(a.S)(e),null==t?10:t,n)},n.copy=function(){return s().domain(n.domain()).range(n.range())},n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=Array.prototype.map;function i(e){return r.call(e,(function(e){return+e}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=Array.prototype.slice},,,,,function(e,t,n){"use strict";n.r(t);var r=n(1196);n.d(t,"contour",(function(){return r.a}));var i=n(1212);n.d(t,"geojson",(function(){return i.a}));var a=n(1213);n.d(t,"geopath",(function(){return a.a}));var u=n(1236);n.d(t,"geopoint",(function(){return u.a}));var o=n(1237);n.d(t,"geoshape",(function(){return o.a}));var s=n(1238);n.d(t,"graticule",(function(){return s.a}));var f=n(1239);n.d(t,"projection",(function(){return f.a}))},,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(1240);n.d(t,"force",(function(){return r.a}))},,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(1252);n.d(t,"nest",(function(){return r.a}));var i=n(1262);n.d(t,"pack",(function(){return i.a}));var a=n(1263);n.d(t,"partition",(function(){return a.a}));var u=n(1264);n.d(t,"stratify",(function(){return u.a}));var o=n(1265);n.d(t,"tree",(function(){return o.a}));var s=n(1266);n.d(t,"treelinks",(function(){return s.a}));var f=n(1267);n.d(t,"treemap",(function(){return f.a}))},,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(1268);n.d(t,"loess",(function(){return r.a}));var i=n(1269);n.d(t,"regression",(function(){return i.a}))},function(e,t,n){"use strict";n.r(t);var r=n(1270);n.d(t,"voronoi",(function(){return r.a}))},,function(e,t,n){"use strict";n.r(t);var r=n(1272);n.d(t,"wordcloud",(function(){return r.a}))},function(e,t,n){"use strict";var r=n(395),i=Math.PI/180,a=64,u=2048;function o(e,t,n,r){if(!t.sprite){var o=e.context,s=e.ratio;o.clearRect(0,0,(a<<5)/s,u/s);var f,c,l,d,p,m=0,b=0,h=0,g=n.length;for(--r;++r<g;){if(t=n[r],o.save(),o.font=t.style+" "+t.weight+" "+~~((t.size+1)/s)+"px "+t.font,f=o.measureText(t.text+"m").width*s,l=t.size<<1,t.rotate){var y=Math.sin(t.rotate*i),v=Math.cos(t.rotate*i),O=f*v,j=f*y,$=l*v,x=l*y;f=Math.max(Math.abs(O+x),Math.abs(O-x))+31>>5<<5,l=~~Math.max(Math.abs(j+$),Math.abs(j-$))}else f=f+31>>5<<5;if(l>h&&(h=l),m+f>=a<<5&&(m=0,b+=h,h=0),b+l>=u)break;o.translate((m+(f>>1))/s,(b+(l>>1))/s),t.rotate&&o.rotate(t.rotate*i),o.fillText(t.text,0,0),t.padding&&(o.lineWidth=2*t.padding,o.strokeText(t.text,0,0)),o.restore(),t.width=f,t.height=l,t.xoff=m,t.yoff=b,t.x1=f>>1,t.y1=l>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,m+=f}for(var k=o.getImageData(0,0,(a<<5)/s,u/s).data,A=[];--r>=0;)if((t=n[r]).hasText){for(c=(f=t.width)>>5,l=t.y1-t.y0,d=0;d<l*c;d++)A[d]=0;if(null==(m=t.xoff))return;b=t.yoff;var w=0,_=-1;for(p=0;p<l;p++){for(d=0;d<f;d++){var F=c*p+(d>>5),D=k[(b+p)*(a<<5)+(m+d)<<2]?1<<31-d%32:0;A[F]|=D,w|=D}w?_=p:(t.y0++,l--,p--,b++)}t.y1=t.y0+_,t.sprite=A.slice(0,(t.y1-t.y0)*c)}}}function s(e,t,n){n>>=5;for(var r,i=e.sprite,a=e.width>>5,u=e.x-(a<<4),o=127&u,s=32-o,f=e.y1-e.y0,c=(e.y+e.y0)*n+(u>>5),l=0;l<f;l++){r=0;for(var d=0;d<=a;d++)if((r<<s|(d<a?(r=i[l*a+d])>>>o:0))&t[c+d])return!0;c+=n}return!1}function f(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function c(e){var t=e[0]/e[1];return function(e){return[t*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function l(e){return"function"==typeof e?e:function(){return e}}t.a=function(){var e,t,n,i,p,m,b,h=[256,256],g=c,y=[],v=Math.random,O={};function j(e,t,n){for(var r,i,a,u,o,f=t.x,c=t.y,l=Math.sqrt(h[0]*h[0]+h[1]*h[1]),d=g(h),p=v()<.5?1:-1,m=-p;(r=d(m+=p))&&(i=~~r[0],a=~~r[1],!(Math.min(Math.abs(i),Math.abs(a))>=l));)if(t.x=f+i,t.y=c+a,!(t.x+t.x0<0||t.y+t.y0<0||t.x+t.x1>h[0]||t.y+t.y1>h[1]||n&&s(t,e,h[0])||n&&(o=n,!((u=t).x+u.x1>o[0].x&&u.x+u.x0<o[1].x&&u.y+u.y1>o[0].y&&u.y+u.y0<o[1].y)))){for(var b,y=t.sprite,O=t.width>>5,j=h[0]>>5,$=t.x-(O<<4),x=127&$,k=32-x,A=t.y1-t.y0,w=(t.y+t.y0)*j+($>>5),_=0;_<A;_++){b=0;for(var F=0;F<=O;F++)e[w+F]|=b<<k|(F<O?(b=y[_*O+F])>>>x:0);w+=j}return t.sprite=null,!0}return!1}return O.layout=function(){for(var s=function(e){e.width=e.height=1;var t=Math.sqrt(e.getContext("2d").getImageData(0,0,1,1).data.length>>2);e.width=(a<<5)/t,e.height=u/t;var n=e.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:t}}(Object(r.a)()),c=function(e){var t=[],n=-1;for(;++n<e;)t[n]=0;return t}((h[0]>>5)*h[1]),l=null,d=y.length,g=-1,O=[],$=y.map((function(r){return{text:e(r),font:t(r),style:i(r),weight:p(r),rotate:m(r),size:~~n(r),padding:b(r),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:r}})).sort((function(e,t){return t.size-e.size}));++g<d;){var x=$[g];x.x=h[0]*(v()+.5)>>1,x.y=h[1]*(v()+.5)>>1,o(s,x,$,g),x.hasText&&j(c,x,l)&&(O.push(x),l?f(l,x):l=[{x:x.x+x.x0,y:x.y+x.y0},{x:x.x+x.x1,y:x.y+x.y1}],x.x-=h[0]>>1,x.y-=h[1]>>1)}return O},O.words=function(e){return arguments.length?(y=e,O):y},O.size=function(e){return arguments.length?(h=[+e[0],+e[1]],O):h},O.font=function(e){return arguments.length?(t=l(e),O):t},O.fontStyle=function(e){return arguments.length?(i=l(e),O):i},O.fontWeight=function(e){return arguments.length?(p=l(e),O):p},O.rotate=function(e){return arguments.length?(m=l(e),O):m},O.text=function(t){return arguments.length?(e=l(t),O):e},O.spiral=function(e){return arguments.length?(g=d[e]||e,O):g},O.fontSize=function(e){return arguments.length?(n=l(e),O):n},O.padding=function(e){return arguments.length?(b=l(e),O):b},O.random=function(e){return arguments.length?(v=e,O):v},O};var d={archimedean:c,rectangular:function(e){var t=4*e[0]/e[1],n=0,r=0;return function(e){var i=e<0?-1:1;switch(Math.sqrt(1+4*i*e)-i&3){case 0:n+=t;break;case 1:r+=4;break;case 2:n-=t;break;default:r-=4}return[n,r]}}}},function(e,t,n){"use strict";n.r(t);var r=n(1273);n.d(t,"crossfilter",(function(){return r.a}));var i=n(1274);n.d(t,"resolvefilter",(function(){return i.a}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(371);function i(){var e=8,t=[],n=Object(r.b)(0),i=a(0,e),u=a(0,e);return{data:function(){return t},seen:function(){return n=function(e,t,n){return e.length>=t?e:((n=n||new e.constructor(t)).set(e),n)}(n,t.length)},add:function(e){for(var n,r=0,i=t.length,a=e.length;r<a;++r)(n=e[r])._index=i++,t.push(n)},remove:function(e,n){var r,a,o,s=t.length,f=Array(s-e),c=t;for(a=0;!n[a]&&a<s;++a)f[a]=t[a],c[a]=a;for(o=a;a<s;++a)r=t[a],n[a]?c[a]=-1:(c[a]=o,i[o]=i[a],u[o]=u[a],f[o]=r,r._index=o++),i[a]=0;return t=f,c},size:function(){return t.length},curr:function(){return i},prev:function(){return u},reset:function(e){u[e]=i[e]},all:function(){return e<257?255:e<65537?65535:4294967295},set:function(e,t){i[e]|=t},clear:function(e,t){i[e]&=~t},resize:function(t,n){(t>i.length||n>e)&&(e=Math.max(n,e),i=a(t,e,i),u=a(t,e))}}}function a(e,t,n){var i=(t<257?r.c:t<65537?r.a:r.b)(e);return n&&i.set(n),i}},function(e,t,n){"use strict";var r=n(1);t.a=function(e){var t=e._signals.cursor;t||(e._signals.cursor=t=e.add({user:"default",item:null})),e.on(e.events("view","mousemove"),t,(function(e,n){var i=t.value,a=i?Object(r.H)(i)?i:i.user:"default",u=n.item&&n.item.cursor||null;return i&&a===i.user&&u==i.item?i:{user:a,item:u}})),e.add(null,(function(e){var t=e.cursor,n=this.value;return Object(r.H)(t)||(n=t.item,t=t.user),function(e){"undefined"!=typeof document&&document.body&&(document.body.style.cursor=e)}(t&&"default"!==t?t:n||t),n}),{cursor:t})}},function(e,t,n){"use strict";var r=n(332),i=n(1),a=n(76);t.a=function(e,t,n){var u,o,s,f=e._renderer,c=f&&f.canvas();return c&&(s=Object(r.b)(e),o=t.changedTouches?t.changedTouches[0]:t,(u=Object(a.P)(o,c))[0]-=s[0],u[1]-=s[1]),t.dataflow=e,t.item=n,t.vega=function(e,t,n){var r=t?"group"===t.mark.marktype?t:t.mark.group:null;function a(e){var n,i=r;if(e)for(n=t;n;n=n.mark.group)if(n.mark.name===e){i=n;break}return i&&i.mark&&i.mark.interactive?i:{}}function u(e){if(!e)return n;Object(i.H)(e)&&(e=a(e));for(var t=n.slice();e;)t[0]-=e.x||0,t[1]-=e.y||0,e=e.mark&&e.mark.group;return t}return{view:Object(i.l)(e),item:Object(i.l)(t||{}),group:a,xy:u,x:function(e){return u(e)[0]},y:function(e){return u(e)[1]}}}(e,n,u),t}},function(e,t,n){"use strict";function r(e){return e.item}function i(e){return e.item.mark.source}function a(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}t.a=function(e,t){return t=[t||"update",(e=[e||"hover"])[0]],this.on(this.events("view","mouseover",r),i,a(e)),this.on(this.events("view","mouseout",r),i,a(t)),this}},function(e,t,n){"use strict";t.a=function(){var e,t,n,r=this._tooltip,i=this._timers,a=this._eventListeners;for(e=i.length;--e>=0;)i[e].stop();for(e=a.length;--e>=0;)for(t=(n=a[e]).sources.length;--t>=0;)n.sources[t].removeEventListener(n.type,n.handler);return r&&r.call(this,this._handler,null,null,null),this}},function(e,t,n){"use strict";var r=n(1437),i=n(254),a=n(788),u=n(1438),o=n(76);function s(e,t){if("string"==typeof t){if("undefined"==typeof document)return e.error("DOM document instance not found."),null;if(!(t=document.querySelector(t)))return e.error("Signal bind element not found: "+t),null}if(t)try{t.innerHTML=""}catch(n){t=null,e.error(n)}return t}t.a=function(e,t){var n,f,c=this,l=c._renderType,d=c._eventConfig.bind,p=Object(o.Q)(l);return e=c._el=e?s(c,e):null,p||c.error("Unrecognized renderer type: "+l),n=p.handler||o.b,f=e?p.renderer:p.headless,c._renderer=f?Object(a.a)(c,c._renderer,e,f):null,c._handler=Object(u.a)(c,c._handler,e,n),c._redraw=!0,e&&"none"!==d&&(t=t?c._elBind=s(c,t):e.appendChild(Object(i.a)("div",{class:"vega-bindings"})),c._bind.forEach((function(e){e.param.element&&"container"!==d&&(e.element=s(c,e.param.element))})),c._bind.forEach((function(e){Object(r.a)(c,e.element||t,e)}))),c}},function(e,t,n){"use strict";var r=n(254),i=n(1),a=n(345),u="vega-bind",o="vega-bind-name",s="vega-bind-radio",f="vega-option-";function c(e,t,n,i){var a=Object(r.a)("input");for(var u in n)"signal"!==u&&"element"!==u&&a.setAttribute("input"===u?"type":u,n[u]);a.setAttribute("name",n.signal),a.value=i,t.appendChild(a),a.addEventListener("input",(function(){e.update(a.value)})),e.elements=[a],e.set=function(e){a.value=e}}function l(e,t,n,i){var a={type:"checkbox",name:n.signal};i&&(a.checked=!0);var u=Object(r.a)("input",a);t.appendChild(u),u.addEventListener("change",(function(){e.update(u.checked)})),e.elements=[u],e.set=function(e){u.checked=!!e||null}}function d(e,t,n,i){var a=Object(r.a)("select",{name:n.signal});n.options.forEach((function(e){var t={value:e};b(e,i)&&(t.selected=!0),a.appendChild(Object(r.a)("option",t,e+""))})),t.appendChild(a),a.addEventListener("change",(function(){e.update(n.options[a.selectedIndex])})),e.elements=[a],e.set=function(e){for(var t=0,r=n.options.length;t<r;++t)if(b(n.options[t],e))return void(a.selectedIndex=t)}}function p(e,t,n,i){var a=Object(r.a)("span",{class:s});t.appendChild(a),e.elements=n.options.map((function(t){var u=f+n.signal+"-"+t,o={id:u,type:"radio",name:n.signal,value:t};b(t,i)&&(o.checked=!0);var s=Object(r.a)("input",o);return s.addEventListener("change",(function(){e.update(t)})),a.appendChild(s),a.appendChild(Object(r.a)("label",{for:u},t+"")),s})),e.set=function(t){for(var n=e.elements,r=0,i=n.length;r<i;++r)b(n[r].value,t)&&(n[r].checked=!0)}}function m(e,t,n,i){i=void 0!==i?i:(+n.max+ +n.min)/2;var u=null!=n.max?n.max:Math.max(100,+i)||100,o=n.min||Math.min(0,u,+i)||0,s=n.step||Object(a.c)(o,u,100),f=Object(r.a)("input",{type:"range",name:n.signal,min:o,max:u,step:s});f.value=i;var c=Object(r.a)("label",{},+i);function l(){c.textContent=f.value,e.update(+f.value)}t.appendChild(f),t.appendChild(c),f.addEventListener("input",l),f.addEventListener("change",l),e.elements=[f],e.set=function(e){f.value=e,c.textContent=e}}function b(e,t){return e===t||e+""==t+""}t.a=function(e,t,n){if(t){var a=n.param,s=n.state;return s||(s=n.state={elements:null,active:!1,set:null,update:function(t){t!==e.signal(a.signal)&&e.runAsync(null,(function(){s.source=!0,e.signal(a.signal,t)}))}},a.debounce&&(s.update=Object(i.m)(a.debounce,s.update))),function(e,t,n,i){var a=Object(r.a)("div",{class:u});a.appendChild(Object(r.a)("span",{class:o},n.name||n.signal)),t.appendChild(a);var s=c;switch(n.input){case"checkbox":s=l;break;case"select":s=d;break;case"radio":s=p;break;case"range":s=m}s(e,a,n,i)}(s,t,a,e.signal(a.signal)),s.active||(e.on(e._signals[a.signal],null,(function(){s.source?s.source=!1:s.set(e.signal(a.signal))})),s.active=!0),s}}},function(e,t,n){"use strict";var r=n(332),i=n(609);t.a=function(e,t,n,a){var u=new a(e.loader(),Object(i.a)(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,Object(r.b)(e),e);return t&&t.handlers().forEach((function(e){u.on(e.type,e.handler)})),u}},function(e,t,n){"use strict";var r=n(522),i=n(76),a=n(1);t.a=async function(e,t){e!==i.i.Canvas&&e!==i.i.SVG&&e!==i.i.PNG&&Object(a.n)("Unrecognized image type: "+e);const n=await Object(r.a)(this,e,t);return e===i.i.SVG?(u=n.svg(),o=new Blob([u],{type:"image/svg+xml"}),window.URL.createObjectURL(o)):n.canvas().toDataURL("image/png");var u,o}},function(e,t,n){"use strict";var r=n(522),i=n(76);t.a=async function(e,t){return(await Object(r.a)(this,i.i.Canvas,e,t)).canvas()}},function(e,t,n){"use strict";var r=n(522),i=n(76);t.a=async function(e){return(await Object(r.a)(this,i.i.SVG,e)).svg()}},function(e,t,n){"use strict";var r=n(12),i=n(239),a=n(507);t.a=function(e,t,n){var u=n||i.g;return Object(a.b)(t,Object(a.a)(e,r.s,u))}},function(e,t,n){"use strict";var r=n(76),i=n(1);t.a=function(e,t,n){if(!e)return[];const[a,u]=e,o=(new r.a).set(a[0],a[1],u[0],u[1]),s=n||this.context.dataflow.scenegraph().root;return Object(r.C)(s,o,function(e){let t=null;if(e){const n=Object(i.i)(e.marktype),r=Object(i.i)(e.markname);t=e=>(!n.length||n.some(t=>e.marktype===t))&&(!r.length||r.some(t=>e.name===t))}return t}(t))}},function(e,t,n){"use strict";var r=n(274),i=n(1);t.a=function(e,t){var n,a=null!=e.filter?Object(r.b)(e.filter,t):void 0,u=null!=e.stream?t.get(e.stream):void 0;e.source?u=t.events(e.source,e.type,a):e.merge&&(u=(n=e.merge.map(t.get.bind(t)))[0].merge.apply(n[0],n.slice(1))),e.between&&(n=e.between.map(t.get.bind(t)),u=u.between(n[0],n[1])),e.filter&&(u=u.filter(a)),null!=e.throttle&&(u=u.throttle(+e.throttle)),null!=e.debounce&&(u=u.debounce(+e.debounce)),null==u&&Object(i.n)("Invalid stream definition: "+JSON.stringify(e)),e.consume&&u.consume(!0),t.stream(e,u)}},function(e,t,n){"use strict";var r=n(274),i=n(789),a=n(1);t.a=function(e,t){var n=Object(a.F)(n=e.source)?n.$ref:n,u=t.get(n),o=null,s=e.update,f=void 0;u||Object(a.n)("Source not defined: "+e.source),o=e.target&&e.target.$expr?Object(r.b)(e.target.$expr,t):t.get(e.target),s&&s.$expr&&(s.$params&&(f=Object(i.a)(s.$params,t)),s=Object(r.c)(s.$expr,t)),t.update(e,u,o,s,f)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1);function i(e){var t=this._runtime.scales;return Object(r.v)(t,e)||Object(r.n)("Unrecognized scale or projection: "+e),t[e].value}},function(e,t,n){"use strict";var r=n(785);t.a=function(e,t){this._timers.push(Object(r.a)((function(t){e({timestamp:Date.now(),elapsed:t})}),t))}},function(e,t,n){"use strict";var r=n(1);function i(e){return"["+e.map(a).join(", ")+"]"}function a(e){return Object(r.A)(e)?"[…]":Object(r.F)(e)&&!Object(r.C)(e)?"{…}":e}t.a=function(e,t,n,u){var o=e.element();o&&o.setAttribute("title",function(e){return null==e?"":Object(r.A)(e)?i(e):Object(r.F)(e)&&!Object(r.C)(e)?(t=e,Object.keys(t).map((function(e){var n=t[e];return e+": "+(Object(r.A)(n)?i(n):a(n))})).join("\n")):e+"";var t}(u))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(1450),i=n(1451),a=n(447),u=n(399),o=n(64),s=n(112),f=n(68),c=n(29),l=n(323),d=n(54),p=n(1),m=Object(p.bb)(["width","height","padding","autosize"]);function b(e,t){var n,b,h,g,y,v,O=t.config;return t.background=e.background||O.background,t.eventConfig=O.events,y=Object(c.p)(t.root=t.add(Object(c.o)())),t.addSignal("width",e.width||0),t.addSignal("height",e.height||0),t.addSignal("padding",Object(i.a)(e.padding,O)),t.addSignal("autosize",Object(r.a)(e.autosize,O)),t.legends=t.objectProperty(O.legend&&O.legend.layout),v=function(e,t,n){if(Object(p.i)(t).forEach(t=>{m[t.name]||Object(a.a)(t,e)}),!n)return t;const r=Object(p.i)(t).slice();return Object(p.i)(n).forEach(t=>{e.hasOwnSignal(t.name)||(Object(a.a)(t,e),r.push(t))}),r}(t,e.signals,O.signals),b=t.add(Object(d.d)()),h=Object(o.e)({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e.encode),h=t.add(Object(d.g)(Object(o.d)(h,s.a,f.g,e.style,t,{pulse:Object(c.p)(b)}))),g=t.add(Object(d.B)({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:y,pulse:Object(c.p)(h)})),t.operators.pop(),t.pushState(Object(c.p)(h),Object(c.p)(g),null),Object(u.a)(e,t,v),t.operators.push(g),n=t.add(Object(d.c)({mark:y,pulse:Object(c.p)(g)})),n=t.add(Object(d.w)({pulse:Object(c.p)(n)})),n=t.add(Object(d.y)({pulse:Object(c.p)(n)})),t.addData("root",new l.a(t,b,b,n)),t}},function(e,t,n){"use strict";var r=n(1);t.a=function(e,t){return e=e||t.autosize,Object(r.F)(e)?e:{type:e||"pad"}}},function(e,t,n){"use strict";var r=n(1);function i(e){return+e||0}t.a=function(e,t){return e=e||t.padding,Object(r.F)(e)?{top:i(e.top),bottom:i(e.bottom),left:i(e.left),right:i(e.right)}:{top:n=i(e),bottom:n,left:n,right:n};var n}},function(e,t,n){"use strict";var r=n(184),i=n(747),a=n(29),u=n(275),o=n(1),s="var datum=event.item&&event.item.datum;";function f(e){return{signal:"["+e.map(e=>e.scale?'scale("'+e.scale+'")':e.signal)+"]"}}t.a=function(e,t,n){var c=e.events,l=e.update,d=e.encode,p=[],m={target:n};c||Object(o.n)("Signal update missing events specification."),Object(o.H)(c)&&(c=Object(u.a)(c,t.isSubscope()?a.c:a.d)),c=Object(o.i)(c).filter(e=>e.signal||e.scale?(p.push(e),0):1),p.length>1&&(p=[f(p)]),c.length&&p.push(c.length>1?{merge:c}:c[0]),null!=d&&(l&&Object(o.n)("Signal encode and update are mutually exclusive."),l="encode(item(),"+Object(o.X)(d)+")"),m.update=Object(o.H)(l)?Object(r.a)(l,t,s):null!=l.expr?Object(r.a)(l.expr,t,s):null!=l.value?l.value:null!=l.signal?{$expr:"_.value",$params:{value:t.signalRef(l.signal)}}:Object(o.n)("Invalid signal update specification."),e.force&&(m.options={force:!0}),p.forEach((function(e){t.addUpdate(Object(o.o)(function(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):Object(i.a)(e,t)}}(e,t),m))}))}},function(e,t,n){"use strict";var r=n(1);function i(e,t,n){return Object(r.A)(e)?e.map((function(e){return i(e,t,n)})):Object(r.F)(e)?e.signal?n.signalRef(e.signal):"fit"===t?e:Object(r.n)("Unsupported parameter object: "+Object(r.X)(e)):e}t.a=function(e,t){var n={};for(var r in e)"name"!==r&&(n[r]=i(e[r],r,t));t.addProjection(e.name,n)}},function(e,t,n){"use strict";var r=n(26),i=n(1455),a=n(1461),u=n(1028),o=n(1029),s=n(1462),f=n(453),c=n(96),l=n(184),d=n(401),p=n(68),m=n(64),b=n(29),h=n(54),g=n(42),y=n(1);function v(e,t,n){return t[e]?`scale("${t[e]}",datum)`:Object(c.c)(e,n[0].encode)}t.a=function(e,t){var n,O,j,$,x,k,A,w,_,F=t.config.legend,D=e.encode||{},S=D.legend||{},C=S.name||void 0,E=S.interactive,q=S.style,M=Object(c.e)(e,F),z=r.l.reduce((function(t,n){return t||e[n]}),0);return z||Object(y.n)("Missing valid scale for legend."),x=function(e,t){var n=e.type||r.u;e.type||1!==function(e){return r.l.reduce((function(t,n){return t+(e[n]?1:0)}),0)}(e)||!e.fill&&!e.stroke||(n=Object(g.u)(t)?r.e:Object(g.w)(t)?r.c:r.u);return n!==r.e?n:Object(g.w)(t)?r.c:r.e}(e,t.scaleType(z)),k={title:null!=e.title,type:x,vgrad:"symbol"!==x&&M.isVertical()},A=Object(b.p)(t.add(Object(h.d)(null,[k]))),S=Object(m.e)(function(e,t){var n={enter:{},update:{}};return Object(m.b)(n,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:t.strokeWidth,strokeDash:t.strokeDash,x:e("legendX"),y:e("legendY")}),n}(M,F),S,r.s),n={enter:{x:{value:0},y:{value:0}}},w=Object(b.p)(t.add(Object(h.l)(j={type:x,scale:t.scaleRef(z),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),x===r.e?($=[Object(i.a)(e,z,F,D.gradient),Object(u.a)(e,F,D.labels,w)],j.count=j.count||t.signalRef(`max(2,2*floor((${Object(b.g)(M.gradientLength())})/100))`)):x===r.c?$=[Object(a.a)(e,z,F,D.gradient,w),Object(u.a)(e,F,D.labels,w)]:(O=Object(o.b)(e,F),$=[Object(o.a)(e,F,D,w,Object(b.g)(O.columns))],j.size=function(e,t,n){var i=Object(b.g)(v("size",e,n)),a=Object(b.g)(v("strokeWidth",e,n)),u=Object(b.g)(function(e,t,n){return Object(c.c)("fontSize",e)||Object(c.d)("fontSize",t,n)}(n[1].encode,t,r.g));return Object(l.a)(`max(ceil(sqrt(${i})+${a}),${u})`,t)}(e,t,$[0].marks)),$=[Object(f.a)(p.i,null,null,A,E,n,$,O)],k.title&&$.push(Object(s.a)(e,F,D.title,A)),_=Object(f.a)(p.l,q,C,A,E,S,$),e.zindex&&(_.zindex=e.zindex),Object(d.a)(_,t)}},function(e,t,n){"use strict";var r=n(26),i=n(146),a=n(96),u=n(112),o=n(68),s=n(64),f=n(1);t.a=function(e,t,n,c){var l,d,p,m,b,h,g=Object(a.e)(e,n),y=g.isVertical(),v=g.gradientThickness(),O=g.gradientLength();return y?(p=[0,1],m=[0,0],b=v,h=O):(p=[0,0],m=[1,0],b=O,h=v),l={enter:d={opacity:r.z,x:r.z,y:r.z,width:Object(s.c)(b),height:Object(s.c)(h)},update:Object(f.o)({},d,{opacity:r.y,fill:{gradient:t,start:p,stop:m}}),exit:{opacity:r.z}},Object(s.b)(l,{stroke:g("gradientStrokeColor"),strokeWidth:g("gradientStrokeWidth")},{opacity:g("gradientOpacity")}),Object(i.a)(u.b,o.j,null,void 0,void 0,l,c)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1457),i=n(333),a=n(1460),u=n(792),o=n(1);function s(e,t,n,s){var f,c,l,d={},p="var o=item,datum=o.datum,m=0,$;";for(f in e)c=e[f],Object(o.A)(c)?p+=Object(a.a)(f,c,s,n,d):(l=Object(i.a)(f,c,s,n,d),p+=Object(u.a)("o",f,l));return p+=Object(r.a)(e,t),{$expr:p+="return m;",$fields:Object.keys(d),$output:Object.keys(e)}}},function(e,t,n){"use strict";var r=n(1),i=Object(r.bb)(["rule"]),a=Object(r.bb)(["group","image","rect"]);t.a=function(e,t){var n="";return i[t]?n:(e.x2&&(e.x?(a[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(a[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;"),n)}},function(e,t,n){"use strict";var r=n(333);t.a=function(e,t,n,i){function a(e,a,u,o){return"this."+e+"("+[Object(r.a)(null,a,t,n,i),Object(r.a)(null,u,t,n,i),Object(r.a)(null,o,t,n,i)].join(",")+").toString()"}return e.c?a("hcl",e.h,e.c,e.l):e.h||e.s?a("hsl",e.h,e.s,e.l):e.l||e.a?a("lab",e.l,e.a,e.b):e.r||e.g||e.b?a("rgb",e.r,e.g,e.b):null}},function(e,t,n){"use strict";var r=n(791),i=n(1);t.a=function(e,t,n,a){return"this.gradient("+Object(r.b)(e.gradient,t,n,a)+","+Object(i.X)(e.start)+","+Object(i.X)(e.stop)+","+Object(i.X)(e.count)+")"}},function(e,t,n){"use strict";var r=n(333),i=n(792),a=n(400),u=n(1);t.a=function(e,t,n,o,s){var f="";return t.forEach((function(t){var i=Object(r.a)(e,t,n,o,s);f+=t.test?Object(a.a)(t.test,n,o,s)+"?"+i+":":i})),":"===Object(u.S)(f)&&(f+="null"),Object(i.a)("o",e,f)}},function(e,t,n){"use strict";var r=n(26),i=n(146),a=n(96),u=n(112),o=n(68),s=n(64),f=n(1);t.a=function(e,t,n,c,l){var d,p,m,b,h,g,y=Object(a.e)(e,n),v=y.isVertical(),O=y.gradientThickness(),j=y.gradientLength(),$="";return v?(m="y",h="y2",b="x",g="width",$="1-"):(m="x",h="x2",b="y",g="height"),(p={opacity:r.z,fill:{scale:t,field:r.w}})[m]={signal:$+"datum."+r.o,mult:j},p[b]=r.z,p[h]={signal:$+"datum."+r.p,mult:j},p[g]=Object(s.c)(O),d={enter:p,update:Object(f.o)({},p,{opacity:r.y}),exit:{opacity:r.z}},Object(s.b)(d,{stroke:y("gradientStrokeColor"),strokeWidth:y("gradientStrokeWidth")},{opacity:y("gradientOpacity")}),Object(i.a)(u.b,o.h,null,r.w,l,d,c)}},function(e,t,n){"use strict";var r=n(26),i=n(146),a=n(96),u=n(112),o=n(68),s=n(64);const f='item.orient === "left"',c='item.orient === "right"',l=`(${f} || ${c})`,d=`datum.vgrad && ${l}`,p=Object(a.b)('"top"','"bottom"','"middle"'),m=`datum.vgrad && ${c} ? (${Object(a.b)('"right"','"left"','"center"')}) : (${l} && !(datum.vgrad && ${f})) ? "left" : ${a.a}`,b=`item._anchor || (${l} ? "middle" : "start")`,h=`${d} ? (${f} ? -90 : 90) : 0`,g=`${l} ? (datum.vgrad ? (${c} ? "bottom" : "top") : ${p}) : "top"`;t.a=function(e,t,n,f){var c,l=Object(a.e)(e,t);return c={enter:{opacity:r.z},update:{opacity:r.y,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:r.z}},Object(s.b)(c,{orient:l("titleOrient"),_anchor:l("titleAnchor"),anchor:{signal:b},angle:{signal:h},align:{signal:m},baseline:{signal:g},text:e.title,fill:l("titleColor"),fillOpacity:l("titleOpacity"),font:l("titleFont"),fontSize:l("titleFontSize"),fontStyle:l("titleFontStyle"),fontWeight:l("titleFontWeight"),limit:l("titleLimit")},{align:l("titleAlign"),baseline:l("titleBaseline")}),Object(i.a)(u.e,o.n,r.h,null,f,c,n)}},function(e,t,n){"use strict";var r=n(1);function i(e){return Object(r.F)(e)&&e.signal?e.signal:Object(r.X)(e)}t.a=function(e,t){var n;return Object(r.F)(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+i(e.path)+")":e.sphere&&(n="geoShape("+i(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}},function(e,t,n){"use strict";var r=n(793);t.a=function(e){return{marktype:e.type,name:e.name||void 0,role:e.role||Object(r.a)(e),zindex:+e.zindex||void 0}}},function(e,t,n){"use strict";t.a=function(e,t){return e&&e.signal?t.signalRef(e.signal):!1!==e}},function(e,t,n){"use strict";var r=n(794),i=n(399),a=n(323),u=n(29),o=n(54),s=n(1);t.a=function(e,t,n){var f,c,l,d,p=e.from.facet,m=p.name,b=Object(r.b)(p,t);p.name||Object(s.n)("Facet must have a name: "+Object(s.X)(p)),p.data||Object(s.n)("Facet must reference a data set: "+Object(s.X)(p)),p.field?d=t.add(Object(o.s)({field:t.fieldRef(p.field),pulse:b})):p.groupby?d=t.add(Object(o.i)({key:t.keyRef(p.groupby),group:Object(u.p)(t.proxy(n.parent)),pulse:b})):Object(s.n)("Facet must specify groupby or field: "+Object(s.X)(p)),c=(f=t.fork()).add(Object(o.d)()),l=f.add(Object(o.y)({pulse:Object(u.p)(c)})),f.addData(m,new a.a(f,c,c,l)),f.addSignal("parent",null),d.params.subflow={$subflow:Object(i.a)(e,f).toRuntime()}}},function(e,t,n){"use strict";var r=n(399),i=n(54);t.a=function(e,t,n){var a=t.add(Object(i.s)({pulse:n.pulse})),u=t.fork();u.add(Object(i.y)()),u.addSignal("parent",null),a.params.subflow={$subflow:Object(r.a)(e,u).toRuntime()}}},function(e,t,n){"use strict";var r=n(26),i=n(146),a=n(96),u=n(401),o=n(112),s=n(68),f=n(64),c=n(29),l=n(54),d=n(1);const p=`item.orient==="${r.k}"?-90:item.orient==="${r.q}"?90:0`,m=`item.orient==="${r.a}"?"${r.v}":"${r.a}"`;t.a=function(e,t){e=Object(d.H)(e)?{text:e}:e;var n,b,h=t.config.title,g=Object(d.o)({},e.encode);return n=Object(c.p)(t.add(Object(l.d)(null,[{}]))),g.name=e.name,g.interactive=e.interactive,b=function(e,t,n,u){var c,l=Object(a.e)(e,t),d={value:0},b=e.text;return c={enter:{opacity:d},update:{opacity:{value:1}},exit:{opacity:d}},Object(f.b)(c,{text:b,orient:l("orient"),anchor:l("anchor"),align:{signal:a.a},angle:{signal:p},baseline:{signal:m},dx:l("dx"),dy:l("dy"),fill:l("color"),font:l("font"),fontSize:l("fontSize"),fontStyle:l("fontStyle"),fontWeight:l("fontWeight"),frame:l("frame"),limit:l("limit"),offset:l("offset")||0},{align:l("align"),angle:l("angle"),baseline:l("baseline")}),Object(i.a)(o.e,s.q,e.style||r.f,null,u,c,n)}(e,h,g,n),e.zindex&&(b.zindex=e.zindex),Object(u.a)(b,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(524),i=n(795),a=n(29),u=n(54),o=n(1);function s(e,t){var n=[];e.transform&&e.transform.forEach((function(e){n.push(Object(r.a)(e,t))})),e.on&&e.on.forEach((function(n){Object(i.a)(n,t,e.name)})),t.addDataPipeline(e.name,function(e,t,n){var r,i,s,l,d,p=[],m=null,b=!1,h=!1;e.values?Object(a.j)(e.values)||Object(a.j)(e.format)?(p.push(c(t,e)),p.push(m=f())):p.push(m=f({$ingest:e.values,$format:e.format})):e.url?Object(a.j)(e.url)||Object(a.j)(e.format)?(p.push(c(t,e)),p.push(m=f())):p.push(m=f({$request:e.url,$format:e.format})):e.source&&(m=r=Object(o.i)(e.source).map((function(e){return Object(a.p)(t.getData(e).output)})),p.push(null));for(i=0,s=n.length;i<s;++i)l=n[i],d=l.metadata,m||d.source||p.push(m=f()),p.push(l),d.generates&&(h=!0),d.modifies&&!h&&(b=!0),d.source?m=l:d.changes&&(m=null);r&&(s=r.length-1,p[0]=Object(u.v)({derive:b,pulse:s?r:r[0]}),(b||s)&&p.splice(1,0,f()));m||p.push(f());return p.push(Object(u.y)({})),p}(e,t,n))}function f(e){var t=Object(u.d)({},e);return t.metadata={source:!0},t}function c(e,t){return Object(u.m)({url:t.url?e.property(t.url):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}},function(e,t,n){"use strict";var r=n(1471),i=n(1472),a=n(1473),u=n(1474),o=n(1475),s=n(1476),f=n(453),c=n(96),l=n(68),d=n(401),p=n(64),m=n(26),b=n(29),h=n(54);t.a=function(e,t){var n,g,y,v,O,j,$=Object(r.a)(e,t),x=e.encode||{},k=x.axis||{},A=k.name||void 0,w=k.interactive,_=k.style,F=Object(c.e)(e,$);return n={orient:e.orient,ticks:!!F("ticks"),labels:!!F("labels"),grid:!!F("grid"),domain:!!F("domain"),title:null!=e.title},g=Object(b.p)(t.add(Object(h.d)({},[n]))),k=Object(p.e)({update:{offset:Object(p.c)(F("offset")||0),position:Object(p.c)(Object(b.r)(e.position,0)),titlePadding:Object(p.c)(F("titlePadding")),minExtent:Object(p.c)(F("minExtent")),maxExtent:Object(p.c)(F("maxExtent")),range:{signal:`abs(span(range("${e.scale}")))`}}},x.axis,m.s),y=Object(b.p)(t.add(Object(h.b)({scale:t.scaleRef(e.scale),extra:t.property(F("tickExtra")),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),j=[],n.grid&&j.push(Object(a.a)(e,$,x.grid,y)),n.ticks&&(v=F("tickSize"),j.push(Object(u.a)(e,$,x.ticks,y,v))),n.labels&&(v=n.ticks?v:0,j.push(Object(o.a)(e,$,x.labels,y,v))),n.domain&&j.push(Object(i.a)(e,$,x.domain,g)),n.title&&j.push(Object(s.a)(e,$,x.title,g)),O=Object(f.a)(l.d,_,A,g,w,k,j),e.zindex&&(O.zindex=e.zindex),Object(d.a)(O,t)}},function(e,t,n){"use strict";var r=n(26),i=n(1);t.a=function(e,t){var n=t.config,a=e.orient,u=a===r.v||a===r.a?n.axisX:n.axisY,o=n["axis"+a[0].toUpperCase()+a.slice(1)],s="band"===t.scaleType(e.scale)&&n.axisBand;return u||o||s?Object(i.o)({},n.axis,u,o,s):n.axis}},function(e,t,n){"use strict";var r=n(26),i=n(146),a=n(96),u=n(112),o=n(68),s=n(64);function f(e,t){return{scale:e.scale,range:t}}t.a=function(e,t,n,c){var l,d,p,m,b,h,g=Object(a.e)(e,t),y=e.orient;return l={enter:d={opacity:r.z},update:p={opacity:r.y},exit:{opacity:r.z}},Object(s.b)(l,{stroke:g("domainColor"),strokeDash:g("domainDash"),strokeDashOffset:g("domainDashOffset"),strokeWidth:g("domainWidth"),strokeOpacity:g("domainOpacity")}),y===r.v||y===r.a?(m="x",h="y"):(m="y",h="x"),b=m+"2",d[h]=r.z,p[m]=d[m]=f(e,0),p[b]=d[b]=f(e,1),Object(i.a)(u.c,o.a,null,null,c,l,n)}},function(e,t,n){"use strict";var r=n(26),i=n(146),a=n(96),u=n(112),o=n(68),s=n(64),f=n(1);t.a=function(e,t,n,c){var l,d,p,m,b,h,g,y,v,O=Object(a.e)(e,t),j=e.orient,$=e.gridScale,x=j===r.k||j===r.v?1:-1,k=function(e,t){if(1===t);else if(Object(f.F)(e)){for(var n=e=Object(f.o)({},e);null!=n.mult;){if(!Object(f.F)(n.mult))return n.mult*=t,e;n=n.mult=Object(f.o)({},n.mult)}n.mult=t}else e=t*(e||0);return e}(e.offset,x);return l={enter:d={opacity:r.z},update:m={opacity:r.y},exit:p={opacity:r.z}},Object(s.b)(l,{stroke:O("gridColor"),strokeDash:O("gridDash"),strokeDashOffset:O("gridDashOffset"),strokeOpacity:O("gridOpacity"),strokeWidth:O("gridWidth")}),b={scale:e.scale,field:r.w,band:O("bandPosition"),round:O("tickRound"),extra:O("tickExtra"),offset:O("tickOffset")},j===r.v||j===r.a?(h="x",g="y",v="height"):(h="y",g="x",v="width"),y=g+"2",m[h]=d[h]=p[h]=b,$?(m[g]=d[g]={scale:$,range:0,mult:x,offset:k},m[y]=d[y]={scale:$,range:1,mult:x,offset:k}):(m[g]=d[g]={value:0,offset:k},m[y]=d[y]={signal:v,mult:x,offset:k}),Object(i.a)(u.c,o.b,null,r.w,c,l,n)}},function(e,t,n){"use strict";var r=n(26),i=n(146),a=n(96),u=n(112),o=n(68),s=n(64);t.a=function(e,t,n,f,c){var l,d,p,m,b,h,g=Object(a.e)(e,t),y=e.orient,v=y===r.k||y===r.v?-1:1;return l={enter:d={opacity:r.z},update:m={opacity:r.y},exit:p={opacity:r.z}},Object(s.b)(l,{stroke:g("tickColor"),strokeDash:g("tickDash"),strokeDashOffset:g("tickDashOffset"),strokeOpacity:g("tickOpacity"),strokeWidth:g("tickWidth")}),(b=Object(s.c)(c)).mult=v,h={scale:e.scale,field:r.w,band:g("bandPosition"),round:g("tickRound"),extra:g("tickExtra"),offset:g("tickOffset")},y===r.v||y===r.a?(m.y=d.y=r.z,m.y2=d.y2=b,m.x=d.x=p.x=h):(m.x=d.x=r.z,m.x2=d.x2=b,m.y=d.y=p.y=h),Object(i.a)(u.c,o.e,null,r.w,f,l,n)}},function(e,t,n){"use strict";var r=n(26),i=n(146),a=n(96),u=n(112),o=n(68),s=n(64),f=n(29);function c(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}t.a=function(e,t,n,l,d){var p,m,b,h,g,y,v,O,j,$,x=Object(a.e)(e,t),k=e.orient,A=k===r.k||k===r.v?-1:1,w=k===r.v||k===r.a,_=e.scale,F=Object(f.g)(x("labelFlush")),D=Object(f.g)(x("labelFlushOffset")),S=0===F||!!F,C=x("labelAlign"),E=x("labelBaseline");return(b=Object(s.c)(d)).mult=A,b.offset=Object(s.c)(x("labelPadding")||0),b.offset.mult=A,h={scale:_,field:r.w,band:.5,offset:x("tickOffset")},w?(g=C||(S?c(_,F,'"left"','"right"','"center"'):"center"),y=E||(k===r.v?"bottom":"top"),v=!C):(g=C||(k===r.q?"left":"right"),y=E||(S?c(_,F,'"top"','"bottom"','"middle"'):"middle"),v=!E),v=v&&S&&D?c(_,F,"-("+D+")",D,0):null,p={enter:m={opacity:r.z,x:w?h:b,y:w?b:h},update:{opacity:r.y,text:{field:r.j},x:m.x,y:m.y},exit:{opacity:r.z,x:m.x,y:m.y}},Object(s.b)(p,{[w?"dx":"dy"]:v,align:g,baseline:y,angle:x("labelAngle"),fill:x("labelColor"),fillOpacity:x("labelOpacity"),font:x("labelFont"),fontSize:x("labelFontSize"),fontWeight:x("labelFontWeight"),fontStyle:x("labelFontStyle"),limit:x("labelLimit")}),O=x("labelBound"),j=x("labelOverlap"),$=x("labelSeparation"),e=Object(i.a)(u.e,o.c,r.g,r.w,l,p,n),(j||O)&&(e.overlap={separation:$,method:j,order:"datum.index",bound:O?{scale:_,orient:k,tolerance:O}:null}),e}},function(e,t,n){"use strict";var r=n(26),i=n(146),a=n(96),u=n(64),o=n(112),s=n(68),f=n(1);t.a=function(e,t,n,c){var l,d,p,m,b=Object(a.e)(e,t),h=e.orient,g=h===r.k||h===r.v?-1:1,y=h===r.v||h===r.a;return l={enter:d={opacity:r.z,anchor:Object(u.c)(b("titleAnchor")),align:{signal:a.a}},update:p=Object(f.o)({},d,{opacity:r.y,text:Object(u.c)(e.title)}),exit:{opacity:r.z}},m={signal:`lerp(range("${e.scale}"), ${Object(a.b)(0,1,.5)})`},y?(p.x=m,d.angle={value:0},d.baseline={value:h===r.v?"bottom":"top"}):(p.y=m,d.angle={value:90*g},d.baseline={value:"bottom"}),Object(u.b)(l,{angle:b("titleAngle"),baseline:b("titleBaseline"),fill:b("titleColor"),fillOpacity:b("titleOpacity"),font:b("titleFont"),fontSize:b("titleFontSize"),fontStyle:b("titleFontStyle"),fontWeight:b("titleFontWeight"),limit:b("titleLimit")},{align:b("titleAlign")}),!Object(u.a)(l,"x",b("titleX"),"update")&&!y&&!Object(u.f)("x",n)&&(l.enter.auto={value:!0}),!Object(u.a)(l,"y",b("titleY"),"update")&&y&&!Object(u.f)("y",n)&&(l.enter.auto={value:!0}),Object(i.a)(o.e,s.f,r.h,null,c,l,n)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e){e.exports=JSON.parse('{"name":"vega-tooltip","version":"0.19.1","description":"A tooltip plugin for Vega-Lite and Vega visualizations.","main":"build/vega-tooltip.js","module":"build/src/index.js","unpkg":"build/vega-tooltip.min.js","jsdelivr":"build/vega-tooltip.min.js","typings":"build/src/index.d.ts","repository":{"type":"git","url":"https://github.com/vega/vega-tooltip.git"},"keywords":["vega-lite","vega","tooltip"],"author":{"name":"UW Interactive Data Lab","url":"https://idl.cs.washington.edu"},"collaborators":["Dominik Moritz","Sira Horradarn","Zening Qu","Kanit Wongsuphasawat","Yuri Astrakhan","Jeffrey Heer"],"license":"BSD-3-Clause","bugs":{"url":"https://github.com/vega/vega-tooltip/issues"},"homepage":"https://github.com/vega/vega-tooltip#readme","scripts":{"prepare":"beemo create-config --silent","tsc:src":"tsc -b tsconfig.src.json","build":"yarn tsc:src && rollup -c","clean":"rm -rf build examples/data && rm -f src/style.ts","copy:data":"rsync -r node_modules/vega-datasets/data/* examples/data","copy:build":"rsync -r build/* examples/build","deploy:gh":"yarn build && yarn copy:build && gh-pages -d examples && yarn clean","prettierbase":"beemo prettier \'examples/*.{html,scss,css}\'","eslintbase":"beemo eslint \'{src,test,types}/**/*.ts\'","format":"yarn eslintbase --fix && yarn prettierbase --write","lint":"yarn eslintbase && yarn prettierbase --check","postbuild":"terser build/vega-tooltip.js -c -m -o build/vega-tooltip.min.js","prebuild":"mkdir -p build && yarn copy:data && ./build-style.sh","prepublishOnly":"yarn clean && yarn build","preversion":"yarn lint","start":"yarn build && concurrently --kill-others -n Server,Typescript,Rollup \'browser-sync start -s -f build examples --serveStatic examples\' \'yarn tsc:src -w\' \'rollup -c -w\'","pretest":"./build-style.sh","test":"jest"},"devDependencies":{"@types/jest":"^24.0.18","browser-sync":"^2.26.7","concurrently":"^4.1.2","gh-pages":"^2.1.1","jest":"^24.9.0","node-sass":"^4.12.0","path":"^0.12.7","rollup":"^1.20.3","rollup-plugin-commonjs":"^10.1.0","rollup-plugin-json":"^4.0.0","rollup-plugin-node-resolve":"^5.2.0","terser":"^4.2.1","ts-jest":"^24.0.2","typescript":"^3.6.2","vega-datasets":"^1.25.0","vega-lite-dev-config":"^0.2.5","vega-typings":"^0.8.1"},"dependencies":{"vega-util":"^1.11.1"},"beemo":{"module":"vega-lite-dev-config","drivers":["prettier","eslint"]},"jest":{"testURL":"http://localhost/","transform":{"^.+\\\\.tsx?$":"ts-jest"},"testRegex":"(/__tests__/.*|(\\\\.|/)(test|spec))\\\\.(jsx?|tsx?)$","moduleFileExtensions":["ts","tsx","js","jsx","json","node"],"testPathIgnorePatterns":["node_modules","<rootDir>/build","src"]}}')},function(e,t,n){"use strict";t.a="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n"},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t[0],version:t[1]}}},,,function(e){e.exports=JSON.parse('{"name":"vega-themes","version":"2.4.0","description":"Themes for stylized Vega and Vega-Lite visualizations.","keywords":["vega","vega-lite","themes","style"],"license":"BSD-3-Clause","author":{"name":"UW Interactive Data Lab","url":"https://idl.cs.washington.edu"},"contributors":[{"name":"Emily Gu","url":"https://github.com/emilygu"},{"name":"Arvind Satyanarayan","url":"http://arvindsatya.com"},{"name":"Jeffrey Heer","url":"http://idl.cs.washington.edu"},{"name":"Dominik Moritz","url":"https://www.domoritz.de"}],"main":"build/vega-themes.js","module":"build/src/index.js","unpkg":"build/vega-themes.min.js","jsdelivr":"build/vega-themes.min.js","typings":"build/src/index.d.ts","repository":{"type":"git","url":"https://github.com/vega/vega-themes.git"},"scripts":{"prepare":"beemo create-config --silent","clean":"rm -rf build examples/build","prettierbase":"beemo prettier \'examples/*.{html,scss,css}\'","eslintbase":"beemo eslint \'src/**/*.ts\'","format":"yarn eslintbase --fix && yarn prettierbase --write","lint":"yarn eslintbase && yarn prettierbase --check","prebuild":"mkdir -p build","build":"tsc && rollup -c","postbuild":"terser build/vega-themes.js -cm > build/vega-themes.min.js","deploy:gh":"yarn build && mkdir -p examples/build && rsync -r build/* examples/build && gh-pages -d examples","prepublishOnly":"yarn clean && yarn build","preversion":"yarn lint","serve":"browser-sync start -s -f build examples --serveStatic examples","start":"yarn build && concurrently --kill-others -n Server,Typescript,Rollup \'yarn serve\' \'tsc -w\' \'rollup -c -w\'"},"devDependencies":{"browser-sync":"^2.26.7","concurrently":"^4.1.2","gh-pages":"^2.1.1","rollup":"^1.20.3","rollup-plugin-json":"^4.0.0","terser":"^4.2.1","typescript":"~3.5.3","vega":"^5.5.2","vega-lite":"^4.0.0-beta.1","vega-lite-dev-config":"^0.2.5"},"peerDependencies":{"vega":"*","vega-lite":"*"},"beemo":{"module":"vega-lite-dev-config","drivers":["prettier","eslint"]}}')},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e){e.exports=JSON.parse('{"Bar Charts":[{"name":"bar-chart"},{"name":"stacked-bar-chart"},{"name":"grouped-bar-chart"},{"name":"nested-bar-chart"},{"name":"population-pyramid"}],"Line & Area Charts":[{"name":"line-chart"},{"name":"area-chart"},{"name":"stacked-area-chart"},{"name":"horizon-graph"},{"name":"job-voyager"}],"Circular Charts":[{"name":"pie-chart"},{"name":"donut-chart"},{"name":"radial-plot"}],"Dot & Scatter Plots":[{"name":"scatter-plot"},{"name":"scatter-plot-null-values"},{"name":"connected-scatter-plot"},{"name":"error-bars"},{"name":"barley-trellis-plot"}],"Distributions":[{"name":"histogram"},{"name":"histogram-null-values"},{"name":"probability-density"},{"name":"box-plot"},{"name":"violin-plot"},{"name":"top-k-plot"},{"name":"top-k-plot-with-others"},{"name":"binned-scatter-plot"},{"name":"contour-plot"},{"name":"wheat-plot"},{"name":"hypothetical-outcome-plots"},{"name":"regression"},{"name":"loess-regression"}],"Geographic Maps":[{"name":"county-unemployment"},{"name":"dorling-cartogram"},{"name":"world-map"},{"name":"earthquakes"},{"name":"projections"},{"name":"zoomable-world-map"},{"name":"distortion-comparison"},{"name":"volcano-contours"},{"name":"wind-vectors"}],"Tree Diagrams":[{"name":"tree-layout"},{"name":"radial-tree-layout"},{"name":"treemap"},{"name":"circle-packing"},{"name":"sunburst"}],"Network Diagrams":[{"name":"edge-bundling"},{"name":"force-directed-layout"},{"name":"reorderable-matrix"},{"name":"arc-diagram"},{"name":"airport-connections"}],"Other Chart Types":[{"name":"heatmap"},{"name":"parallel-coordinates"},{"name":"word-cloud"},{"name":"timelines"},{"name":"beeswarm-plot"}],"Custom Visual Designs":[{"name":"budget-forecasts"},{"name":"wheat-and-wages"},{"name":"falkensee-population"},{"name":"annual-temperature"},{"name":"weekly-temperature"},{"name":"u-district-cuisine"}],"Interaction Techniques":[{"name":"crossfilter-flights"},{"name":"overview-plus-detail"},{"name":"brushing-scatter-plots"},{"name":"zoomable-scatter-plot"},{"name":"global-development"},{"name":"interactive-legend"},{"name":"stock-index-chart"},{"name":"pi-monte-carlo"}]}')}]]);
//# sourceMappingURL=vega.js.map