(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1058:function(e,t,n){"use strict";function i(e){if("object"==typeof e&&null!==e){e.description&&(e.markdownDescription=e.description);for(const t in e)e.hasOwnProperty(t)&&(e[t]=i(e[t]))}return e}n.d(t,"a",(function(){return i}))},1061:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var i=n(1715);const a=new(n.n(i).a)({allErrors:!1,jsonPointers:!0,schemaId:"auto"});a.addMetaSchema(n(2005)),a.addFormat("color-hex",()=>!0);const r=a.compile(n(1292)),o=a.compile(n(1291));function s(e,t){if(!o(e))for(const e of o.errors)t.warn(`Validation: ${e.dataPath} ${e.message}`)}function l(e,t){if(!r(e))for(const e of r.errors)t.warn(`Validation: ${e.dataPath} ${e.message}`)}},119:function(e,t,n){"use strict";var i;n.d(t,"f",(function(){return i})),n.d(t,"h",(function(){return a})),n.d(t,"g",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"j",(function(){return s})),n.d(t,"m",(function(){return l})),n.d(t,"l",(function(){return c})),n.d(t,"i",(function(){return p})),n.d(t,"k",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return g})),n.d(t,"n",(function(){return h})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return b})),function(e){e.Vega="vega",e.VegaLite="vega-lite"}(i||(i={}));const a={vega:i.Vega,"vega-lite":i.VegaLite},r={[i.Vega]:"Vega",[i.VegaLite]:"Vega-Lite"},o={DebugPaneSize:200,HeaderHeight:60,MinPaneSize:30},s={[i.Vega]:"https://vega.github.io/schema/vega/v5.json",[i.VegaLite]:"https://vega.github.io/schema/vega-lite/v4.json"},l=`{\n  "$schema": "${s.vega}"\n}`,c=`{\n  "$schema": "${s["vega-lite"]}"\n}`,p={DataViewer:"DataViewer",Logs:"Logs",SignalViewer:"SignalViewer"},d={Config:"Config",Editor:"Editor"},u={CompiledEditor:"compiled-editor",SpecEditor:"spec-editor"},g={B:66,ESCAPE:27,S:83,SINGLE_QUOTE:222,SLASH:191},h="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?",m="https://vega.now.sh/",b="vega_session"},1293:function(e,t,n){var i=n(1912);"string"==typeof i&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1};n(41)(i,a);i.locals&&(e.exports=i.locals)},1513:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n(164),a=n.n(i),r=n(510),o=n(5),s=n(1058);const l=n(1291),c=n(1292);Object(s.a)(c),Object(s.a)(l);const p=[{schema:c,uri:"https://vega.github.io/schema/vega/v5.json"},{schema:l,uri:"https://vega.github.io/schema/vega-lite/v4.json"},{schema:Object(o.s)({},l,{$ref:"#/definitions/Config",definitions:{Config:{properties:{$schema:{type:"string"}}}}}),uri:"https://vega.github.io/schema/vega-lite/v4.json#Config"},{schema:{$schema:"http://json-schema.org/draft-06/schema#",type:"object"},uri:"https://vega.github.io/schema/vega/v5.json#Config"}];function d(){r.languages.json.jsonDefaults.setDiagnosticsOptions({allowComments:!1,enableSchemaRequest:!0,schemas:p,validate:!0}),r.languages.registerDocumentFormattingEditProvider("json",{provideDocumentFormattingEdits:(e,t,n)=>[{range:e.getFullModelRange(),text:a()(JSON.parse(e.getValue()))}]})}},1644:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(4),a=n(121),r=n(344),o=n(1710);class s extends i.PureComponent{componentDidUpdate(){this.props.logPageView()}render(){return i.createElement("div",null,i.createElement(a.c,null,i.createElement(a.a,{path:"/",exact:!0,component:r.a}),i.createElement(a.a,{path:"/reset",component:()=>i.createElement(o.a,null)}),i.createElement(a.a,{path:"/edited",component:r.a}),i.createElement(a.a,{exact:!0,path:"/gist/:id/:filename",component:r.a}),i.createElement(a.a,{path:"/gist/:id/:revision/:filename",component:r.a}),i.createElement(a.a,{path:"/examples/:mode/:example_name",component:r.a}),i.createElement(a.a,{path:"/examples/:mode",component:()=>i.createElement(r.a,{showExample:!0})}),i.createElement(a.a,{path:"/examples",component:()=>i.createElement(r.a,{showExample:!0})}),i.createElement(a.a,{path:"/custom/:mode",component:r.a}),i.createElement(a.a,{path:"/url/:mode/:compressed",component:r.a})))}}},1646:function(e,t,n){"use strict";var i=n(83),a=n(95),r=n(28),o=n(1647);t.a=Object(i.b)((function(e){return{configEditorString:e.configEditorString,editorRef:e.editorRef,isAuthenticated:e.isAuthenticated,lastPosition:e.lastPosition,manualParse:e.manualParse,mode:e.mode,name:e.name,profilePicUrl:e.profilePicUrl,settings:e.settings,vegaLiteSpec:e.vegaLiteSpec,vegaSpec:e.vegaSpec,view:e.view}}),(function(e){return Object(a.b)({clearConfig:r.N,exportVega:r.O,parseSpec:r.S,receiveCurrentUser:r.T,setConfig:r.X,setConfigEditorString:r.Y,setScrollPosition:r.jb,setSettingsState:r.kb,setThemeName:r.mb,toggleAutoParse:r.sb,updateVegaSpec:r.yb},e)}))(o.a)},1647:function(e,t,n){"use strict";var i=n(164),a=n.n(i),r=n(4),o=n(158),s=n.n(o),l=n(2029),c=n(1721),p=n(2030),d=n(2031),u=n(2032),g=n(2033),h=n(2034),m=n(2035),b=n(653),f=n(652),v=n(121),E=n(426),w=n(37),x=n(119),S=n(357),y=n(629),C=n(1648),k=n(1654),O=n(1656),P=(n(1921),n(1661));const N=e=>e.split(/[_-]/).map(e=>e[0].toUpperCase()+e.substring(1)).join(" ");t.a=Object(v.f)(class extends r.PureComponent{constructor(e){super(e),this.examplePortal=r.createRef(),this.listnerAttached=!1,this.state={open:!1,scrollPosition:0,showVega:e.mode===w.g.Vega}}componentDidMount(){const e=["profile-img","arrow-down","profile-container"];window.addEventListener("click",t=>{e.includes(t.target.className)?this.setState({open:!this.state.open}):this.setState({open:!1})});const t=encodeURIComponent(Object(y.a)(w.b));fetch(`${w.a}auth/github/check`,{credentials:"include",headers:{Cookie:`${w.b}=${t}`},method:"get"}).then(e=>e.json()).then(e=>{const{isAuthenticated:t,handle:n,name:i,profilePicUrl:a}=e;this.props.receiveCurrentUser(t,n,i,a)}).catch(e=>{}),window.addEventListener("message",e=>{"auth"===e.data.type&&fetch(`${w.a}auth/github/check`,{credentials:"include",headers:{Cookie:`${w.b}=${t}`},method:"get"}).then(e=>e.json()).then(e=>{const{isAuthenticated:t,handle:n,name:i,profilePicUrl:a}=e;this.props.receiveCurrentUser(t,n,i,a)}).catch(e=>{})})}onSelectVega(e){this.props.history.push(`/examples/vega/${e}`)}onSelectVegaLite(e){this.props.history.push(`/examples/vega-lite/${e}`)}onSelectNewVegaLite(){this.props.history.push("/custom/vega-lite")}onSwitchMode(e){e.value===w.g.Vega?this.props.updateVegaSpec(a()(this.props.vegaSpec)):this.onSelectNewVegaLite(),this.props.clearConfig()}componentWillReceiveProps(e){this.setState({showVega:e.mode===w.g.Vega})}handleHelpModalToggle(e,t,n,i){window.addEventListener("keydown",e=>{(e.keyCode===w.e.SINGLE_QUOTE&&e.metaKey&&!e.shiftKey||e.keyCode===w.e.SLASH&&e.ctrlKey&&e.shiftKey)&&(i?n():t()),this.listnerAttached=!0})}handleSettingsClick(){this.props.setSettingsState(!this.props.settings)}openCommandPalette(){this.props.editorRef.trigger("","editor.action.quickCommand","")}componentWillUnmount(){window.removeEventListener("keydown",()=>{}),this.listnerAttached=!1}signIn(){window.open(`${w.a}auth/github`,"_blank")}signOut(){window.open(`${w.a}auth/github/logout`,"_blank")}render(){const e=this.props.mode===w.g.Vega?[{value:w.g.VegaLite,label:x.g[w.g.VegaLite]}]:[{value:w.g.Vega,label:x.g[w.g.Vega]}],t=r.createElement(E.a,{className:"mode-switcher-wrapper",classNamePrefix:"mode-switcher",value:{label:`${x.g[this.props.mode]}`},options:e,isClearable:!1,isSearchable:!1,onChange:this.onSwitchMode.bind(this)}),n=r.createElement("div",{className:"header-button"},r.createElement(l.a,{className:"header-icon"}),"Examples"),i=r.createElement("div",{className:"header-button"},r.createElement(c.a,{className:"header-icon"}),"Gist"),a=r.createElement("div",{className:"header-button settings-button",style:{backgroundColor:this.props.settings?"rgba(0, 0, 0, 0.08)":""},onClick:()=>this.props.setSettingsState(!this.props.settings)},r.createElement(p.a,{className:"header-icon"}),"Settings"),o=r.createElement("div",{className:"header-button"},r.createElement(d.a,{className:"header-icon"}),"Export"),v=r.createElement("div",{className:"header-button"},r.createElement(u.a,{className:"header-icon"}),"Share"),y=r.createElement("div",{className:"header-button help",onClick:()=>this.setState(e=>Object.assign({},e))},r.createElement(g.a,{className:"header-icon"}),"Help"),j=r.createElement("div",{className:"header-button",onClick:this.openCommandPalette.bind(this)},r.createElement(h.a,{className:"header-icon"}),"Commands"),V=r.createElement("div",{className:"auth-button-container"},this.props.isAuthenticated?r.createElement("form",null,r.createElement("div",{className:"profile-container"},r.createElement("img",{className:"profile-img",src:this.props.profilePicUrl}),r.createElement("span",{className:"arrow-down"}),this.state.open&&r.createElement("div",{className:"profile-menu"},r.createElement("div",{className:"welcome"},"Logged in as"),r.createElement("div",{className:"whoami"},this.props.name),r.createElement("div",null,r.createElement("input",{className:"sign-out",type:"submit",value:"Sign out",onClick:this.signOut.bind(this)}))))):r.createElement("form",null,r.createElement("button",{className:"sign-in",type:"submit",onClick:this.signIn.bind(this)},r.createElement("span",{className:"sign-in-text"},"Sign in with"),r.createElement(c.a,null)))),L=this.props.manualParse?[{label:"Auto"}]:[{label:"Manual"}],R=r.createElement(E.a,{className:"auto-run-wrapper",classNamePrefix:"auto-run",value:{label:""},options:L,isClearable:!1,isSearchable:!1,onChange:this.props.toggleAutoParse}),_=r.createElement("div",{className:"header-button",id:"run-button",onClick:()=>{this.props.parseSpec(!0)}},r.createElement(m.a,{className:"header-icon"}),r.createElement("div",{className:"run-button"},r.createElement("span",{className:"parse-label"},"Run"),r.createElement("span",{className:"parse-mode"},this.props.manualParse?"Manual":"Auto"))),D="split-button"+(this.props.manualParse?"":" auto-run"),z=e=>r.createElement("div",{className:"vega"},Object.keys(S.b).map((t,n)=>{const i=S.b[t];return r.createElement("div",{className:"itemGroup",key:n},r.createElement("div",{className:"specType"},t),r.createElement("div",{className:"items",onClick:e},i.map((t,n)=>r.createElement("div",{key:n,onClick:()=>{this.onSelectVega(t.name),e()},className:"item"},r.createElement("div",{style:{backgroundImage:`url(images/examples/vg/${t.name}.vg.png)`},className:"img"}),r.createElement("div",{className:"name"},N(t.name))))))})),U=e=>r.createElement("div",{className:"vega-Lite"},Object.keys(S.a).map((t,n)=>r.createElement("div",{key:n},r.createElement("h3",null,t),Object.keys(S.a[t]).map((n,i)=>{const a=S.a[t][n];return r.createElement("div",{className:"itemGroup",key:i},r.createElement("div",{className:"specType"},n),r.createElement("div",{className:"items"},a.map((t,n)=>r.createElement("div",{key:n,onClick:()=>{this.onSelectVegaLite(t.name),e()},className:"item"},r.createElement("div",{style:{backgroundImage:`url(images/examples/vl/${t.name}.vl.png)`},className:"img"}),r.createElement("div",{className:"name"},t.title)))))})))),I=e=>r.createElement(k.a,{closePortal:()=>e()}),T=r.createElement(C.a,null),G=r.createElement(P.a,null);return r.createElement("div",{className:"header"},r.createElement("section",{className:"left-section"},t,r.createElement("span",{ref:"splitButton",className:D},_,R),j,r.createElement(f.a,{closeOnEsc:!0},({openPortal:e,closePortal:t,isOpen:n,portal:i})=>[r.createElement("span",{key:"0",onClick:e},o),i(r.createElement("div",{className:"modal-background",onClick:t},r.createElement("div",{className:"modal",onClick:e=>e.stopPropagation()},r.createElement("div",null,r.createElement("button",{className:"close-button",onClick:t},r.createElement(b.a,null))),r.createElement("div",{className:"modal-body"},T))))]),r.createElement(f.a,{closeOnEsc:!0},({openPortal:e,closePortal:t,onOpen:n,portal:i})=>[r.createElement("span",{key:"0",onClick:e},v),i(r.createElement("div",{className:"modal-background",onClick:t},r.createElement("div",{className:"modal",onClick:e=>e.stopPropagation()},r.createElement("div",null,r.createElement("button",{className:"close-button",onClick:t},r.createElement(b.a,null))),r.createElement("div",{className:"modal-body"},G))))]),r.createElement(f.a,{closeOnEsc:!0},({openPortal:e,closePortal:t,isOpen:n,portal:a})=>[r.createElement("span",{key:"0",onClick:e},i),a(r.createElement("div",{className:"modal-background",onClick:t},r.createElement("div",{className:"modal",onClick:e=>e.stopPropagation()},r.createElement("div",null,r.createElement("button",{className:"close-button",onClick:t},r.createElement(b.a,null))),r.createElement("div",{className:"modal-body"},I(t)))))]),r.createElement(f.a,{closeOnEsc:!0,defaultOpen:this.props.showExample,onOpen:()=>{const e=s.a.findDOMNode(this.examplePortal.current);e.scrollTop=this.props.lastPosition,e.addEventListener("scroll",()=>{this.setState({scrollPosition:e.scrollTop})})},onClose:()=>{this.props.setScrollPosition(this.state.scrollPosition)}},({openPortal:e,closePortal:t,isOpen:i,portal:a})=>[r.createElement("span",{key:"0",onClick:e},n),a(r.createElement("div",{className:"modal-background",onClick:t},r.createElement("div",{className:"modal",onClick:e=>e.stopPropagation()},r.createElement("div",null,r.createElement("div",{className:"button-groups"},r.createElement("button",{className:this.state.showVega?"selected":"",onClick:()=>{this.setState({showVega:!0}),s.a.findDOMNode(this.examplePortal.current).scrollTop=0}},"Vega"),r.createElement("button",{className:this.state.showVega?"":"selected",onClick:()=>{this.setState({showVega:!1}),s.a.findDOMNode(this.examplePortal.current).scrollTop=0}},"Vega-Lite")),r.createElement("button",{className:"close-button",onClick:t},r.createElement(b.a,null))),r.createElement("div",{className:"modal-body",ref:this.examplePortal},this.state.showVega?z(t):U(t)))))])),r.createElement("section",{className:"right-section"},r.createElement(f.a,{closeOnEsc:!0},({openPortal:e,closePortal:t,isOpen:n,portal:i})=>(this.listnerAttached||this.handleHelpModalToggle(event,e,t,n),[r.createElement("span",{key:"0",onClick:e},y),i(r.createElement("div",{className:"modal-background",onClick:t},r.createElement("div",{className:"modal",onClick:e=>e.stopPropagation()},r.createElement("div",null,r.createElement("button",{className:"close-button",onClick:t},r.createElement(b.a,null))),r.createElement("div",{className:"modal-body"},r.createElement(O.a,null)))))])),a,V))}})},1648:function(e,t,n){"use strict";var i=n(83),a=n(1649);t.a=Object(i.b)((function(e){return{config:e.config,mode:e.mode,vegaLiteSpec:e.vegaLiteSpec,vegaSpec:e.vegaSpec,view:e.view}}))(a.a)},1649:function(e,t,n){"use strict";var i=n(45),a=n(4),r=n(2019),o=n(2020),s=n(2021),l=n(2022),c=n(121),p=n(5),d=n(119);n(1913);t.a=Object(c.f)(class extends a.PureComponent{constructor(e){super(e),this.state={downloadVegaJSON:!1,includeConfig:!0}}downloadViz(e){return Object(i.a)(this,void 0,void 0,(function*(){const t=yield this.props.view.toImageURL(e),n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("target","_blank"),n.setAttribute("download",`visualization.${e}`),n.dispatchEvent(new MouseEvent("click"))}))}openViz(e){return Object(i.a)(this,void 0,void 0,(function*(){const t=yield this.props.view.toImageURL(e),n=window.open("about:blank","_blank");n.document.write(`<title>Chart</title><img src="${t}" />`),n.document.close()}))}downloadPDF(){return Object(i.a)(this,void 0,void 0,(function*(){const e=this.refs.downloadPDF;e.classList.add("disabled");const t=yield this.props.view.toSVG(),n=yield fetch("https://api.cloudconvert.com/convert",{body:JSON.stringify({apikey:"7ZSKlPLjDB4RUaq5dvEvAQMG5GGwEeHH3qa7ixAr0KZtPxfwsKv81sc1SqFhlh7d",file:t,filename:"chart.svg",input:"raw",inputformat:"svg",outputformat:"pdf"}),headers:{"content-type":"application/json; chartset=UTF-8"},method:"post"}),i=yield n.blob(),a=window.URL.createObjectURL(i),r=document.createElement("a");r.setAttribute("href",a),r.setAttribute("target","_blank"),r.setAttribute("download","visualization.pdf"),r.dispatchEvent(new MouseEvent("click")),e.classList.remove("disabled")}))}updateIncludeConfig(e){this.setState({includeConfig:e.target.checked})}downloadJSON(e){if(e.target&&(e.target.matches("input")||e.target.matches("label")||e.target.matches("div.type-input-container")))return;let t,n;this.props.mode===d.f.Vega?(t=this.props.vegaSpec,n="visualization.vg.json"):(t=this.state.downloadVegaJSON?this.props.vegaSpec:this.props.vegaLiteSpec,n=this.state.downloadVegaJSON?"visualization.vg.json":"visualization.vl.json"),this.state.includeConfig&&this.props.config&&((t=Object.assign({},t)).config=Object(p.s)({},this.props.config,t.config));const i=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),a=window.URL.createObjectURL(i),r=document.createElement("a");r.setAttribute("href",a),r.setAttribute("target","_blank"),r.setAttribute("download",n),r.dispatchEvent(new MouseEvent("click"))}updateDownloadJSONType(e){this.setState({downloadVegaJSON:"vega"===e.currentTarget.value})}render(){return a.createElement(a.Fragment,null,a.createElement("h1",null,"Export"),a.createElement("div",{className:"export-buttons"},a.createElement("div",{className:"export-button-container"},a.createElement("div",{className:"header-text"},a.createElement(r.a,null),a.createElement("span",null,"PNG")),a.createElement("p",null,"PNG is a bitmap image format which is made up of a fixed number of pixels. They have a fixed resolution and cannot be scaled."),a.createElement("button",{onClick:()=>this.downloadViz("png"),className:"export-button"},"Download"," ")),a.createElement("div",{className:"export-button-container"},a.createElement("div",{className:"header-text"},a.createElement(o.a,null),a.createElement("span",null,"JSON")),a.createElement("p",null,"JSON is a lightweight data-interchange format."),this.props.mode===d.f.VegaLite&&a.createElement("div",{className:"input-container"},a.createElement("label",null,a.createElement("input",{type:"radio",name:"json-type",id:"json-type[vega]",value:"vega",checked:this.state.downloadVegaJSON,onChange:this.updateDownloadJSONType.bind(this)})," ","Compiled Vega"),a.createElement("label",{htmlFor:"json-type[vega-lite]",className:"vl-label"},a.createElement("input",{type:"radio",name:"json-type",id:"json-type[vega-lite]",value:"vega-lite",checked:!this.state.downloadVegaJSON,onChange:this.updateDownloadJSONType.bind(this)}),"Vega-Lite")),a.createElement("div",{className:"input-container"},this.state.downloadVegaJSON?a.createElement("p",null,"The compiled Vega includes the config and is formatted."):a.createElement("div",null,a.createElement("label",null,a.createElement("input",{type:"checkbox",name:"config-include",id:"config-include",value:"config-select",checked:this.state.includeConfig,onChange:this.updateIncludeConfig.bind(this)}),"Include config"),this.state.includeConfig&&a.createElement("p",null,"The downloaded spec will be formatted. "))),a.createElement("button",{onClick:e=>this.downloadJSON(e),className:"export-button"},"Download")),a.createElement("div",{className:"export-button-container"},a.createElement("div",{className:"header-text"},a.createElement(s.a,null),a.createElement("span",null,"SVG")),a.createElement("p",null,"SVG is a vector image format which uses geometric forms to represent different parts as discrete objects and are infinitely scalable."),a.createElement("button",{onClick:()=>this.openViz("svg"),className:"export-button"},"Open"),a.createElement("button",{onClick:()=>this.downloadViz("svg"),className:"export-button download"},"Download")),a.createElement("div",{className:"export-button-container",ref:"downloadPDF"},a.createElement("div",{className:"header-text"},a.createElement(l.a,null),a.createElement("span",null,"PDF")),a.createElement("p",null,a.createElement("strong",null,"Experimental!"),a.createElement("br",null)," PDF is a vector format usually used for documents. This might take a few seconds. Please be patient. Your chart is sent to an ",a.createElement("a",{href:"https://cloudconvert.com/"},"external service")," for processing."),a.createElement("button",{onClick:()=>this.downloadPDF(),className:"export-button"},"Download"))),a.createElement("div",{className:"user-notes"},a.createElement("p",null,a.createElement("strong",null,"Note:")," To get a PDF, open the SVG which you can print as a PDF from your browser.")))}})},1654:function(e,t,n){"use strict";var i=n(83),a=n(95),r=n(28),o=n(1655);t.a=Object(i.b)((function(e){return{handle:e.handle,isAuthenticated:e.isAuthenticated,mode:e.mode}}),(function(e){return Object(a.b)({receiveCurrentUser:r.T},e)}))(o.a)},1655:function(e,t,n){"use strict";var i=n(45),a=n(4),r=n(2023),o=n(2024),s=n(1720),l=n(121),c=n(37),p=n(629);n(1916);t.a=Object(l.f)(class extends a.PureComponent{constructor(e){super(e),this.state={gist:{filename:"",image:"",imageStyle:{bottom:0},revision:"",type:e.mode,url:""},gistLoadClicked:!1,invalidFilename:!1,invalidRevision:!1,invalidUrl:!1,latestRevision:!1,loaded:!1,personalGist:[],private:!1,syntaxError:!1}}componentDidMount(){const e=encodeURIComponent(Object(p.a)(c.b));fetch(`${c.a}gists/user`,{credentials:"include",headers:{Cookie:`${c.b}=${e}`},method:"get"}).then(e=>e.json()).then(e=>{Array.isArray(e)?this.setState({loaded:!0,personalGist:e}):this.props.receiveCurrentUser(e.isAuthenticated)}).catch(e=>{})}privacyToggle(){this.setState({private:!this.state.private})}updateGist(e){this.setState({gist:Object.assign(Object.assign({},this.state.gist),e)})}updateGistUrl(e){this.updateGist({url:e.currentTarget.value}),this.setState({invalidUrl:!1})}updateGistRevision(e){this.updateGist({revision:e.currentTarget.value}),this.setState({invalidRevision:!1})}updateGistFile(e){this.updateGist({filename:e.currentTarget.value}),this.setState({invalidFilename:!1})}onSelectGist(e){return Object(i.a)(this,void 0,void 0,(function*(){const t=this.state.gist.url.trim().toLowerCase();if(this.setState({gist:Object.assign(Object.assign({},this.state.gist),{filename:this.state.gist.filename.trim(),revision:this.state.gist.revision.trim().toLowerCase()})}),0===t.length)return void this.refGistForm.reportValidity();let n;if(this.setState({gistLoadClicked:!0}),t.match(/gist.githubusercontent.com/)){n=new URL(t,"https://gist.githubusercontent.com");const[,,,e,i]=n.pathname.split("/").slice(1);this.setState({gist:Object.assign(Object.assign({},this.state.gist),{filename:i,revision:e})})}else t.match(/gist.github.com/)&&(n=new URL(t,"https://gist.github.com"));const[i,a]=n.pathname.split("/").slice(1);yield fetch(`https://api.github.com/gists/${a}/commits`).then(e=>(this.setState({invalidUrl:!e.ok}),e.json())).then(e=>{if(this.state.gist.revision||this.state.invalidUrl){if(this.state.invalidUrl)return this.setState({gistLoadClicked:!1}),Promise.reject("Invalid Gist URL")}else this.setState({gist:Object.assign(Object.assign({},this.state.gist),{revision:e[0].version})});return e[0].version===this.state.gist.revision&&this.setState({latestRevision:!0}),fetch(`https://api.github.com/gists/${a}/${this.state.gist.revision}`)}).then(e=>(this.setState({invalidRevision:!e.ok}),e.json())).then(t=>{if(this.state.invalidRevision)return this.setState({gistLoadClicked:!1}),Promise.reject("Invalid Revision");if(this.state.invalidRevision||""!==this.state.gist.filename){if(void 0===t.files[this.state.gist.filename])return this.setState({gistLoadClicked:!1,invalidFilename:!0}),Promise.reject("Invalid file name");{const{revision:n,filename:i}=this.state.gist;JSON.parse(t.files[i].content),this.state.latestRevision?this.props.history.push(`/gist/${a}/${i}`):this.props.history.push(`/gist/${a}/${n}/${i}`),e()}}else{const n=Object.keys(t.files).filter(e=>{if("json"===e.split(".").slice(-1)[0])return!0});0===n.length?this.setState({gistLoadClicked:!1,invalidUrl:!0},()=>Promise.reject("No JSON file exists in the gist")):this.setState({gist:Object.assign(Object.assign({},this.state.gist),{filename:n[0]})},()=>{const{revision:i,filename:r}=this.state.gist;JSON.parse(t.files[n[0]].content),this.state.latestRevision?this.props.history.push(`/gist/${a}/${r}`):this.props.history.push(`/gist/${a}/${i}/${r}`),e()})}}).catch(e=>{e instanceof SyntaxError&&this.setState({gistLoadClicked:!1,syntaxError:!0})})}))}componentWillReceiveProps(e){if(this.setState({gist:{filename:"",image:"",imageStyle:{bottom:0},revision:"",type:e.mode,url:""}}),e.isAuthenticated){const e=encodeURIComponent(Object(p.a)(c.b));fetch(`${c.a}gists/user`,{credentials:"include",headers:{Cookie:`${c.b}=${e}`},method:"get"}).then(e=>e.json()).then(e=>{Array.isArray(e)?this.setState({loaded:!0,personalGist:e}):this.props.receiveCurrentUser(e.isAuthenticated)}).catch(e=>{})}}preview(e,t,n){this.setState({gist:Object.assign(Object.assign({},this.state.gist),{filename:t,image:n,imageStyle:Object.assign(Object.assign({},this.state.gist.imageStyle),{bottom:0}),revision:"",url:`https://gist.github.com/${this.props.handle}/${e}`}),invalidFilename:!1,invalidRevision:!1,invalidUrl:!1,syntaxError:!1})}slideImage(e){const t=e.target.height;this.setState({gist:Object.assign(Object.assign({},this.state.gist),{imageStyle:Object.assign(Object.assign({},this.state.gist.imageStyle),{bottom:t>100?t-100:0})})})}slideImageBack(){this.setState({gist:Object.assign(Object.assign({},this.state.gist),{imageStyle:Object.assign(Object.assign({},this.state.gist.imageStyle),{bottom:0})})})}render(){return a.createElement("div",null,a.createElement("h1",null,"Load"," ",a.createElement("a",{href:"https://gist.github.com/",target:"_blank",rel:"noopener noreferrer"},"Github Gist")),a.createElement("div",{className:"gist-split"},a.createElement("div",{className:"personal-gist"},a.createElement("h3",null,"Your gists"),this.props.isAuthenticated?this.state.loaded?a.createElement(a.Fragment,null,this.state.personalGist.length>0?a.createElement(a.Fragment,null,a.createElement("div",{className:"privacy-toggle"},a.createElement("input",{type:"checkbox",name:"privacy",id:"privacy",checked:this.state.private,onChange:this.privacyToggle.bind(this)}),a.createElement("label",{htmlFor:"privacy"},"Show private gists")),this.state.personalGist.filter(e=>e.isPublic||this.state.private).map(e=>a.createElement("div",{key:e.name,className:"gist-container"},a.createElement("div",{className:"personal-gist-description"},e.isPublic?a.createElement(r.a,{width:"14",height:"14"}):a.createElement(o.a,{width:"14",height:"14",fill:"#FDD300"}),a.createElement("span",{className:`text ${e.title?"":"play-down"}`},e.title?e.title:"No description provided")),a.createElement("div",{className:"personal-gist-files"},e.spec.map((t,n)=>a.createElement("div",{key:n,className:"file"},a.createElement("div",{className:"arrow"}),a.createElement("div",{className:"filename",key:t.name,onClick:()=>this.preview(e.name,t.name,t.previewUrl)},t.name))))))):a.createElement(a.Fragment,null,"You have no Vega or Vega-Lite compatible gists.")):a.createElement("div",{className:"loader-container"},a.createElement("span",null,"Loading your GISTS...")):a.createElement("span",null,"Login with"," ",a.createElement("a",{href:`${c.a}auth/github`,target:"_blank",rel:"noopener noreferrer"},"GitHub")," ","to see all of your personal gist.")),a.createElement("div",{className:"load-gist"},a.createElement("h3",null,"Load gists"),a.createElement("form",{ref:e=>this.refGistForm=e},a.createElement("div",{className:"gist-input-container"},a.createElement("label",null,"Gist URL",a.createElement("div",{style:{marginTop:"2px"}},a.createElement("small",null,"Example:"," ",a.createElement("span",{className:"gist-url",onClick:e=>this.setState({gist:Object.assign(Object.assign({},this.state.gist),{filename:"",image:"",revision:"",url:"https://gist.github.com/domoritz/455e1c7872c4b38a58b90df0c3d7b1b9"})})},"https://gist.github.com/domoritz/455e1c7872c4b38a58b90df0c3d7b1b9"))),a.createElement("input",{required:!0,className:"gist-input",type:"text",placeholder:"Enter URL",value:this.state.gist.url,onChange:this.updateGistUrl.bind(this)})),a.createElement("div",{className:"error-message"},this.state.invalidUrl&&a.createElement("span",null,"Please enter a valid URL."))),a.createElement("div",{className:"gist-optional"},a.createElement("div",{className:"gist-input-container gist-optional-input-container"},a.createElement("label",null,"Revision (",a.createElement("small",null,"optional"),")",a.createElement("input",{className:"gist-input",type:"text",placeholder:"Enter revision",value:this.state.gist.revision,onChange:this.updateGistRevision.bind(this)})),a.createElement("div",{className:"error-message"},this.state.invalidRevision&&a.createElement("span",null,"Please enter a valid revision."))),a.createElement("div",{className:"gist-input-container gist-optional-input-container"},a.createElement("label",null,"Filename (",a.createElement("small",null,"optional"),")",a.createElement("input",{className:"gist-input",type:"text",placeholder:"Enter filename",value:this.state.gist.filename,onChange:this.updateGistFile.bind(this)})),a.createElement("div",{className:"error-message"},this.state.invalidFilename?a.createElement("span",null,"Please enter a valid JSON file"):this.state.syntaxError&&a.createElement("span",null,"JSON is syntactically incorrect")))),this.state.gist.url&&this.state.gist.filename?this.state.gist.image?a.createElement("div",{className:"preview-container"},a.createElement("div",{className:"preview-text"},"Preview:"),a.createElement("div",{className:"preview-image-container"},a.createElement("div",{className:"preview-image-wrapper"},a.createElement("img",{src:this.state.gist.image,onMouseOver:this.slideImage.bind(this),onMouseOut:this.slideImageBack.bind(this),style:{transform:`translateY(-${this.state.gist.imageStyle.bottom}px)`}})))):a.createElement("div",{className:"preview-error-message-container"},a.createElement("div",{className:"preview-error-message"},a.createElement(s.a,{className:"preview-error-icon"}),a.createElement("span",null,"No preview available for this gist file.")),a.createElement("span",{className:"preview-error-fix"},"Upload an image file with name ",this.state.gist.filename.replace(/\.json/i,".(png/jpg)"),".")):a.createElement(a.Fragment,null),a.createElement("div",{className:"gist-button gist-input-container"},a.createElement("button",{type:"button",onClick:()=>this.onSelectGist(this.props.closePortal)},this.state.gistLoadClicked?"Loading..":"Load"))))))}})},1656:function(e,t,n){"use strict";var i=n(4),a=n.n(i),r=n(1720),o=n(2025),s=n(2026),l=n(123),c=n(454),p=n(548),d=n(1659),u=n(1660);n(1918);const g=n(1920),h=u.a.map((e,t)=>a.a.createElement("li",{key:t},(Object(d.a)()?e.mac:e.windows).split(" ").map(e=>"+"===e?"+":a.a.createElement("kbd",{key:`${e}${t}`},e)),": ",e.text));t.a=()=>a.a.createElement("div",{className:"help-modal"},a.a.createElement("h1",{className:"modal-header"},"Help"),a.a.createElement("h2",null,"References"),a.a.createElement("a",{href:"https://vega.github.io/vega-lite/",target:"_blank",rel:"noopener noreferrer",className:"doc-link"},"Vega-Lite Docs"),a.a.createElement("a",{href:"https://vega.github.io/vega/",target:"_blank",rel:"noopener noreferrer",className:"doc-link"},"Vega Docs"),a.a.createElement("h2",null,"Keyboard Shortcuts"),a.a.createElement("ul",{className:"keyboard-shortcuts"},h),a.a.createElement("p",null,"Access editor actions by clicking the Commands button or pressing ",a.a.createElement("kbd",null,"f1"),".",a.a.createElement("br",null),"Here you can clear the spec, extract or merge the config, or format the specification."),a.a.createElement("a",{href:`https://github.com/vega/editor/issues/new?body=**Vega-Editor ${g.version}**`,target:"_blank",rel:"noopener noreferrer",className:"report-button help-modal-link"},a.a.createElement(r.a,{className:"header-icon"}),a.a.createElement("span",null,"Report a Bug")),a.a.createElement("h2",null,"Send us your feedback"),a.a.createElement("a",{href:"https://bit.ly/join-vega-slack",target:"_blank",rel:"noopener noreferrer",className:"doc-link"},a.a.createElement(o.a,{className:"doc-image"}),"Join our Slack channel"),a.a.createElement("a",{href:"https://twitter.com/vega_vis",target:"_blank",rel:"noopener noreferrer",className:"doc-link"},a.a.createElement(s.a,{className:"doc-image"}),"Follow us on Twitter"),a.a.createElement("h2",null,"Tip"),a.a.createElement("p",null,"You can access Vega, Vega-Lite, and the ",a.a.createElement("a",{href:"https://vega.github.io/vega/docs/api/view/"}," Vega view")," at"," ",a.a.createElement("code",null,"(VEGA_DEBUG)")," using your browser's developer console."),a.a.createElement("div",{className:"version-viewer"},a.a.createElement("div",null,"Vega Version : ",l.version),a.a.createElement("div",null,"Vega-Lite Version : ",c.version),a.a.createElement("div",null,"Vega-Tooltip Version : ",p.c),a.a.createElement("div",null,"Editor Version : ",g.version)))},1659:function(e,t,n){"use strict";t.a=()=>navigator.platform.toUpperCase().indexOf("MAC")>=0},1660:function(e,t,n){"use strict";const i=[{mac:"⌘ + b",text:"Parse the specification and render visualization",windows:"Ctrl + b"},{mac:"⌘ + ?",text:"Open the help window",windows:"Ctrl + ?"},{mac:"⌘ + Space",text:"Open Intellisense in the editor",windows:"Ctrl + Space"},{mac:"⌘ + f11",text:"Toggle fullscreen mode",windows:"Ctrl + f11"},{mac:"⌘ + Shift + o",text:"Navigate to a symbol in the specification",windows:"Ctrl + Shift + o"}];t.a=i},1661:function(e,t,n){"use strict";var i=n(83),a=n(1662);t.a=Object(i.b)((function(e){return{editorString:e.editorString,mode:e.mode,view:e.view}}))(a.a)},1662:function(e,t,n){"use strict";var i=n(851),a=n.n(i),r=n(4),o=n(1663),s=n.n(o),l=n(2027),c=n(2028),p=n(121);n(1924);t.a=Object(p.f)(class extends r.PureComponent{constructor(e){super(e),this.state={copied:!1,fullScreen:!1,generatedURL:""}}exportURL(){const e=a.a.compressToEncodedURIComponent(this.props.editorString)+(this.state.fullScreen?"/view":"");if(e){const t=`${document.location.href.split("#")[0]}#/url/${this.props.mode}/${e}`;this.setState({generatedURL:t})}}previewURL(){window.open(this.state.generatedURL,"_blank").focus()}onCopy(){this.state.copied||this.setState({copied:!0},()=>{setTimeout(()=>{this.setState({copied:!1})},2500)})}handleCheck(e){this.setState({fullScreen:e.target.checked},()=>{this.exportURL()})}componentDidMount(){this.exportURL()}render(){return r.createElement(r.Fragment,null,r.createElement("h1",null,"Share"),r.createElement("p",null,"We pack the Vega or Vega-Lite specification and an encoded string in the URL."),r.createElement("p",null,"We use LZ-based compression algorithm and preserve indentation, newlines, and other whitespace."),r.createElement("div",null,r.createElement("label",{className:"user-pref"},r.createElement("input",{type:"checkbox",defaultChecked:this.state.fullScreen,name:"fullscreen",onChange:this.handleCheck.bind(this)}),"Open visualization in fullscreen")),r.createElement("div",{className:"sharing-buttons"},r.createElement("button",{className:"sharing-button",onClick:()=>this.previewURL()},r.createElement(l.a,null),r.createElement("span",null,"Open Link")),r.createElement(s.a,{className:"sharing-button copy-icon","data-clipboard-text":this.state.generatedURL,onSuccess:this.onCopy.bind(this)},r.createElement("span",null,r.createElement(c.a,null),"Copy to Clipboard")),r.createElement("div",{className:`copied + ${this.state.copied?" visible":""}`},"Copied!")),"Number of charaters in the URL: ",this.state.generatedURL.length," ",r.createElement("span",{className:"url-warning"},this.state.generatedURL.length>2083&&r.createElement(r.Fragment,null,"Warning:"," ",r.createElement("a",{href:"https://support.microsoft.com/en-us/help/208427/maximum-url-length-is-2-083-characters-in-internet-explorer",target:"_blank",rel:"noopener noreferrer"},"URLs over 2083 characters may not be supported in Internet Explorer."))))}})},1676:function(e,t,n){"use strict";var i=n(4),a=n(83),r=n(547),o=n(95),s=n(28),l=n(37),c=n(1677),p=n(1679),d=n(855),u=(n(1931),n(1680)),g=n(1683);t.a=Object(a.b)((function(e){return{compiledVegaPaneSize:e.compiledVegaPaneSize,compiledVegaSpec:e.compiledVegaSpec,mode:e.mode,sidePaneItem:e.sidePaneItem}}),(function(e){return Object(o.b)({setCompiledVegaPaneSize:s.W,toggleCompiledVegaSpec:s.tb},e)}))(class extends i.PureComponent{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){this.props.setCompiledVegaPaneSize(e),(e>l.f.MinPaneSize&&!this.props.compiledVegaSpec||e===l.f.MinPaneSize&&this.props.compiledVegaSpec)&&this.props.toggleCompiledVegaSpec()}componentDidUpdate(){this.props.mode===l.g.VegaLite&&this.props.compiledVegaPaneSize===l.f.MinPaneSize&&this.props.setCompiledVegaPaneSize(.3*(window.innerHeight-l.f.HeaderHeight))}componentDidMount(){if(this.props.mode===l.g.Vega){this.refs.compiledVegaPane.pane2.style.display="none"}}componentWillReceiveProps(e){if(e.mode!==this.props.mode){const t=this.refs.compiledVegaPane.pane2;e.mode===l.g.Vega?t.style.display="none":t.style.display="flex"}}getInnerPanes(){const e=[i.createElement("div",{key:"editor",className:"full-height-wrapper"},i.createElement(g.a,{key:"specEditorHeader"}),i.createElement(u.a,{key:"editor"}),i.createElement(c.a,{key:"configEditor"}))];return this.props.compiledVegaSpec?e.push(i.createElement(p.a,{key:"compiled"})):e.push(i.createElement(d.a,{key:"compiledSpecHeader"})),e}render(){const e=this.getInnerPanes(),t=this.refs.compiledVegaPane;return t&&(t.pane2.style.height=this.props.compiledVegaSpec?(this.props.compiledVegaPaneSize||.4*window.innerHeight)+"px":l.f.MinPaneSize+"px"),i.createElement(r.a,{ref:"compiledVegaPane",split:"horizontal",primary:"second",className:"editor-spitPane",minSize:l.f.MinPaneSize,defaultSize:this.props.compiledVegaSpec?this.props.compiledVegaPaneSize:l.f.MinPaneSize,onChange:this.handleChange,pane1Style:{minHeight:`${l.f.MinPaneSize}px`},paneStyle:{display:"flex"},onDragFinished:()=>{this.props.compiledVegaPaneSize===l.f.MinPaneSize&&this.props.setCompiledVegaPaneSize(.3*(window.innerHeight-l.f.HeaderHeight))}},e)}})},1677:function(e,t,n){"use strict";var i=n(83),a=n(95),r=n(28),o=(n(923),n(1678));t.a=Object(i.b)((function(e){return{compiledVegaPaneSize:e.compiledVegaPaneSize,compiledVegaSpec:e.compiledVegaSpec,config:e.config,configEditorString:e.configEditorString,decorations:e.decorations,editorString:e.editorString,gist:e.gist,manualParse:e.manualParse,mode:e.mode,parse:e.parse,selectedExample:e.selectedExample,sidePaneItem:e.sidePaneItem,themeName:e.themeName,value:e.editorString}}),(function(e){return Object(a.b)({clearConfig:r.N,extractConfig:r.P,logError:r.Q,mergeConfigSpec:r.R,parseSpec:r.S,setConfig:r.X,setConfigEditorString:r.Y,setEditorReference:r.cb,setSidePaneItem:r.lb,setThemeName:r.mb,toggleCompiledVegaSpec:r.tb,updateEditorString:r.wb,updateVegaLiteSpec:r.xb,updateVegaSpec:r.yb},e)}))(o.a)},1678:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(4),a=n(549),r=n.n(a),o=n(123),s=n(37);n(923);class l extends i.PureComponent{constructor(){super(...arguments),this.handleEditorChange=e=>{const t=""===e?"{}":e;this.props.setConfigEditorString(t),this.props.setThemeName("custom"),this.props.manualParse||this.props.setConfig(this.props.configEditorString)}}handleMergeConfig(){confirm("The spec will be formatted on merge.")&&this.props.mergeConfigSpec()}handleExtractConfig(){confirm("The spec and config will be formatted.")&&this.props.extractConfig()}handleEditorMount(e){e.onDidFocusEditorText(()=>{e.deltaDecorations(this.props.decorations,[]),this.props.setEditorReference(e)}),e.addAction({contextMenuGroupId:"vega",contextMenuOrder:0,id:"MERGE_CONFIG",label:"Merge Config Into Spec",run:this.handleMergeConfig.bind(this)}),e.addAction({contextMenuGroupId:"vega",contextMenuOrder:1,id:"EXTRACT_CONFIG",label:"Extract Config From Spec",run:this.handleExtractConfig.bind(this)}),this.editor=e,this.props.sidePaneItem===s.j.Config&&this.editor.focus()}componentDidMount(){this.props.sidePaneItem===s.j.Config&&this.props.setEditorReference(this.editor)}componentWillReceiveProps(e){e.sidePaneItem===s.j.Config&&(this.editor.focus(),this.props.setEditorReference(this.editor))}getEditorHeight(){let e=window.innerHeight-60-s.f.MinPaneSize-30;return this.props.compiledVegaSpec&&(e-=this.props.compiledVegaPaneSize-30),e}render(){return i.createElement("div",{className:this.props.mode===s.g.Vega?"full-height-wrapper":"",style:{display:this.props.sidePaneItem===s.j.Editor?"none":""}},i.createElement(r.a,{height:this.getEditorHeight(),options:{autoClosingBrackets:"never",autoClosingQuotes:"never",automaticLayout:!0,cursorBlinking:"smooth",folding:!0,lineNumbersMinChars:4,minimap:{enabled:!1},scrollBeyondLastLine:!1,wordWrap:"on"},ref:"ConfigEditor",language:"json",onChange:Object(o.debounce)(700,this.handleEditorChange),value:this.props.configEditorString,editorDidMount:e=>this.handleEditorMount(e)}))}}},1679:function(e,t,n){"use strict";var i=n(164),a=n.n(i),r=n(4),o=n(549),s=n.n(o),l=n(83),c=n(95),p=n(28),d=n(37),u=n(855);t.a=Object(l.b)((function(e){return{compiledEditorRef:e.compiledEditorRef,compiledVegaPaneSize:e.compiledVegaPaneSize,decorations:e.decorations,editorRef:e.editorRef,mode:e.mode,sidePaneItem:e.sidePaneItem,value:e.vegaSpec}}),(function(e){return Object(c.b)({setCompiledEditorReference:p.V,setEditorFocus:p.bb},e)}))(class extends r.PureComponent{componentDidMount(){this.props.setCompiledEditorReference(this.editor)}componentDidUpdate(e){this.props.compiledVegaPaneSize!==e.compiledVegaPaneSize&&this.editor&&this.editor.layout()}render(){return r.createElement("div",{className:"sizeFixEditorParent full-height-wrapper"},r.createElement(u.a,null),r.createElement(s.a,{height:this.props.compiledVegaPaneSize-d.f.MinPaneSize,options:{automaticLayout:!0,folding:!0,minimap:{enabled:!1},readOnly:!0,scrollBeyondLastLine:!1,wordWrap:"on"},ref:"compiledEditor",language:"json",value:a()(this.props.value),editorDidMount:e=>{e.onDidFocusEditorText(()=>{this.props.compiledEditorRef&&this.props.compiledEditorRef.deltaDecorations(this.props.decorations,[]),this.props.editorRef&&this.props.editorRef.deltaDecorations(this.props.decorations,[]),this.props.setEditorFocus(d.d.CompiledEditor)}),this.editor=e}}))}})},1680:function(e,t,n){"use strict";var i=n(83),a=n(95),r=n(28),o=n(1681);t.a=Object(i.b)((function(e){return{compiledEditorRef:e.compiledEditorRef,compiledVegaPaneSize:e.compiledVegaPaneSize,compiledVegaSpec:e.compiledVegaSpec,configEditorString:e.configEditorString,decorations:e.decorations,editorFocus:e.editorFocus,editorRef:e.editorRef,editorString:e.editorString,gist:e.gist,manualParse:e.manualParse,mode:e.mode,parse:e.parse,selectedExample:e.selectedExample,sidePaneItem:e.sidePaneItem,themeName:e.themeName,value:e.editorString,view:e.view}}),(function(e){return Object(a.b)({clearConfig:r.N,extractConfigSpec:r.P,logError:r.Q,mergeConfigSpec:r.R,parseSpec:r.S,setConfig:r.X,setDecorations:r.ab,setEditorFocus:r.bb,setEditorReference:r.cb,updateEditorString:r.wb,updateVegaLiteSpec:r.xb,updateVegaSpec:r.yb},e)}))(o.a)},1681:function(e,t,n){"use strict";var i=n(164),a=n.n(i),r=n(851),o=n.n(r),s=n(4),l=n(549),c=n.n(l),p=n(121),d=n(123),u=n(1682),g=n.n(u),h=n(37);n(1933);t.a=Object(p.f)(class extends s.PureComponent{constructor(e){super(e),this.handleKeydown=this.handleKeydown.bind(this),this.handleEditorChange=this.handleEditorChange.bind(this),this.editorWillMount=this.editorWillMount.bind(this),this.editorDidMount=this.editorDidMount.bind(this),this.onSelectNewVegaLite=this.onSelectNewVegaLite.bind(this)}handleKeydown(e){if(this.props.manualParse&&(e.keyCode===h.e.B||e.keyCode===h.e.S)&&(e.ctrlKey||e.metaKey)){e.preventDefault(),this.props.parseSpec(!0);const t=this.refs.parse;t.classList.add("pressed"),setTimeout(()=>{t.classList.remove("pressed")},250)}}handleMergeConfig(){confirm("The spec will be formatted on merge.")&&this.props.mergeConfigSpec()}handleExtractConfig(){confirm("The spec and config will be formatted.")&&this.props.extractConfigSpec()}onSelectNewVega(){this.props.history.push("/custom/vega")}onSelectNewVegaLite(){this.props.history.push("/custom/vega-lite")}onClear(){this.props.mode===h.g.Vega?this.onSelectNewVega():this.onSelectNewVegaLite()}addVegaSchemaURL(){let e=JSON.parse(this.props.editorString);void 0===e.$schema&&(e=Object.assign({$schema:h.i[h.g.Vega]},e),confirm("Adding schema URL will format the specification too.")&&this.props.updateVegaSpec(a()(e)))}addVegaLiteSchemaURL(){let e=JSON.parse(this.props.editorString);void 0===e.$schema&&(e=Object.assign({$schema:h.i[h.g.VegaLite]},e),confirm("Adding schema URL will format the specification too.")&&this.props.updateVegaLiteSpec(a()(e)))}editorDidMount(e,t){e.onDidFocusEditorText(()=>{this.props.compiledEditorRef&&this.props.compiledEditorRef.deltaDecorations(this.props.decorations,[]),e.deltaDecorations(this.props.decorations,[]),this.props.setEditorFocus(h.d.SpecEditor)}),e.addAction({contextMenuGroupId:"vega",contextMenuOrder:0,id:"ADD_VEGA_SCHEMA",label:"Add Vega schema URL",run:this.addVegaSchemaURL.bind(this)}),e.addAction({contextMenuGroupId:"vega",contextMenuOrder:1,id:"ADD_VEGA_LITE_SCHEMA",label:"Add Vega-Lite schema URL",run:this.addVegaLiteSchemaURL.bind(this)}),e.addAction({contextMenuGroupId:"vega",contextMenuOrder:2,id:"CLEAR_EDITOR",label:"Clear Spec",run:this.onClear.bind(this)}),e.addAction({contextMenuGroupId:"vega",contextMenuOrder:3,id:"MERGE_CONFIG",label:"Merge Config Into Spec",run:this.handleMergeConfig.bind(this)}),e.addAction({contextMenuGroupId:"vega",contextMenuOrder:4,id:"EXTRACT_CONFIG",label:"Extract Config From Spec",run:this.handleExtractConfig.bind(this)}),e.getModel().getOptions(),this.editor=e,this.props.sidePaneItem===h.j.Editor&&(e.focus(),this.props.setEditorFocus(h.d.SpecEditor))}handleEditorChange(e){this.props.manualParse?this.props.updateEditorString(e):this.updateSpec(e),-1===this.props.history.location.pathname.indexOf("/edited")&&this.props.history.push("/edited")}editorWillMount(e){const t=this.props.match.params.compressed;if(t){const e=o.a.decompressFromEncodedURIComponent(t);e?this.updateSpec(e):this.props.logError(new Error(`Failed to decompress URL. Expected a specification, but received ${e}`))}}componentWillReceiveProps(e){e.sidePaneItem===h.j.Editor&&this.props.sidePaneItem!==e.sidePaneItem&&(this.editor.focus(),this.props.setEditorReference(this.editor)),this.props.view!==e.view&&(this.props.compiledEditorRef&&this.props.compiledEditorRef.deltaDecorations(this.props.decorations,[]),this.props.editorRef&&this.props.editorRef.deltaDecorations(this.props.decorations,[])),e.parse&&(this.editor.focus(),this.updateSpec(e.value),this.props.setConfig(e.configEditorString),this.props.parseSpec(!1))}componentDidMount(){document.addEventListener("keydown",this.handleKeydown),this.props.sidePaneItem===h.j.Editor&&this.props.setEditorReference(this.editor)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeydown)}updateSpec(e){let t=this.props.mode;try{const n=JSON.parse(e).$schema;if(n)switch(g()(n).library){case"vega-lite":t=h.g.VegaLite;break;case"vega":t=h.g.Vega}}catch(e){console.warn("Error parsing JSON string",e)}switch(t){case h.g.Vega:this.props.updateVegaSpec(e);break;case h.g.VegaLite:this.props.updateVegaLiteSpec(e);break;default:console.exception(`Unknown mode:  ${t}`)}}getEditorHeight(){let e=window.innerHeight-60-h.f.MinPaneSize-30;return this.props.compiledVegaSpec&&(e-=this.props.compiledVegaPaneSize-30),e}render(){return s.createElement("div",{className:this.props.mode===h.g.Vega?"full-height-wrapper":"",style:{display:this.props.sidePaneItem===h.j.Editor?"":"none"}},s.createElement(c.a,{height:this.getEditorHeight(),ref:"editor",language:"json",options:{autoClosingBrackets:"never",autoClosingQuotes:"never",automaticLayout:!0,cursorBlinking:"smooth",folding:!0,lineNumbersMinChars:4,minimap:{enabled:!1},scrollBeyondLastLine:!1,wordWrap:"on"},value:this.props.value,onChange:Object(d.debounce)(700,this.handleEditorChange),editorWillMount:this.editorWillMount,editorDidMount:this.editorDidMount}))}})},1683:function(e,t,n){"use strict";var i=n(4),a=n(83),r=n(121),o=n(95),s=n(28),l=n(37),c=n(1684);n(1935);t.a=Object(r.f)(Object(a.b)((function(e){return{compiledVegaSpec:e.compiledVegaSpec,configEditorString:e.configEditorString,editorString:e.editorString,manualParse:e.manualParse,mode:e.mode,sidePaneItem:e.sidePaneItem,themeName:e.themeName,value:e.vegaSpec}}),(function(e){return Object(o.b)({clearConfig:s.N,parseSpec:s.S,setConfig:s.X,setConfigEditorString:s.Y,setSidePaneItem:s.lb,setThemeName:s.mb,toggleCompiledVegaSpec:s.tb,updateEditorString:s.wb,updateVegaSpec:s.yb},e)}))(class extends i.PureComponent{render(){return i.createElement("div",{className:"editor-header spec-editor-header"},i.createElement("ul",{className:"tabs-nav"},i.createElement("li",{className:this.props.sidePaneItem===l.j.Editor?"active-tab":void 0,onClick:e=>{this.props.sidePaneItem===l.j.Editor&&e.stopPropagation(),e.stopPropagation(),this.props.setSidePaneItem(l.j.Editor)}},this.props.mode),i.createElement("li",{className:this.props.sidePaneItem===l.j.Config?"active-tab":void 0,onClick:e=>{this.props.sidePaneItem===l.j.Config&&e.stopPropagation(),e.stopPropagation(),this.props.setSidePaneItem(l.j.Config)}},"Config")),this.props.sidePaneItem===l.j.Config&&i.createElement(c.a,null))}}))},1684:function(e,t,n){"use strict";var i=n(164),a=n.n(i),r=n(4),o=n(83),s=n(95),l=n(884),c=n(28);n(923);t.a=Object(o.b)((function(e){return{manualParse:e.manualParse,themeName:e.themeName}}),(function(e){return Object(s.b)({setConfig:c.X,setConfigEditorString:c.Y,setThemeName:c.mb},e)}))(class extends r.PureComponent{render(){return r.createElement("label",{className:"config-header"},"Theme:",r.createElement("select",{value:this.props.themeName,onClick:e=>e.stopPropagation(),id:"config-select",onChange:e=>{e.stopPropagation(),"custom"===e.target.value?(this.props.setConfig("{}"),this.props.setConfigEditorString("{}")):(this.props.setConfig(a()(l[e.target.value])),this.props.setConfigEditorString(a()(l[e.target.value]))),this.props.setThemeName(e.target.value)}},r.createElement("option",{value:"custom"},"Custom"),Object.keys(l).map(e=>r.createElement("option",{key:e,value:e},e))))}})},1686:function(e,t,n){"use strict";var i=n(83),a=n(95),r=n(28),o=n(1687);t.a=Object(i.b)((function(e){return{hoverEnable:e.hoverEnable,logLevel:e.logLevel,renderer:e.renderer,tooltipEnable:e.tooltipEnable}}),(function(e){return Object(a.b)({setHover:r.fb,setLogLevel:r.gb,setRenderer:r.ib,setSettingsState:r.kb,setTooltip:r.nb},e)}))(o.a)},1687:function(e,t,n){"use strict";var i=n(4),a=n.n(i),r=n(426);n(1937);const o=1e3;t.a=class extends i.Component{constructor(e){super(e),this.listnerAttached=!1,this.logOptions=()=>{let e=[{label:"None"},{label:"Warn"},{label:"Info"},{label:"Debug"}];return e=e.filter(e=>e.label!==this.props.logLevel)},this.hoverOptions=()=>{let e=[{label:"auto"},{label:"on"},{label:"off"}];const t="boolean"!=typeof this.props.hoverEnable?this.props.hoverEnable:this.props.hoverEnable?"on":"off";return e=e.filter(e=>e.label!==t)},this.handleOutsideClick=this.handleOutsideClick.bind(this),this.handleEscClick=this.handleEscClick.bind(this),this.setHover=this.setHover.bind(this)}componentDidMount(){document.body.addEventListener("click",this.handleOutsideClick,!0),window.addEventListener("keydown",this.handleEscClick,!0),window.addEventListener("resize",()=>{this.listnerAttached&&window.innerWidth>o&&document.body.removeEventListener("click",this.handleOutsideClick,!0),!this.listnerAttached&&window.innerWidth<=o&&document.body.addEventListener("click",this.handleOutsideClick,!0)})}handleEscClick(e){window.innerWidth<=o&&"Escape"===e.key&&this.props.setSettingsState(!1)}handleOutsideClick(e){if(!this.listnerAttached&&window.innerWidth<=o){const t=e.target;if(t.closest(".settings")||t.closest(".settings-button")||t.classList.contains("log-level-dropdown__option")||t.classList.contains("renderer-dropdown__option"))return;this.props.setSettingsState(!1),this.listnerAttached=!0}}setHover(e){let t="auto";switch(e.label){case"on":t=!0;break;case"off":t=!1}this.props.setHover(t)}render(){const e="boolean"!=typeof this.props.hoverEnable?"auto":this.props.hoverEnable?"on":"off",t=[{value:"svg",label:"SVG"},{value:"canvas",label:"Canvas"}].map(e=>a.a.createElement("label",{key:e.label},a.a.createElement("input",{type:"radio",name:"renderer",value:e.value,defaultChecked:this.props.renderer===e.value,onClick:e=>this.props.setRenderer(e.currentTarget.value)}),e.label));return a.a.createElement("div",{className:"settings"},a.a.createElement("div",{className:"select-container"},a.a.createElement("span",null,"Renderer:"),t),a.a.createElement("p",{className:"settings-description"},"Set Vega renderer. Canvas creates pixel graphics. SVG creates vector graphics."),a.a.createElement("div",{className:"select-container"},a.a.createElement("span",null,"Log Level:"),a.a.createElement("div",null,a.a.createElement(r.a,{className:"log-level-dropdown-wrapper",classNamePrefix:"log-level-dropdown",value:{label:this.props.logLevel},options:this.logOptions(),onChange:e=>this.props.setLogLevel(e.label),isClearable:!1,isSearchable:!1}))),a.a.createElement("p",{className:"settings-description"},"Set log level for Vega."),a.a.createElement("div",{className:"select-container"},a.a.createElement("span",null,"Hover :"),a.a.createElement("div",{className:"hover-enable-select"},a.a.createElement(r.a,{className:"hover-enable-dropdown-wrapper",classNamePrefix:"hover-enable-dropdown",value:{label:e},options:this.hoverOptions(),onChange:this.setHover,isClearable:!1,isSearchable:!1}))),a.a.createElement("p",{className:"settings-description"},"Enable or disable ",a.a.createElement("a",{href:"https://vega.github.io/vega/docs/api/view/#view_hover"},"hover")," event processing. In auto mode, Vega-Lite disables hover event processing."),a.a.createElement("div",{className:"tooltips"},a.a.createElement("label",null,a.a.createElement("input",{onChange:e=>this.props.setTooltip(e.target.checked),type:"checkbox",name:"",id:"tooltip",checked:this.props.tooltipEnable}),"Tooltips")),a.a.createElement("p",{className:"settings-description"},"Enable the default"," ",a.a.createElement("a",{href:"https://github.com/vega/vega-tooltip",rel:"noopener noreferrer",target:"_blank"},"Vega Tooltip")," ","handler."))}}},1688:function(e,t,n){"use strict";var i=n(83),a=n(95),r=n(28),o=n(1689);t.a=Object(i.b)((function(e){return{compiledEditorRef:e.compiledEditorRef,debugPane:e.debugPane,debugPaneSize:e.debugPaneSize,decorations:e.decorations,editorFocus:e.editorFocus,editorRef:e.editorRef,error:e.error,logs:e.logs,navItem:e.navItem,settings:e.settings,view:e.view}}),(function(e){return Object(a.b)({setDebugPaneSize:r.Z,setDecorations:r.ab,showLogs:r.rb,toggleDebugPane:r.ub,toggleNavbar:r.vb},e)}))(o.a)},1689:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var i=n(4),a=n(547),r=n(37),o=n(1690),s=n(856),l=n(1695),c=n(1697),p=n(1706),d=n(1709);n(1966);class u extends i.PureComponent{constructor(e){super(e),this.state={header:"",maxRange:0,range:0},this.handleChange=this.handleChange.bind(this),this.getContextViewer=this.getContextViewer.bind(this)}componentDidMount(){this.props.logs&&this.props.showLogs(!0)}onClickHandler(t){const n=this.props.editorRef,i=this.props.compiledEditorRef,a=this.props.editorFocus===r.d.SpecEditor?n:i,o=a.getModel().findMatches(t,!0,!0,!0,r.k,!0);a&&a.deltaDecorations(this.props.decorations,[]);const s=a.deltaDecorations([],o.map(e=>({options:{inlineClassName:"myInlineDecoration"},range:e.range})));this.props.setDecorations(s),o[0]&&(a.revealRangeInCenter(o[0].range),a.focus(),e(()=>{document.activeElement.blur()}))}handleChange(e){this.props.setDebugPaneSize(e),(e>r.f.MinPaneSize&&!this.props.debugPane||e===r.f.MinPaneSize&&this.props.debugPane)&&this.props.toggleDebugPane()}componentDidUpdate(){this.props.debugPaneSize===r.f.MinPaneSize&&this.props.setDebugPaneSize(r.f.DebugPaneSize),this.props.error&&this.props.showLogs(!0)}getContextViewer(){if(!this.props.debugPane)return null;if(!this.props.view)return null;switch(this.props.navItem){case r.h.DataViewer:return i.createElement(o.a,{onClickHandler:e=>this.onClickHandler(e)});case r.h.SignalViewer:return i.createElement(p.a,{onClickHandler:e=>this.onClickHandler(e)});default:return null}}render(){const e=this.refs.debugPane;e&&(e.pane2.style.height=this.props.debugPane?(this.props.debugPaneSize||.4*window.innerHeight)+"px":r.f.MinPaneSize+"px");const t=i.createElement("div",{className:"chart-container"},i.createElement(s.a,null,i.createElement(c.a,null)));return i.createElement(a.a,{ref:"debugPane",split:"horizontal",primary:"second",minSize:r.f.MinPaneSize,defaultSize:this.props.debugPane?this.props.debugPaneSize:r.f.MinPaneSize,onChange:this.handleChange,pane1Style:{minHeight:`${r.f.MinPaneSize}px`},paneStyle:{display:"flex"},onDragStarted:()=>{this.props.navItem===r.h.Logs&&this.props.showLogs(!0)},onDragFinished:()=>{this.props.debugPaneSize===r.f.MinPaneSize&&this.props.setDebugPaneSize(r.f.DebugPaneSize)}},t,i.createElement("div",{className:"debug-pane"},i.createElement(d.a,null),this.props.error||this.props.logs&&this.props.navItem===r.h.Logs?i.createElement(l.a,null):this.getContextViewer()))}}}).call(this,n(1290).setImmediate)},1690:function(e,t,n){"use strict";var i=n(83),a=n(1691);t.a=Object(i.b)((function(e){return{editorRef:e.editorRef,view:e.view}}))(a.a)},1691:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(4),a=n(1692),r=n.n(a),o=n(426),s=n(123),l=n(856),c=n(1694);n(1946);const p={currentPage:0,selectedData:""},d=50;class u extends i.PureComponent{constructor(e){super(e),this.state=p,this.handleChange=this.handleChange.bind(this),this.handlePageChange=this.handlePageChange.bind(this),this.debouncedDataChanged=Object(s.debounce)(100,()=>{this.forceUpdate()})}handleChange(e){this.setState({selectedData:e.value,currentPage:0})}handlePageChange(e){const t=e.selected;this.setState({currentPage:t})}getDatasets(){return Object.keys(this.props.view.getState({data:s.truthy,signals:s.falsy,recurse:!0}).data)}setDefaultDataset(){const e=this.getDatasets();e.length&&this.setState({currentPage:0,selectedData:e[e.length>1?1:0]})}componentDidMount(){this.setDefaultDataset()}componentWillUnmount(){this.state.selectedData&&this.props.view.removeDataListener(this.state.selectedData,this.debouncedDataChanged)}componentDidUpdate(e,t){if(this.props.view===e.view)""===this.state.selectedData?this.setDefaultDataset():this.state.selectedData!==t.selectedData&&(t.selectedData&&this.props.view.removeDataListener(t.selectedData,this.debouncedDataChanged),this.props.view.addDataListener(this.state.selectedData,this.debouncedDataChanged));else{-1===this.getDatasets().indexOf(this.state.selectedData)?this.setState(p):this.props.view.addDataListener(this.state.selectedData,this.debouncedDataChanged)}}render(){const e=this.getDatasets();if(0===e.length)return i.createElement("div",{className:"data-viewer"},"Spec has no data");e.push(e.shift());let t,n=this.state.selectedData;e.indexOf(n)<0&&(n=e[0]);const a=this.props.view.data(n)||[],s=Math.ceil(a.length/d);s>1&&(t=i.createElement(r.a,{previousLabel:"<",nextLabel:">",breakClassName:"break",pageCount:s,marginPagesDisplayed:1,pageRangeDisplayed:3,onPageChange:this.handlePageChange,containerClassName:"pagination",activeClassName:"active"}));const p=d*this.state.currentPage,u=p+d,g=a.slice(p,u),h=a.length?i.createElement(c.a,{onClickHandler:e=>this.props.onClickHandler(e),header:Object.keys(a[0]),data:g}):i.createElement("span",{className:"error"},"The table is empty.");return i.createElement("div",{className:"data-viewer"},i.createElement("div",{className:"data-viewer-header"},i.createElement(o.a,{className:"data-dropdown",value:{label:n},onChange:this.handleChange,options:e.map(e=>({label:e,value:e})),clearable:!1,searchable:!1}),i.createElement("div",{className:"pagination-wrapper"},t)),i.createElement("div",{className:"data-table"},i.createElement(l.a,null,h)))}}},1693:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(4);n(1942);class a extends i.PureComponent{componentDidCatch(e,t){this.props.logError(new Error(e))}render(){return this.props.error?i.createElement("div",{id:"error-indicator",onClick:e=>this.props.toggleDebugPane()},this.props.error.message):this.props.children}}},1694:function(e,t,n){"use strict";var i=n(857);t.a=i.a},1695:function(e,t,n){"use strict";var i=n(83),a=n(1696);t.a=Object(i.b)((function(e){return{error:e.error,warningsLogger:e.warningsLogger}}))(a.a)},1696:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(1948);var i=n(4);class a extends i.PureComponent{render(){const e=[];return this.props.error&&e.push(i.createElement("li",{key:0},i.createElement("span",{className:"error"},"[Error] "),this.props.error.message)),this.props.warningsLogger.warns.forEach((t,n)=>{e.push(i.createElement("li",{key:n+1},i.createElement("span",{className:"warning"},"[Warning] "),t))}),0===e.length&&e.push(i.createElement("li",{key:"no error"},i.createElement("span",{className:"info"},"[Info] "),"No error or warnings")),i.createElement("div",{className:"error-pane"},i.createElement("ul",null,e))}}},1697:function(e,t,n){"use strict";var i=n(83),a=n(95),r=n(28),o=n(1698);t.a=Object(i.b)((function(e){return{baseURL:e.baseURL,config:e.config,editorString:e.editorString,hoverEnable:e.hoverEnable,logLevel:e.logLevel,mode:e.mode,renderer:e.renderer,tooltipEnable:e.tooltipEnable,vegaLiteSpec:e.vegaLiteSpec,vegaSpec:e.vegaSpec,view:e.view}}),(function(e){return Object(a.b)({setView:r.qb},e)}))(o.a)},1698:function(e,t,n){"use strict";var i=n(45),a=n(4),r=n(2036),o=n(2037),s=n(1060),l=n(121),c=n(1699),p=n.n(c),d=n(123),u=n(5),g=n(548),h=n(37),m=n(1700);n(1962);Object(m.a)(d.projection);const b={fullscreen:!1};class f extends a.PureComponent{constructor(e){super(e),this.state=b,this.handleKeydown=this.handleKeydown.bind(this),this.onOpenPortal=this.onOpenPortal.bind(this),this.onClosePortal=this.onClosePortal.bind(this)}onOpenPortal(){const e=f.pathname;"/"!==e&&"/edited"!==e&&this.props.history.push(e+"/view")}onClosePortal(){let e=f.pathname;"/"!==(e=e.split("/").filter(e=>"view"!==e).join("/"))&&"/edited"!==e&&this.props.history.push(e)}handleKeydown(e){e.keyCode===h.e.ESCAPE&&this.state.fullscreen&&this.setState({fullscreen:!1},this.onClosePortal)}initView(){let e;e=this.props.mode===h.g.VegaLite?d.parse(this.props.vegaSpec):d.parse(this.props.vegaSpec,this.props.config);const t=d.loader(),n=t.load.bind(t);t.load=(e,t)=>Object(i.a)(this,void 0,void 0,(function*(){try{return t?yield n(e,Object.assign(Object.assign({},t),{baseURL:this.props.baseURL})):yield n(e,{baseURL:this.props.baseURL})}catch(i){return yield n(e,t)}})),this.props.view&&this.props.view.finalize();const a="boolean"==typeof this.props.hoverEnable?this.props.hoverEnable:this.props.mode===h.g.Vega,r=new d.View(e,{hover:a,loader:t,logLevel:d[this.props.logLevel]}).hover();window.VEGA_DEBUG.view=r,this.props.tooltipEnable&&Object(g.a)(r),this.props.setView(r)}renderVega(){const e=this.state.fullscreen?this.refs.fchart:this.refs.chart;e.style.width=e.getBoundingClientRect().width+"px",f.pathname=window.location.hash.split("#")[1],e.style.width="auto",this.props.view&&this.props.view.renderer(this.props.renderer).initialize(e).runAsync()}componentDidMount(){this.unlisten=this.props.history.listen(e=>{e&&e.pathname.endsWith("view")?this.setState({fullscreen:!0}):this.setState({fullscreen:!1})}),this.initView(),this.renderVega(),document.addEventListener("keydown",e=>{122===e.keyCode&&(e.ctrlKey||e.metaKey)&&this.setState(e=>Object.assign(Object.assign({},e),{fullscreen:!e.fullscreen}))}),document.addEventListener("keydown",this.handleKeydown);const e=f.pathname.split("/");"view"===e[e.length-1]&&this.setState({fullscreen:!0})}componentDidUpdate(e){Object(u.d)(e.vegaSpec,this.props.vegaSpec)&&Object(u.d)(e.vegaLiteSpec,this.props.vegaLiteSpec)&&e.baseURL===this.props.baseURL&&Object(u.d)(e.config,this.props.config)&&Object(u.d)(e.logLevel,this.props.logLevel)&&Object(u.d)(e.mode,this.props.mode)&&Object(u.d)(e.hoverEnable,this.props.hoverEnable)&&Object(u.d)(e.tooltipEnable,this.props.tooltipEnable)||this.initView(),this.renderVega()}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeydown),this.unlisten()}render(){return a.createElement("div",null,a.createElement("div",{className:"chart"},a.createElement("div",{ref:"chart"})),a.createElement(r.a,{"data-tip":"Fullscreen",className:"fullscreen-open",onClick:()=>{this.setState({fullscreen:!0},this.onOpenPortal)}}),this.state.fullscreen&&a.createElement(s.a,null,a.createElement("div",{className:"chart fullscreen-chart"},a.createElement("div",{ref:"fchart"}),a.createElement("button",{className:"fullscreen-close",onClick:()=>{this.setState({fullscreen:!1},this.onClosePortal)}},a.createElement(o.a,{size:16}),a.createElement("span",null,"Edit")))),a.createElement(p.a,{place:"left",type:"dark",effect:"solid"}))}}t.a=Object(l.f)(f)},1700:function(e,t,n){"use strict";var i=n(1701);t.a=function(e){for(const t of["airy","aitoff","armadillo","august","baker","berghaus","bertin1953","boggs","bonne","bottomley","bromley","chamberlinAfrica","collignon","craig","craster","cylindricalEqualArea","cylindricalStereographic","eckert1","eckert2","eckert3","eckert4","eckert5","eckert6","eisenlohr","fahey","foucaut","gilbert","gingery","ginzburg4","ginzburg5","ginzburg6","ginzburg8","ginzburg9","gringorten","guyou","hammer","hammerRetroazimuthal","healpix","hill","homolosine","kavrayskiy7","lagrange","larrivee","laskowski","littrow","loximuthal","miller","modifiedStereographicAlaska","modifiedStereographicGs48","modifiedStereographicGs50","modifiedStereographicMiller","modifiedStereographicLee","mollweide","mtFlatPolarParabolic","mtFlatPolarQuartic","mtFlatPolarSinusoidal","naturalEarth1","naturalEarth2","nellHammer","patterson","polyconic","rectangularPolyconic","robinson","satellite","sinusoidal","sinuMollweide","times","twoPointAzimuthalUsa","twoPointEquidistantUsa","vanDerGrinten","vanDerGrinten2","vanDerGrinten3","vanDerGrinten4","wagner4","wagner6","wagner7","wiechel","winkel3","interruptedHomolosine","interruptedSinusoidal","interruptedBoggs","interruptedSinuMollweide","interruptedMollweide","interruptedMollweideHemispheres","polyhedralButterfly","polyhedralCollignon","polyhedralWaterman","gringortenQuincuncial","peirceQuincuncial"])e(t,i["geo"+t[0].toUpperCase()+t.slice(1)])}},1706:function(e,t,n){"use strict";var i=n(83),a=n(1707);t.a=Object(i.b)((function(e){return{view:e.view}}))(a.a)},1707:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(4),a=n.n(i),r=n(123),o=(n(1964),n(1708));class s extends a.a.PureComponent{constructor(e){super(e)}getSignals(){return Object.keys(this.props.view.getState({data:r.falsy,signals:r.truthy,recurse:!0}).signals)}render(){return a.a.createElement("div",{className:"signal-viewer"},a.a.createElement("table",{className:"editor-table"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Signal"),a.a.createElement("th",null,"Value"))),a.a.createElement("tbody",null,this.getSignals().map(e=>a.a.createElement(o.a,{onClickHandler:e=>this.props.onClickHandler(e),key:e,signal:e,view:this.props.view})))))}}},1708:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(4),a=n.n(i),r=n(1063),o=n(123),s=n(857);class l extends a.a.PureComponent{constructor(e){super(e),this.state={signalValue:this.props.view.signal(this.props.signal)},this.signalHandler=this.signalHandler.bind(this)}componentDidUpdate(e){e.view!==this.props.view&&(e.view.removeSignalListener(e.signal,this.signalHandler),this.props.view.addSignalListener(this.props.signal,this.signalHandler),this.setState({signalValue:this.props.view.signal(this.props.signal)}))}componentDidMount(){this.props.view.addSignalListener(this.props.signal,this.signalHandler)}componentWillUnmount(){this.props.view.removeSignalListener(this.props.signal,this.signalHandler)}render(){let e=!1,t="";if(Object(o.isDate)(this.state.signalValue))e=!1,t=new Date(this.state.signalValue).toUTCString();else{const n=Object(s.b)(this.state.signalValue);void 0!==n?(e=n.tooLong,t=n.formatted):(e=!1,t="undefined")}return e?a.a.createElement("tr",null,a.a.createElement("td",{onClick:()=>this.props.onClickHandler&&this.props.onClickHandler(this.props.signal)},this.props.signal,a.a.createElement(r.a,null)),a.a.createElement("td",{title:"The field is too large to be displayed. Please use the view API (see JS console)."},a.a.createElement("span",null,"(...)"))):a.a.createElement("tr",null,a.a.createElement("td",{onClick:()=>this.props.onClickHandler&&this.props.onClickHandler(this.props.signal)},this.props.signal,a.a.createElement(r.a,null)),a.a.createElement("td",{key:this.props.signal},t))}signalHandler(e,t){this.setState({signalValue:t})}}},1709:function(e,t,n){"use strict";var i=n(4),a=n(1722),r=n(1723),o=n(83),s=n(121),l=n(95),c=n(28),p=n(119);t.a=Object(s.f)(Object(o.b)((function(e,t){return{debugPane:e.debugPane,error:e.error,logs:e.logs,navItem:e.navItem,warningsCount:e.warningsCount,warningsLogger:e.warningsLogger}}),(function(e){return Object(l.b)({showLogs:c.rb,toggleDebugPane:c.ub,toggleNavbar:c.vb},e)}))(class extends i.PureComponent{componentDidMount(){(this.props.logs||this.props.navItem===p.i.Logs)&&this.props.showLogs(!0)}render(){return i.createElement("div",{className:"pane-header",onClick:e=>this.props.toggleDebugPane()},i.createElement("ul",{className:"tabs-nav"},i.createElement("li",{className:this.props.error||this.props.logs&&this.props.navItem===p.i.Logs?"active-tab":void 0,onClick:e=>{this.props.debugPane&&e.stopPropagation(),this.props.showLogs(!0),this.props.toggleNavbar(p.i.Logs)}},i.createElement("span",{className:"logs-text"},"Logs"),this.props.error?i.createElement("span",{className:"error"},"(Error)"):this.props.warningsCount>0?i.createElement("span",{className:"warnings-count"},"(",this.props.warningsCount,")"):""),null===this.props.error&&i.createElement("li",{className:this.props.navItem===p.i.DataViewer?"active-tab":void 0,onClick:e=>{this.props.debugPane&&e.stopPropagation(),this.props.showLogs(!1),this.props.toggleNavbar(p.i.DataViewer)}},"Data Viewer"),null===this.props.error&&i.createElement("li",{className:this.props.navItem===p.i.SignalViewer?"active-tab":void 0,onClick:e=>{this.props.debugPane&&e.stopPropagation(),this.props.showLogs(!1),this.props.toggleNavbar(p.i.SignalViewer)}},"Signal Viewer")),this.props.debugPane?i.createElement(a.a,null):i.createElement(r.a,null))}}))},1710:function(e,t,n){"use strict";var i=n(4),a=n(121);n(1293);t.a=Object(a.f)(class extends i.PureComponent{handleClick(){window.localStorage.clear(),window.location.href=window.location.pathname}render(){return i.createElement("div",{className:"reset"},i.createElement("p",null,"Reset the Vega Editor by clearing the local storage. You can run this if the editor is struck in a loop or otherwise not functioning correctly. This operation cannot be undone."),i.createElement("button",{onClick:this.handleClick.bind(this),type:"button"},"Reset Vega Editor"))}})},1711:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(95),a=n(1712),r=n.n(a),o=n(1713),s=n(1714),l=n(596);function c(e=l.a){const t=Object(i.a)(o.a),n=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.c,a=Object.keys(l.a).filter(e=>"editorRef"!==e&&"compiledEditorRef"!==e&&"view"!==e&&"isAuthenticated"!==e),c=n(t,r()(a));return Object(i.d)(s.a,e,c)}},1714:function(e,t,n){"use strict";var i=n(164),a=n.n(i),r=n(454),o=n(5),s=n(28),l=n(37),c=n(564),p=n(1061);function d(e,t){let n=t.match(/(position\s)(\d+)/);if(null===n)return t;if(n=n[2],!isNaN(n)){let i=1,a=0;for(;a<n&&e.indexOf("\n",a)<n&&e.indexOf("\n",a)>-1;){const t=e.indexOf("\n",a);i+=1,a=t+1}return`${t} and line ${i}`}}function u(e,t,n={}){const i=new c.a;try{const e=JSON.parse(t.spec);Object(p.a)(e,i),n=Object.assign(Object.assign({},n),{vegaSpec:e})}catch(e){const i=d(t.spec,e.message);console.warn(e),n=Object.assign(Object.assign({},n),{error:{message:i}})}const a=Object.assign({},i);return Object.assign(Object.assign(Object.assign({},e),{editorString:t.spec,error:null,gist:null,mode:l.g.Vega,selectedExample:null,warningsCount:a.warns.length,warningsLogger:i}),n)}function g(e,t,n={}){const i=new c.a;let a,o;try{switch(t.type){case s.k:a=e.editorString,o=t.configEditorString;break;case s.D:case s.q:case s.L:a=t.spec,o=e.configEditorString}const l=JSON.parse(a),c={config:JSON.parse(o),logger:i};Object(p.b)(l,i);const d="{}"!==a?r.compile(l,c).spec:{};n=Object.assign(Object.assign({},n),{vegaLiteSpec:l,vegaSpec:d})}catch(e){const t=d(a,e.message);console.warn(e),n=Object.assign(Object.assign({},n),{error:{message:t}})}const u=Object.assign({},i);return Object.assign(Object.assign(Object.assign({},e),{editorString:a,error:null,gist:null,mode:l.g.VegaLite,selectedExample:null,warningsCount:u.warns.length,warningsLogger:i}),n)}t.a=(e=l.c,t)=>{switch(t.type){case s.u:return Object.assign(Object.assign({},e),{baseURL:null,compiledVegaSpec:!1,editorString:"{}",export:!1,gist:null,mode:t.mode,parse:!1,selectedExample:null,vegaLiteSpec:null,vegaSpec:{},view:null,warningsCount:0,warningsLogger:new c.a});case s.v:return Object.assign(Object.assign({},e),{mode:t.mode});case s.x:return Object.assign(Object.assign({},e),{lastPosition:t.position});case s.f:return Object.assign(Object.assign({},e),{parse:t.parse});case s.C:return u(e,t,{selectedExample:t.example});case s.M:return u(e,t);case s.r:return u(e,t,{gist:t.gist});case s.D:return g(e,t,{selectedExample:t.example});case s.L:return g(e,t);case s.q:return g(e,t,{gist:t.gist});case s.G:return Object.assign(Object.assign({},e),{manualParse:!e.manualParse,parse:e.manualParse});case s.H:return Object.assign(Object.assign({},e),{compiledVegaSpec:!e.compiledVegaSpec});case s.I:return Object.assign(Object.assign({},e),{debugPane:!e.debugPane});case s.d:return Object.assign(Object.assign({},e),{error:t.error});case s.K:return Object.assign(Object.assign({},e),{editorString:t.editorString});case s.b:return Object.assign(Object.assign({},e),{export:t.export});case s.w:return Object.assign(Object.assign({},e),{renderer:t.renderer});case s.h:return Object.assign(Object.assign({},e),{baseURL:t.baseURL});case s.E:return Object.assign(Object.assign({},e),{view:t.view});case s.m:return Object.assign(Object.assign({},e),{debugPaneSize:t.debugPaneSize});case s.F:return Object.assign(Object.assign({},e),{logs:t.logs});case s.j:return Object.assign(Object.assign({},e),{compiledVegaPaneSize:t.compiledVegaPaneSize});case s.J:return Object.assign(Object.assign({},e),{navItem:t.navItem});case s.y:return Object.assign(Object.assign({},e),{settings:t.settings});case s.k:return e.mode===l.g.VegaLite?g(e,t,{configEditorString:t.configEditorString}):function(e,t,n={}){let i;try{i=JSON.parse(t.configEditorString)}catch(e){const i=d(t.configEditorString,e.message);console.warn(e),n=Object.assign(Object.assign({},n),{error:{message:i}})}return Object.assign(Object.assign(Object.assign({},e),{config:i,error:null}),n)}(e,t);case s.A:return Object.assign(Object.assign({},e),{themeName:t.themeName});case s.z:return Object.assign(Object.assign({},e),{sidePaneItem:t.sidePaneItem});case s.l:return Object.assign(Object.assign({},e),{configEditorString:t.configEditorString});case s.p:return Object.assign(Object.assign({},e),{editorRef:t.editorRef});case s.t:return Object.assign(Object.assign({},e),{logLevel:t.logLevel});case s.s:return Object.assign(Object.assign({},e),{hoverEnable:t.hoverEnable});case s.B:return Object.assign(Object.assign({},e),{tooltipEnable:t.tooltipEnable});case s.a:return Object.assign(Object.assign({},e),{config:{},configEditorString:"{}",themeName:"custom"});case s.e:return function(e){if("{}"===e.configEditorString)return Object.assign(Object.assign({},e),{parse:!0});let t,n;try{return t=JSON.parse(e.editorString),n=JSON.parse(e.configEditorString),t.config?t.config=Object(o.s)(n,t.config):t.config=n,Object.assign(Object.assign({},e),{config:{},configEditorString:"{}",editorString:a()(t),parse:!0,themeName:"custom"})}catch(t){return console.warn(t),Object.assign(Object.assign({},e),{parse:!0})}}(e);case s.c:return function(e){let t,n;try{return t=JSON.parse(e.editorString),n=JSON.parse(e.configEditorString),t.config&&(n=Object(o.s)(n,t.config),delete t.config),Object.assign(Object.assign({},e),{configEditorString:a()(n),editorString:a()(t),parse:!0})}catch(t){return console.warn(t),Object.assign(Object.assign({},e),{parse:!0})}}(e);case s.n:return Object.assign(Object.assign({},e),{decorations:t.decoration});case s.i:return Object.assign(Object.assign({},e),{compiledEditorRef:t.editorRef});case s.o:return Object.assign(Object.assign({},e),{editorFocus:t.editorFocus});case s.g:return Object.assign(Object.assign({},e),{handle:t.handle,isAuthenticated:t.isAuthenticated,name:t.name,profilePicUrl:t.profilePicUrl});default:return e}}},1912:function(e,t,n){(e.exports=n(40)(!1)).push([e.i,'/* Roboto latin */\n@font-face {\n  font-family: "Roboto";\n  font-style: normal;\n  font-weight: 400;\n  src: local("Roboto"), local("Roboto-Regular"),\n    url(https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxKKTU1Kg.woff2) format("woff2");\n  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC,\n    U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;\n}\n\n:root {\n  /* Root font size*/\n  font-size: 16px;\n\n  --base-font-family: "Roboto", "Helvetica", "Arial", sans-serif;\n\n  --base-line-height: 1;\n\n  --spacing-unit: 5px;\n\n  /* Colors */\n  --light-color: #dedede;\n  --dark-color: #24292e;\n  --primary-color: #f5f5f5;\n  --primary-light-color: #ffffff;\n  --primary-dark-color: #d5d5d5;\n  --brand-color: #654ff0;\n  --error-color: #f44336;\n  --warning-color: #ffc107;\n}\n\nbody,\nhtml {\n  padding: 0;\n  margin: 0;\n  font-family: var(--base-font-family);\n  line-height: var(--base-line-height);\n  overflow: hidden;\n}\n\n* {\n  box-sizing: border-box;\n}\n\n.Resizer {\n  background: #000;\n  opacity: 0.2;\n  box-sizing: border-box;\n  background-clip: padding-box;\n}\n\n.Resizer:hover {\n  transition: all 2s ease;\n}\n\n.Resizer.horizontal {\n  height: 11px;\n  margin: -5px 0;\n  border-top: 5px solid rgba(255, 255, 255, 0);\n  border-bottom: 5px solid rgba(255, 255, 255, 0);\n  cursor: row-resize;\n  width: 100%;\n}\n\n.Resizer.horizontal:hover {\n  border-top: 5px solid rgba(0, 0, 0, 0.5);\n  border-bottom: 5px solid rgba(0, 0, 0, 0.5);\n}\n\n.Resizer.vertical {\n  width: 11px;\n  margin: 0 -5px;\n  border-left: 5px solid rgba(255, 255, 255, 0);\n  border-right: 5px solid rgba(255, 255, 255, 0);\n  cursor: col-resize;\n}\n\n.Resizer.vertical:hover {\n  border-left: 5px solid rgba(0, 0, 0, 0.5);\n  border-right: 5px solid rgba(0, 0, 0, 0.5);\n}\n\n.Resizer.disabled {\n  cursor: not-allowed;\n}\n\n.Resizer.disabled:hover {\n  border-color: transparent;\n}\n\n.main-pane > .Pane1 .Pane,\n.main-pane > .Pane1 .SplitPane,\n.react-monaco-editor-container {\n  /* Need to override overflow because we can\'t set it on the pane. */\n  overflow: visible !important;\n}\n\n.hide {\n  display: none;\n}\n\nbutton:focus {\n  outline: none;\n}\n\n/* Scrollbar Styles */\n::-webkit-scrollbar {\n  width: 7px; /* for vertical scrollbars */\n  height: 7px; /* for horizontal scrollbars */\n}\n\n::-webkit-scrollbar-track {\n  background: var(--primary-color);\n}\n\n::-webkit-scrollbar-thumb {\n  background: var(--primary-dark-color);\n  border-radius: 8px;\n}\n\n.reset {\n  width: 50%;\n  min-width: 300px;\n  max-width: 600px;\n\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.reset button {\n  padding: 10px;\n  font-size: 1.1em;\n}\n\n.main-panel {\n  position: relative;\n  display: flex;\n  flex-direction: row;\n}\n\np {\n  line-height: 1.3;\n}\n',""])},1913:function(e,t,n){var i=n(1914);"string"==typeof i&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1};n(41)(i,a);i.locals&&(e.exports=i.locals)},1914:function(e,t,n){(e.exports=n(40)(!1)).push([e.i,".export-buttons {\n  display: flex;\n  flex-wrap: wrap;\n  margin-left: -1%;\n}\n\n.export-button-container {\n  min-width: 280px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  display: inline-flex;\n  align-items: center;\n  justify-content: space-between;\n  flex-direction: column;\n  width: 30%;\n  margin: 1%;\n  padding: 10px 20px;\n  font-size: 0.9em;\n}\n.export-button {\n  width: 100%;\n  background: white;\n  border: 1px solid #adababa8;\n  background: #f5f5f5;\n  border-radius: 4px;\n  cursor: pointer;\n  padding: 10px 20px;\n  margin: 1%;\n  margin-top: 25px;\n}\n\n.export-button:hover {\n  background: #ddd;\n}\n\n.export-button-container .header-text {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.export-button-container span {\n  padding-left: 8px;\n  font-size: 1.6em;\n  line-height: 50px;\n}\n\n.export-button-container p {\n  line-height: 1.2;\n  text-align: left;\n  width: 100%;\n  margin: 0.2em 0 0 0;\n}\n\n.export-button-container p strong {\n  color: firebrick;\n}\n\n.export-button svg {\n  width: 30px;\n  height: 30px;\n}\n\n.export-button.disabled {\n  cursor: wait;\n  background: #eee;\n  -webkit-filter: grayscale(80%);\n          filter: grayscale(80%);\n  opacity: 0.8;\n}\n\n.input-container {\n  width: 100%;\n  margin-top: 10px;\n  display: flex;\n  justify-content: flex-start;\n}\n\n.vl-label {\n  margin-left: 1em;\n}\n\n.user-notes p {\n  padding: 20px 0;\n}\n\n.download {\n  margin-top: 9px;\n}\n",""])},1916:function(e,t,n){var i=n(1917);"string"==typeof i&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1};n(41)(i,a);i.locals&&(e.exports=i.locals)},1917:function(e,t,n){(e.exports=n(40)(!1)).push([e.i,'.gist-split {\n  display: flex;\n}\n\n.personal-gist {\n  flex: 1;\n}\n\n.load-gist {\n  flex: 1;\n}\n\n.privacy-toggle {\n  display: flex;\n  align-items: center;\n  margin-bottom: 16px;\n}\n\n.privacy-toggle > input {\n  margin: 0 4px 0 0;\n}\n\n.gist-container {\n  margin-bottom: 16px;\n}\n\n.personal-gist-description {\n  display: flex;\n  align-items: center;\n}\n\n.text {\n  margin-left: 8px;\n  font-weight: bold;\n}\n\n.play-down {\n  color: #999999;\n}\n\n.personal-gist-files {\n  display: flex;\n  flex-direction: column;\n}\n\n.file {\n  display: flex;\n}\n\n.arrow {\n  margin: 4px;\n  width: 15px;\n  border-bottom: 1px solid black;\n  border-left: 1px solid black;\n}\n\n.filename {\n  font-family: monospace;\n  cursor: pointer;\n  margin-top: 4px;\n  color: #4f4f4f;\n}\n\n.filename:hover {\n  color: #000000;\n}\n\n.gist-button > button {\n  background: rgb(100, 80, 150);\n  color: white;\n  border: 1px solid #a9a9a9;\n  cursor: pointer;\n  height: 30px;\n  outline: none;\n  font-size: 16px;\n  padding: 0 20px;\n}\n\n.gist-button > button:hover {\n  background: rgb(92, 64, 141);\n  color: white;\n}\n\n.gist-text {\n  margin-top: 30px;\n  font-size: 12px;\n  font-style: italic;\n}\n\n.gist-url {\n  font-size: 12px;\n  font-style: italic;\n  color: rgb(6, 69, 173);\n}\n\n.gist-input-container {\n  margin-top: 20px;\n}\n\n.gist-optional:after {\n  display: table;\n  content: "";\n  clear: both;\n}\n\n.gist-optional-input-container {\n  box-sizing: border-box;\n}\n\n.gist-input-container input[type="radio"] {\n  margin-left: 10px;\n}\n\n.gist-input-container input:checked + label {\n  text-decoration: underline;\n}\n\n.loader-container {\n  display: flex;\n  justify-content: center;\n  align-items: flex-end;\n  height: 30%;\n  font-size: 20px;\n}\n\n.gist-input {\n  display: block;\n  width: 100%;\n  resize: none;\n  font-size: 14px;\n  padding: 5px;\n  margin-top: 3px;\n}\n\n.error-message {\n  font-size: 12px;\n  height: 5 px;\n  color: var(--error-color);\n  margin-top: 3px;\n  margin-bottom: 5px;\n  float: right;\n}\n\n.preview-container {\n  display: flex;\n  flex-direction: column;\n}\n\n.preview-image-container {\n  display: flex;\n  align-items: center;\n  flex: 1;\n}\n\n.preview-text {\n  margin-right: 10px;\n}\n\n.preview-image-wrapper {\n  height: 100px;\n  overflow: hidden;\n}\n\n.preview-image-wrapper > img {\n  position: relative;\n  width: 150px;\n  transition: transform 2s;\n}\n\n.preview-error-message-container {\n  display: flex;\n  flex-direction: column;\n}\n\n.preview-error-message {\n  display: flex;\n  align-items: center;\n  font-size: 12px;\n  color: var(--error-color);\n}\n\n.preview-error-icon {\n  margin-right: 4px !important;\n  width: 16px;\n}\n\n.preview-error-fix {\n  font-size: 12px;\n}\n',""])},1918:function(e,t,n){var i=n(1919);"string"==typeof i&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1};n(41)(i,a);i.locals&&(e.exports=i.locals)},1919:function(e,t,n){(e.exports=n(40)(!1)).push([e.i,".help-modal ul {\n  padding-left: 0;\n}\n\n.help-modal li {\n  list-style: none;\n}\n\n.modal-header {\n  margin: 10px 0 20px 0;\n}\n\n.help-modal h2 {\n  margin: 26px 0 14px 0;\n}\n\n.help-modal .doc-link {\n  display: block;\n  margin-bottom: 8px;\n}\n\n.keyboard-shortcuts {\n  margin-bottom: 1.5em;\n}\n\n.keyboard-shortcuts li {\n  margin-bottom: 1em;\n}\n\n.report-button {\n  position: absolute;\n  right: 20px;\n  bottom: 20px;\n  color: #444444;\n  background: #f3f3f3;\n  border: 1px #dadada solid;\n  padding: 5px 10px;\n  border-radius: 2px;\n  font-weight: bold;\n  font-size: 9pt;\n  display: flex;\n  align-items: center;\n}\n\n.report-button:hover {\n  border: 1px #c6c6c6 solid;\n  box-shadow: 1px 1px 1px #eaeaea;\n  color: #333333;\n  background: #f7f7f7;\n}\n\n.report-button:active {\n  box-shadow: inset 1px 1px 1px #dfdfdf;\n}\n\nkbd {\n  background-color: #fafbfc;\n  border: 1px #c6cbd1 solid;\n  border-bottom-color: #959da5;\n  border-radius: 3px;\n  box-shadow: inset 0 -1px 0 #959da5;\n  color: #444d56;\n  line-height: 10px;\n  padding: 2px 5px;\n  vertical-align: middle;\n  margin: 7px;\n}\n\n.doc-image {\n  height: 20px;\n  margin: 0px 6px 0px 2px;\n  vertical-align: sub;\n}\n\n.version-viewer {\n  display: flex;\n  flex-direction: row;\n  font-size: small;\n  color: #777;\n  margin: 2em 0;\n}\n\n.version-viewer div {\n  margin-right: 1em;\n}\n",""])},1920:function(e){e.exports=JSON.parse('{"name":"vega-editor","version":"0.45.1","homepage":"http://vega.github.io/editor","private":true,"devDependencies":{"autoprefixer":"^9.6.1","awesome-typescript-loader":"^5.2.1","css-loader":"^3.2.0","gh-pages":"^2.1.1","html-webpack-plugin":"^3.2.0","husky":"^3.0.5","lint-staged":"^9.2.5","monaco-editor-webpack-plugin":"^1.7.0","postcss-loader":"^3.0.0","prettier":"^1.18.2","style-loader":"^1.0.0","typescript":"~3.6.3","vega-lite-dev-config":"^0.2.5","webpack":"4.40.2","webpack-bundle-analyzer":"^3.5.0","webpack-cli":"^3.3.8","webpack-dev-server":"^3.8.0"},"dependencies":{"@types/react":"^16.9.2","@types/react-redux":"^7.1.2","@types/react-router-dom":"^4.3.5","ajv":"^6.10.2","d3-geo-projection":"^2.7.0","history":"^4.10.1","json-stringify-pretty-compact":"^2.0.0","lz-string":"^1.4.4","monaco-editor":"^0.17.0","prop-types":"^15.7.2","react":"^16.9.0","react-clipboard.js":"^2.0.16","react-dom":"^16.9.0","react-feather":"^2.0.3","react-ga":"2.6.0","react-monaco-editor":"^0.31.0","react-paginate":"^6.3.0","react-portal":"^4.2.0","react-redux":"^7.1.1","react-router-dom":"^5.0.1","react-select":"^3.0.4","react-split-pane":"^0.1.87","react-tooltip":"^3.11.1","redux":"^4.0.4","redux-localstorage":"^0.4.1","redux-thunk":"^2.3.0","tslib":"^1.10.0","vega-cli":"5.6.0","vega-datasets":"^1.25.0","vega-embed":"^5.1.2","vega-lite":"4.0.0-beta.2","vega-schema-url-parser":"^1.1.0","vega-themes":"^2.4.0","vega-tooltip":"^0.19.1"},"husky":{"hooks":{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,tsx}":["eslint --fix","git add"],"*.{js,jsx,ts,tsx,css,scss}":["prettier --write","git add"]},"beemo":{"module":"vega-lite-dev-config","drivers":["prettier","eslint"],"eslint":{"rules":{"react/no-deprecated":"warn","react/no-string-refs":"warn","no-alert":"off","@typescript-eslint/no-require-imports":"off","@typescript-eslint/no-var-requires":"off","react/no-find-dom-node":"warn","react/no-unescaped-entities":"off","@typescript-eslint/no-unused-vars":"warn","no-prototype-builtins":"warn"}}},"scripts":{"start":"webpack-dev-server --mode development --hot","start:production":"webpack-dev-server --mode production","build":"yarn clean && yarn vendor && webpack --mode production --progress","clean":"rm -rf dist public/spec public/data","postbuild":"rsync -r --ignore-existing public/* dist","generate-example-images":"./scripts/generate-example-images.sh","vendor":"./scripts/vendor.sh","prepare":"yarn vendor && beemo create-config --react","prettierbase":"beemo prettier \'{src,public}/**/*.{css,html}\'","eslintbase":"beemo eslint \'src/**/*.{ts,tsx}\' --react","format":"yarn eslintbase --fix && yarn prettierbase --write","lint":"yarn eslintbase && yarn prettierbase --check","predeploy":"yarn build","deploy":"gh-pages -d dist","analyze":"webpack --mode production --profile --json > stats.json && webpack-bundle-analyzer stats.json"}}')},1921:function(e,t,n){var i=n(1922);"string"==typeof i&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1};n(41)(i,a);i.locals&&(e.exports=i.locals)},1922:function(e,t,n){(e.exports=n(40)(!1)).push([e.i,'.header {\n  display: flex;\n  height: 60px;\n  justify-content: space-between;\n  border-bottom: solid 2px rgba(0, 0, 0, 0.2);\n}\n\n.header-button,\n.header a {\n  display: flex;\n  height: 100%;\n  align-items: center;\n  font-size: 14px;\n  cursor: pointer;\n  color: #000;\n  text-decoration: none;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  position: relative;\n  z-index: 10;\n  white-space: nowrap;\n  padding: 0px 17px;\n}\n\n.header-button:hover,\n.dark-background {\n  background: rgba(0, 0, 0, 0.08);\n}\n\n.header section > span {\n  display: flex;\n  align-items: center;\n  height: 100%;\n}\n\n.header-icon {\n  display: none;\n  margin: 0 5px 0 0;\n  width: 20px;\n}\n\n.header section {\n  display: flex;\n  align-items: center;\n}\n\n.modal-background {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: fixed;\n  background: rgba(0, 0, 0, 0.8);\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 15;\n}\n\n.modal {\n  position: relative;\n  background: white;\n  width: 80%;\n  align-self: flex-start;\n  margin-top: 6vh;\n}\n\n.modal-body {\n  padding: 30px;\n  max-height: 80vh;\n  overflow-y: auto;\n  z-index: 20;\n}\n\n.modal-body h1 {\n  font-size: 1.8em;\n}\n\n.modal-body h1:first-child {\n  margin-top: 0;\n}\n\n.close-button {\n  z-index: 1000;\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 10px;\n  border: none;\n  cursor: pointer;\n  background: rgba(255, 255, 255, 1);\n}\n\n.close-button:hover {\n  background: rgba(243, 240, 240, 1);\n}\n\n.close-button:focus {\n  outline: 0;\n}\n\n.button-groups button {\n  width: 120px;\n  font-size: 16px;\n  padding: 5px 10px;\n  background: white;\n  border: solid 1px black;\n  cursor: pointer;\n}\n\n.button-groups button.selected {\n  background: rgb(92, 64, 141);\n  color: white;\n}\n\n.button-groups button:first-of-type {\n  border-radius: 15px 0 0 15px;\n  border-right: none;\n}\n\n.button-groups button:last-of-type {\n  border-radius: 0 15px 15px 0;\n}\n\n.button-groups button:not(.selected):hover {\n  background: #f7f5f5;\n  color: black;\n}\n\n.button-groups button:focus {\n  outline: none;\n}\n\n.button-groups {\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  top: -16px;\n  z-index: 21;\n}\n\n.specType {\n  border-bottom: solid 1px #666;\n  clear: left;\n  padding-bottom: 2px;\n}\n\n.itemGroup {\n  margin-top: 20px;\n}\n\n.items {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n}\n\n.item {\n  padding: 12.5px;\n  cursor: pointer;\n  max-width: 120px;\n  text-align: center;\n  line-height: 12px;\n}\n\n.item .img {\n  background-repeat: no-repeat;\n  background-size: contain;\n  width: 95px;\n  height: 80px;\n  background-color: white;\n}\n\n.item .name {\n  margin-top: 3px;\n  padding-top: 5px;\n  border-top: solid 1px #666;\n  font-size: 12px;\n}\n\n.item:hover {\n  background: rgba(243, 240, 240, 0.63);\n}\n\n.mode-switcher-wrapper {\n  width: 125px;\n  margin: 0 8px;\n  font-size: 14px;\n}\n\n.run-button {\n  display: flex;\n  flex-direction: column;\n  width: 30px;\n  align-items: center;\n}\n\n/* Overriding default styles of React Select v2*/\n.mode-switcher__menu,\n.auto-run__menu {\n  box-shadow: none !important;\n  border: 1px solid #d9d9d9 !important;\n  border-top: 0 !important;\n}\n\n.mode-switcher__menu {\n  margin-top: 0 !important;\n}\n\n.auto-run__menu {\n  margin-top: 10px !important;\n  width: 80px !important;\n}\n\n.auto-run__option {\n  color: #000 !important;\n}\n\n.auto-run__control {\n  border: none !important;\n}\n\n.mode-switcher__control {\n  border-color: #d9d9d9 !important;\n}\n\n.mode-switcher__control--is-focused {\n  box-shadow: none !important;\n  border-bottom-right-radius: 0 !important;\n  border-bottom-left-radius: 0 !important;\n}\n\n.mode-switcher__single-value {\n  overflow: initial !important;\n}\n\n.auto-run__control--is-focused {\n  box-shadow: 0 0 0 1px transparent !important;\n}\n\n.auto-run__option--is-focused,\n.mode-switcher__option--is-focused {\n  background-color: #fff !important;\n}\n\n.auto-run__menu,\n.mode-switcher__menu {\n  border-top-right-radius: 0 !important;\n  border-top-left-radius: 0 !important;\n}\n\n.auto-run__option:hover,\n.mode-switcher__option:hover {\n  background-color: rgba(0, 0, 0, 0.08) !important;\n}\n\n.auto-run-wrapper .auto-run__control {\n  background: transparent !important;\n  border: none !important;\n}\n\n.auto-run-wrapper .auto-run__indicator {\n  position: relative;\n  z-index: 12;\n}\n\n.auto-run-wrapper .auto-run__indicator-separator {\n  width: 0px;\n}\n\n.auto-run-wrapper {\n  width: 85px;\n  right: 64px;\n  margin-right: -105px;\n  padding-right: 7px;\n}\n\n.split-button {\n  width: 80px;\n}\n\n.split-button > div:hover {\n  background: transparent;\n}\n\n.split-button:hover {\n  background: rgba(0, 0, 0, 0.08);\n}\n\n.parse-label {\n  padding: 3px 0;\n}\n\n.parse-mode {\n  text-align: center;\n  font-size: 10px;\n  color: #666;\n  padding: 3px 0;\n}\n\n.header-button .header-icon {\n  display: none;\n}\n\n.auth-button-container {\n  margin: 0 8px;\n}\n\n.sign-in {\n  font-size: 0.9em;\n  background: white;\n  color: black;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  cursor: pointer;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  display: inline-flex;\n  align-items: center;\n  padding: 6px;\n}\n\n.sign-in-text {\n  padding-right: 6px;\n}\n\n.profile-container {\n  display: flex;\n  align-items: center;\n  z-index: 10000000;\n  cursor: pointer;\n}\n\n.profile-img {\n  width: 35px;\n  border-radius: 50%;\n  margin-right: 5px;\n}\n\n.arrow-down {\n  width: 0;\n  height: 0;\n  border-radius: 10px;\n  border-left: 7px solid transparent;\n  border-right: 7px solid transparent;\n  border-top: 7px solid #5c5c5c;\n}\n\n.profile-menu {\n  position: fixed;\n  width: 130px;\n  background-color: white;\n  border: 1px solid #ccc;\n  top: 56px;\n  right: 6px;\n  z-index: 10;\n  border-radius: 3px;\n  cursor: default;\n}\n\n.profile-menu::before,\n.profile-menu::after {\n  position: absolute;\n  width: 0px;\n  height: 0px;\n  content: "";\n  bottom: 101px;\n  right: 31px;\n}\n\n.profile-menu::before {\n  border-top: 9px solid transparent;\n  border-left: 9px solid transparent;\n  border-right: 9px solid transparent;\n  border-bottom: 9px solid #ccc;\n  right: 29px;\n}\n\n.profile-menu::after {\n  border-top: 7px solid transparent;\n  border-left: 7px solid transparent;\n  border-right: 7px solid transparent;\n  border-bottom: 7px solid white;\n}\n\n.welcome {\n  font-size: 0.7em;\n  color: #6e6e6e;\n  margin: 13px 0 0 12px;\n}\n\n.whoami {\n  font-size: 0.9em;\n  padding: 12px 0 12px 12px;\n  border-bottom: 1px solid #ebebeb;\n}\n\n.sign-out {\n  font-size: 16px;\n  background-color: transparent;\n  padding: 10px 0 10px 12px;\n  width: 100%;\n  border: none;\n  cursor: pointer;\n  text-align: left;\n}\n\n.sign-out:hover {\n  background-color: #f5f5f5;\n}\n\n/* Media queries */\n@media only screen and (min-width: 1100px) {\n  .header-button .header-icon {\n    display: block;\n  }\n\n  .auto-run-wrapper {\n    width: 90px;\n  }\n\n  .auto-run__menu {\n    right: 5px !important;\n    width: 111px !important;\n  }\n\n  .split-button {\n    width: 110px;\n  }\n}\n',""])},1924:function(e,t,n){var i=n(1925);"string"==typeof i&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1};n(41)(i,a);i.locals&&(e.exports=i.locals)},1925:function(e,t,n){(e.exports=n(40)(!1)).push([e.i,".sharing-buttons,\n.sharing-button {\n  display: flex;\n  align-items: center;\n}\n\n.sharing-button:hover {\n  border-color: #aaa;\n}\n\n.sharing-button:active {\n  background-color: #ddd;\n}\n\n.sharing-button {\n  font-size: 0.9em;\n  background: white;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  cursor: pointer;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  margin: 30px 10px 30px 0;\n  padding: 5px;\n}\n\n.sharing-button svg {\n  width: 22px;\n  height: 22px;\n  stroke: #000;\n  padding-right: 5px;\n}\n\n.user-pref {\n  display: flex;\n  align-items: center;\n}\n\n.copy-icon span {\n  display: flex;\n  align-items: center;\n}\n\n.copied {\n  padding: 0 20px;\n  visibility: hidden;\n}\n\n.visible {\n  visibility: visible;\n}\n\n.url-warning {\n  padding-left: 10px;\n}\n\n.url-warning,\n.url-warning a {\n  color: #f0ad4e;\n}\n",""])},1928:function(e,t,n){(e.exports=n(40)(!1)).push([e.i,".config-header {\n  text-transform: none;\n}\n\n.config-header > select {\n  margin-left: 6px;\n}\n",""])},1931:function(e,t,n){var i=n(1932);"string"==typeof i&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1};n(41)(i,a);i.locals&&(e.exports=i.locals)},1932:function(e,t,n){(e.exports=n(40)(!1)).push([e.i,".full-height-wrapper {\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  width: 100%;\n}\n\n.full-height-wrapper > .full-height-wrapper {\n  flex: 1;\n}\n\n.full-height-wrapper .react-monaco-editor-container {\n  flex: 1;\n}\n",""])},1933:function(e,t,n){var i=n(1934);"string"==typeof i&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1};n(41)(i,a);i.locals&&(e.exports=i.locals)},1934:function(e,t,n){(e.exports=n(40)(!1)).push([e.i,".sizeFixEditorParent .react-monaco-editor-container {\n  overflow: hidden;\n}\n\n.editor-header {\n  font-size: 12px;\n  width: 100%;\n  height: 30px;\n  flex-shrink: 0;\n  flex-wrap: wrap;\n  background-color: #e6e6e6;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 10px;\n}\n\n.editor-header.right-align {\n  justify-content: flex-end;\n}\n\n.button {\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  margin-right: 8px;\n}\n\n.button:focus {\n  outline: 0;\n}\n",""])},1935:function(e,t,n){var i=n(1936);"string"==typeof i&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1};n(41)(i,a);i.locals&&(e.exports=i.locals)},1936:function(e,t,n){(e.exports=n(40)(!1)).push([e.i,".spec-editor-header {\n  text-transform: uppercase;\n}\n",""])},1937:function(e,t,n){var i=n(1938);"string"==typeof i&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1};n(41)(i,a);i.locals&&(e.exports=i.locals)},1938:function(e,t,n){(e.exports=n(40)(!1)).push([e.i,".settings {\n  border-left: solid 1px rgba(0, 0, 0, 0.2);\n  width: 290px;\n  font-size: 14px;\n  padding: 25px;\n}\n\n@media only screen and (max-width: 1000px) {\n  .settings {\n    position: absolute;\n    height: 100%;\n    right: 0px;\n    top: -2px;\n    background: white;\n    box-shadow: -2px 4px 10px 3px rgba(0, 0, 0, 0.2);\n    border-radius: 4px 0 0 4px;\n  }\n}\n\n.select-container {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 2px;\n}\n\n.log-level-dropdown-wrapper,\n.hover-enable-dropdown-wrapper {\n  width: 150px;\n  margin-left: 10px;\n}\n\n.renderer-dropdown__option,\n.log-level-dropdown__option,\n.hover-enable-dropdown__option {\n  background-color: white !important;\n  color: black !important;\n}\n.renderer-dropdown__option:hover,\n.log-level-dropdown__option:hover,\n.hover-enable-dropdown__option:hover {\n  background-color: rgba(0, 0, 0, 0.08) !important;\n}\n\n.renderer-dropdown__single-value,\n.log-level-dropdown__single-value,\n.hover-enable-dropdown_-single-value {\n  line-height: normal !important;\n}\n\n.tooltips,\n.hover-enable {\n  width: 150px;\n  display: flex;\n  align-items: center;\n  margin-bottom: 13px;\n}\n.tooltips > label,\n.hover-enable > label {\n  margin-left: 2px;\n  white-space: nowrap;\n}\n\n.settings-description {\n  font-size: small;\n  color: #666;\n  margin: 12px 0 30px 0;\n}\n\n.settings-description a {\n  color: #333;\n}\n",""])},1942:function(e,t,n){var i=n(1943);"string"==typeof i&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1};n(41)(i,a);i.locals&&(e.exports=i.locals)},1943:function(e,t,n){(e.exports=n(40)(!1)).push([e.i,"#error-indicator {\n  color: var(--error-color);\n  cursor: pointer;\n  margin: 1em;\n}\n",""])},1944:function(e,t,n){var i=n(1945);"string"==typeof i&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1};n(41)(i,a);i.locals&&(e.exports=i.locals)},1945:function(e,t,n){(e.exports=n(40)(!1)).push([e.i,"table.editor-table {\n  font-size: 0.9em;\n  table-layout: fixed;\n  border-collapse: collapse;\n}\n\ntable.editor-table thead tr:first-child > * {\n  border-bottom: 2px solid var(--light-color);\n}\n\ntable.editor-table th {\n  white-space: nowrap;\n  cursor: pointer;\n  text-align: center;\n  background: #f6f8fa;\n  min-width: 50px;\n}\n\ntable.editor-table svg {\n  height: 10px;\n  width: 10px;\n  margin-left: 3px;\n  vertical-align: middle;\n  color: grey;\n}\n\ntable.editor-table td {\n  word-break: break-all;\n}\n\ntable.editor-table td,\ntable.editor-table th {\n  color: #333;\n  padding: 8px;\n  border: 1px solid var(--light-color);\n}\n\ntable.editor-table tr:nth-child(even) {\n  background-color: #f6f8fa;\n}\n",""])},1946:function(e,t,n){var i=n(1947);"string"==typeof i&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1};n(41)(i,a);i.locals&&(e.exports=i.locals)},1947:function(e,t,n){(e.exports=n(40)(!1)).push([e.i,".data-dropdown {\n  display: inline-block;\n  position: relative;\n  margin: 10px 0;\n  z-index: 5;\n  width: 200px;\n  vertical-align: middle;\n}\n\n.data-dropdown:focus {\n  outline: 0;\n}\n\n.data-viewer {\n  display: flex;\n  flex-direction: column;\n  padding: 0 20px 15px 20px;\n  flex: 1;\n  height: 100%;\n}\n\n.data-viewer-header {\n  width: 100%;\n  align-items: center;\n}\n\n.data-viewer-header button {\n  font-size: 1em;\n  background: white;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  line-height: 33px;\n  cursor: pointer;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  margin: -2px 20px 0 20px;\n}\n\n.data-viewer-header button:focus {\n  outline: none;\n}\n\n.data-viewer-header button:hover {\n  border-color: #aaa;\n}\n\n.data-viewer-header button:active {\n  background-color: #ddd;\n}\n\n.pagination-wrapper {\n  display: inline-flex;\n  vertical-align: middle;\n  margin-left: 5px;\n}\n\n.pagination {\n  padding: 0;\n}\n\n.pagination li:first-child {\n  border-bottom-left-radius: 4px;\n  border-top-left-radius: 4px;\n}\n\n.pagination li:last-child {\n  border-top-right-radius: 4px;\n  border-bottom-right-radius: 4px;\n}\n\n.pagination li {\n  display: inline-block;\n  border: 1px solid #ddd;\n  border-right: 0;\n  padding: 10px 0;\n  cursor: pointer;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n\n.pagination li:last-child {\n  border-right: 1px solid #ddd;\n}\n\n.pagination a,\n.pagination .break {\n  padding: 10px 10px;\n}\n\n.pagination a:focus {\n  outline: 0;\n}\n\n.pagination .active {\n  background: #ddd;\n}\n\n.pagination .disabled {\n  color: #ddd;\n}\n\n.error {\n  color: var(--error-color);\n}\n\n.data-table {\n  width: -webkit-fit-content;\n  width: -moz-fit-content;\n  width: fit-content;\n  max-width: 100%;\n  overflow: auto;\n  flex: 1;\n}\n",""])},1948:function(e,t,n){var i=n(1949);"string"==typeof i&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1};n(41)(i,a);i.locals&&(e.exports=i.locals)},1949:function(e,t,n){(e.exports=n(40)(!1)).push([e.i,".error-pane .error {\n  color: var(--error-color);\n  line-height: 25px;\n}\n\n.error-pane .warning {\n  color: var(--warning-color);\n  line-height: 25px;\n}\n\n.error-pane .info {\n  color: #399e39;\n  line-height: 25px;\n}\n\n.error-pane {\n  overflow: auto;\n  width: 100%;\n  flex: 1;\n}\n\n.error-pane ul {\n  list-style-type: none;\n  padding-left: 1em;\n  padding-right: 2em;\n}\n",""])},1962:function(e,t,n){var i=n(1963);"string"==typeof i&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1};n(41)(i,a);i.locals&&(e.exports=i.locals)},1963:function(e,t,n){(e.exports=n(40)(!1)).push([e.i,'.chart {\n  background: white;\n  padding: 10px;\n  display: inline-block;\n  margin-right: 10px;\n}\n\n.chart .vega-bindings {\n  line-height: 20px;\n}\n\n.chart .vega-bind-name {\n  display: inline-block;\n  width: 105px;\n}\n\n.chart .vega-bind input[type="range"] {\n  padding: 0;\n  width: 100px;\n}\n\n.chart .vega-bind select {\n  max-width: 200px;\n}\n\n.chart .vega-bind label {\n  margin-left: 4px;\n}\n\n.chart .vega-bind-radio label {\n  margin-left: 0;\n  margin-right: 4px;\n}\n\n.fullscreen-chart {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  overflow: auto;\n  display: flex;\n  align-items: center;\n  z-index: 15;\n}\n\n.fullscreen-chart > div {\n  margin: auto;\n}\n\n.fullscreen-open {\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  cursor: pointer;\n}\n\n.fullscreen-close {\n  display: flex;\n  align-items: center;\n  position: absolute;\n  background: white;\n  border: 1px solid #666;\n  padding: 5px 15px;\n  top: 20px;\n  right: 20px;\n  cursor: pointer;\n  font-size: 1.1em;\n  border-radius: 2px;\n  z-index: 1000;\n}\n\n.fullscreen-close span {\n  padding-left: 5px;\n}\n\n.fullscreen-close:hover {\n  background: rgba(0, 0, 0, 0.08);\n}\n',""])},1964:function(e,t,n){var i=n(1965);"string"==typeof i&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1};n(41)(i,a);i.locals&&(e.exports=i.locals)},1965:function(e,t,n){(e.exports=n(40)(!1)).push([e.i,".signal-viewer {\n  margin: 10px;\n  width: -webkit-fit-content;\n  width: -moz-fit-content;\n  width: fit-content;\n  max-width: 100%;\n  overflow: auto;\n  flex: 1;\n}\n\n.editor-table tbody tr td {\n  cursor: pointer;\n}\n.editor-table tbody tr td svg {\n  height: 10px;\n  width: 10px;\n  margin-left: 3px;\n  vertical-align: middle;\n  color: grey;\n}\n",""])},1966:function(e,t,n){var i=n(1967);"string"==typeof i&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1};n(41)(i,a);i.locals&&(e.exports=i.locals)},1967:function(e,t,n){(e.exports=n(40)(!1)).push([e.i,".chart-container {\n  width: 100%;\n  height: 100%;\n  background: rgba(243, 240, 240, 0.63);\n  padding: 10px;\n  overflow: auto;\n}\n\n.Pane::-webkit-scrollbar {\n  display: none;\n}\n\n.debug-pane {\n  width: 100%;\n  background: white;\n  display: flex;\n  flex-direction: column;\n}\n\n.pane-header {\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  background: #ebebeb;\n  text-transform: uppercase;\n  font-size: 12px;\n  color: #666;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  cursor: pointer;\n}\n\n.pane-header .logs-text {\n  margin-right: 4px;\n}\n\n.pane-header svg {\n  margin-right: 4px;\n}\n\n.pane-header .error {\n  font-weight: bold;\n}\n\n.pane-header .warnings-count {\n  color: var(--warning-color);\n}\n\n.tabs-nav {\n  height: 100%;\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n\n.tabs-nav li {\n  display: flex;\n  align-items: center;\n  height: 100%;\n  float: left;\n  padding: 0 10px;\n  cursor: pointer;\n}\n\n.icon {\n  margin: auto;\n}\n\n.active-tab {\n  background: white;\n  color: black;\n}\n\n.myInlineDecoration {\n  background-color: #f8c9aa !important;\n}\n",""])},2038:function(e,t,n){"use strict";n.r(t);var i=n(4),a=n(158),r=n.n(a),o=n(861),s=n(83),l=n(236),c=n(123),p=n(454),d=n(1513),u=n(1644),g=n(1711);window.VEGA_DEBUG=window.VEGA_DEBUG||{},window.VEGA_DEBUG={},window.VEGA_DEBUG.vega=c,window.VEGA_DEBUG.vl=p,window.VEGA_DEBUG.VEGA_VERSION=c.version,window.VEGA_DEBUG.VEGA_LITE_VERSION=p.version,o.a("UA-44428446-7"),Object(d.a)();const h=Object(g.a)();r.a.render(i.createElement(s.a,{store:h},i.createElement(l.a,null,i.createElement(u.a,{logPageView:function(){o.c({page:window.location.pathname+window.location.search}),o.b(window.location.pathname+window.location.search)}}))),document.getElementById("root")),console.log("%cWelcome to the Vega-Editor!","font-size: 16px; font-weight: bold;"),console.log("You can access the Vega view with VEGA_DEBUG. Learn more at https://vega.github.io/vega/docs/api/debugging/.")},28:function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"h",(function(){return s})),n.d(t,"j",(function(){return l})),n.d(t,"m",(function(){return c})),n.d(t,"p",(function(){return p})),n.d(t,"q",(function(){return d})),n.d(t,"r",(function(){return u})),n.d(t,"u",(function(){return g})),n.d(t,"v",(function(){return h})),n.d(t,"x",(function(){return m})),n.d(t,"w",(function(){return b})),n.d(t,"C",(function(){return f})),n.d(t,"D",(function(){return v})),n.d(t,"E",(function(){return E})),n.d(t,"F",(function(){return w})),n.d(t,"G",(function(){return x})),n.d(t,"H",(function(){return S})),n.d(t,"I",(function(){return y})),n.d(t,"J",(function(){return C})),n.d(t,"K",(function(){return k})),n.d(t,"L",(function(){return O})),n.d(t,"M",(function(){return P})),n.d(t,"y",(function(){return N})),n.d(t,"k",(function(){return j})),n.d(t,"A",(function(){return V})),n.d(t,"z",(function(){return L})),n.d(t,"l",(function(){return R})),n.d(t,"t",(function(){return _})),n.d(t,"s",(function(){return D})),n.d(t,"B",(function(){return z})),n.d(t,"a",(function(){return U})),n.d(t,"e",(function(){return I})),n.d(t,"c",(function(){return T})),n.d(t,"n",(function(){return G})),n.d(t,"i",(function(){return A})),n.d(t,"o",(function(){return M})),n.d(t,"hb",(function(){return F})),n.d(t,"jb",(function(){return $})),n.d(t,"S",(function(){return H})),n.d(t,"ob",(function(){return J})),n.d(t,"pb",(function(){return B})),n.d(t,"yb",(function(){return W})),n.d(t,"xb",(function(){return K})),n.d(t,"eb",(function(){return q})),n.d(t,"db",(function(){return X})),n.d(t,"sb",(function(){return Y})),n.d(t,"tb",(function(){return Q})),n.d(t,"ub",(function(){return Z})),n.d(t,"Q",(function(){return ee})),n.d(t,"wb",(function(){return te})),n.d(t,"O",(function(){return ne})),n.d(t,"ib",(function(){return ie})),n.d(t,"U",(function(){return ae})),n.d(t,"qb",(function(){return re})),n.d(t,"Z",(function(){return oe})),n.d(t,"rb",(function(){return se})),n.d(t,"W",(function(){return le})),n.d(t,"vb",(function(){return ce})),n.d(t,"kb",(function(){return pe})),n.d(t,"X",(function(){return de})),n.d(t,"Y",(function(){return ue})),n.d(t,"mb",(function(){return ge})),n.d(t,"lb",(function(){return he})),n.d(t,"cb",(function(){return me})),n.d(t,"V",(function(){return be})),n.d(t,"gb",(function(){return fe})),n.d(t,"fb",(function(){return ve})),n.d(t,"nb",(function(){return Ee})),n.d(t,"N",(function(){return we})),n.d(t,"R",(function(){return xe})),n.d(t,"P",(function(){return Se})),n.d(t,"ab",(function(){return ye})),n.d(t,"bb",(function(){return Ce})),n.d(t,"T",(function(){return ke}));const i="RECEIVE_CURRENT_USER",a="EXPORT_VEGA",r="LOG_ERROR",o="PARSE_SPEC",s="SET_BASEURL",l="SET_COMPILED_VEGA_PANE_SIZE",c="SET_DEBUG_PANE_SIZE",p="SET_EDITOR_REFERENCE",d="SET_GIST_VEGA_LITE_SPEC",u="SET_GIST_VEGA_SPEC",g="SET_MODE",h="SET_MODE_ONLY",m="SET_SCROLL_POSITION",b="SET_RENDERER",f="SET_VEGA_EXAMPLE",v="SET_VEGA_LITE_EXAMPLE",E="SET_VIEW",w="SHOW_LOGS",x="TOGGLE_AUTO_PARSE",S="TOGGLE_COMPILED_VEGA_SPEC",y="TOGGLE_DEBUG_PANE",C="TOGGLE_NAV_BAR",k="UPDATE_EDITOR_STRING",O="UPDATE_VEGA_LITE_SPEC",P="UPDATE_VEGA_SPEC",N="SET_SETTINGS",j="SET_CONFIG",V="SET_THEME_NAME",L="SET_SIDEPANE_ITEM",R="SET_CONFIG_EDITOR_STRING",_="SET_LOG_LEVEL",D="SET_HOVER",z="SET_TOOLTIP",U="CLEAR_CONFIG",I="MERGE_CONFIG_SPEC",T="EXTRACT_CONFIG_SPEC",G="SET_DECORATION",A="SET_COMPILED_EDITOR_REFERENCE",M="SET_EDITOR_FOCUS";function F(e){return{mode:e,type:h}}function $(e){return{position:e,type:m}}function H(e){return{parse:e,type:o}}function J(e,t){return{example:e,spec:t,type:f}}function B(e,t){return{example:e,spec:t,type:v}}function W(e){return{spec:e,type:P}}function K(e){return{spec:e,type:O}}function q(e,t){return{gist:e,spec:t,type:u}}function X(e,t){return{gist:e,spec:t,type:d}}function Y(){return{type:x}}function Q(){return{type:S}}function Z(){return{type:y}}function ee(e){return{error:{message:e.message},type:r}}function te(e){return{editorString:e,type:k}}function ne(e){return{export:e,type:a}}function ie(e){return{renderer:e,type:b}}function ae(e){return{baseURL:e,type:s}}function re(e){return{type:E,view:e}}function oe(e){return{debugPaneSize:e,type:c}}function se(e){return{logs:e,type:w}}function le(e){return{compiledVegaPaneSize:e,type:l}}function ce(e){return{navItem:e,type:C}}function pe(e){return{settings:e,type:N}}function de(e){return{configEditorString:e,type:j}}function ue(e){return{configEditorString:e,type:R}}function ge(e){return{themeName:e,type:V}}function he(e){return{sidePaneItem:e,type:L}}function me(e){return{editorRef:e,type:p}}function be(e){return{editorRef:e,type:A}}function fe(e){return{logLevel:e,type:_}}function ve(e){return{hoverEnable:e,type:D}}function Ee(e){return{tooltipEnable:e,type:z}}function we(){return{type:U}}function xe(){return{type:I}}function Se(){return{type:T}}function ye(e){return{decoration:e,type:G}}function Ce(e){return{editorFocus:e,type:M}}function ke(e,t,n,a){return{handle:t,isAuthenticated:e,name:n,profilePicUrl:a,type:i}}},344:function(e,t,n){"use strict";var i=n(45),a=n(164),r=n.n(a),o=n(4),s=n(83),l=n(121),c=n(547),p=n(95),d=n(5),u=n(28),g=n(37),h=n(119),m=(n(1293),n(1646)),b=n(1676),f=n(1686),v=n(1688);t.a=Object(l.f)(Object(s.b)((function(e){return{configEditorString:e.configEditorString,editorRef:e.editorRef,settings:e.settings,view:e.view}}),(function(e){return Object(p.b)({setBaseUrl:u.U,setConfig:u.X,setGistVegaLiteSpec:u.db,setGistVegaSpec:u.eb,setModeOnly:u.hb,setRenderer:u.ib,setSettingsState:u.kb,setSidePaneItem:u.lb,setVegaExample:u.ob,setVegaLiteExample:u.pb,updateVegaLiteSpec:u.xb,updateVegaSpec:u.yb},e)}))(class extends o.PureComponent{constructor(){super(...arguments),this.w=window.innerWidth}componentDidMount(){window.addEventListener("message",e=>{const t=e.data;if(!t.spec)return;this.props.setBaseUrl(e.origin),console.info("[Vega-Editor] Received Message",e.origin,t);const n=JSON.parse(t.spec);t.config&&Object(d.s)(n,{config:t.config}),t.spec=r()(n),(t.spec||t.file)&&e.source.postMessage(!0,"*"),t.spec&&("VEGA"===t.mode.toUpperCase()?this.props.updateVegaSpec(t.spec):"VEGA-LITE"===t.mode.toUpperCase()&&this.props.updateVegaLiteSpec(t.spec)),t.renderer&&this.props.setRenderer(t.renderer)},!1);const e=this.props.match.params;e.mode&&("vega"!==e.mode&&"vega-lite"!==e.mode||this.props.setModeOnly(e.mode)),this.setSpecInUrl(e)}componentDidUpdate(e){Object(d.m)(this.props.match.params)!==Object(d.m)(e.match.params)&&this.setSpecInUrl(this.props.match.params)}setSpecInUrl(e){e&&(e.example_name?this.setExample(e):e.mode&&!e.compressed?this.setEmptySpec(h.h[e.mode]):e.id&&this.setGist(e))}setExample(e){return Object(i.a)(this,void 0,void 0,(function*(){const t=e.example_name;switch(this.props.setConfig(this.props.configEditorString),this.props.setSidePaneItem(h.k.Editor),this.props.editorRef&&this.props.editorRef.focus(),e.mode){case"vega":{const e=yield fetch(`./spec/vega/${t}.vg.json`);this.props.setVegaExample(t,yield e.text());break}case"vega-lite":{const e=yield fetch(`./spec/vega-lite/${t}.vl.json`);this.props.setVegaLiteExample(t,yield e.text());break}default:console.warn(`Unknown mode ${e.mode}`)}}))}setEmptySpec(e){e===g.g.Vega?this.props.updateVegaSpec(h.m):e===g.g.VegaLite&&this.props.updateVegaLiteSpec(h.l)}setGist(e){return Object(i.a)(this,void 0,void 0,(function*(){yield fetch(`https://api.github.com/gists/${e.id}${void 0!==e.revision?`/${e.revision}`:""}`).then(e=>e.json()).then(t=>{const n=JSON.parse(t.files[e.filename].content);if(n.hasOwnProperty("$schema")){const i=n.$schema.split("/").slice(-2)[0];i===g.g.Vega?this.props.setGistVegaSpec("",t.files[e.filename].content):i===g.g.VegaLite&&this.props.setGistVegaLiteSpec("",t.files[e.filename].content)}else this.props.setGistVegaLiteSpec("",t.files[e.filename].content)})}))}render(){return o.createElement("div",{className:"app-container"},o.createElement(m.a,{showExample:this.props.showExample}),o.createElement("div",{style:{height:`calc(100vh - ${g.f.HeaderHeight}px)`},className:"main-panel"},o.createElement(c.a,{split:"vertical",minSize:300,defaultSize:.4*this.w,pane1Style:{display:"flex"},className:"main-pane",pane2Style:{overflow:"scroll"},style:{position:"relative"}},o.createElement(b.a,null),o.createElement(v.a,null)),this.props.settings&&o.createElement(f.a,null)))}}))},357:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));const i=n(1910),a=n(1911)},37:function(e,t,n){"use strict";n(357);var i=n(119);n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return i.b})),n.d(t,"d",(function(){return i.c})),n.d(t,"e",(function(){return i.d})),n.d(t,"f",(function(){return i.e})),n.d(t,"g",(function(){return i.f})),n.d(t,"h",(function(){return i.i})),n.d(t,"i",(function(){return i.j})),n.d(t,"j",(function(){return i.k})),n.d(t,"k",(function(){return i.n}));var a=n(596);n.d(t,"c",(function(){return a.a}))},564:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{constructor(){this.warns=[],this.infos=[],this.debugs=[]}level(){return this}warn(...e){return this.warns.push(...e),this}info(...e){return this.infos.push(...e),this}debug(...e){return this.debugs.push(...e),this}error(...e){throw new Error(...e)}}},596:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(564),a=n(119);const r={baseURL:null,compiledEditorRef:null,compiledVegaPaneSize:a.e.MinPaneSize,compiledVegaSpec:!1,config:{},configEditorString:"{}",debugPane:!1,debugPaneSize:a.e.MinPaneSize,decorations:[],editorFocus:a.c.SpecEditor,editorRef:null,editorString:a.l,error:null,export:!1,gist:null,handle:"",hoverEnable:"auto",isAuthenticated:!1,lastPosition:0,logLevel:"Warn",logs:!1,manualParse:!1,mode:a.f.VegaLite,name:"",navItem:a.i.Logs,parse:!1,profilePicUrl:"",renderer:"canvas",selectedExample:null,settings:!1,sidePaneItem:a.k.Editor,themeName:"custom",tooltipEnable:!0,vegaLiteSpec:null,vegaSpec:{},view:null,warningsCount:0,warningsLogger:new i.a}},629:function(e,t,n){"use strict";t.a=function(e){const t=e+"=",n=decodeURIComponent(document.cookie).split(";");for(const e of n){let n=e;for(;" "===n.charAt(0);)n=n.substring(1);if(0===n.indexOf(t))return n.substring(t.length,n.length)}return""}},855:function(e,t,n){"use strict";var i=n(164),a=n.n(i),r=n(4),o=n(1722),s=n(1723),l=n(83),c=n(121),p=n(95),d=n(28);const u={cursor:"pointer"};t.a=Object(c.f)(Object(l.b)((function(e,t){return{compiledVegaSpec:e.compiledVegaSpec,value:e.vegaSpec}}),(function(e){return Object(p.b)({clearConfig:d.N,toggleCompiledVegaSpec:d.tb,updateVegaSpec:d.yb},e)}))(class extends r.PureComponent{constructor(e){super(e),this.editVegaSpec=this.editVegaSpec.bind(this)}editVegaSpec(){-1===this.props.history.location.pathname.indexOf("/edited")&&this.props.history.push("/edited"),this.props.clearConfig(),this.props.updateVegaSpec(a()(this.props.value))}render(){if(this.props.compiledVegaSpec){const e=Object.assign({},u,{position:"static"});return r.createElement("div",{className:"editor-header",style:e,onClick:this.props.toggleCompiledVegaSpec},r.createElement("span",null,"Compiled Vega"),r.createElement("button",{onClick:this.editVegaSpec,style:{cursor:"pointer"}},"Edit Vega Spec"),r.createElement(o.a,null))}return r.createElement("div",{onClick:this.props.toggleCompiledVegaSpec,className:"editor-header",style:u},r.createElement("span",null,"Compiled Vega"),r.createElement("button",{onClick:this.editVegaSpec,style:{zIndex:-1,opacity:0,cursor:"pointer"}},"Edit Vega Spec"),r.createElement(s.a,null))}}))},856:function(e,t,n){"use strict";var i=n(83),a=n(95),r=n(28),o=n(1693);t.a=Object(i.b)((function(e){return{error:e.error}}),(function(e){return Object(a.b)({logError:r.Q,toggleDebugPane:r.ub},e)}))(o.a)},857:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return p}));var i=n(4),a=n(1063),r=n(123),o=n(548);n(1944);const s=3,l=150;class c extends i.PureComponent{render(){const e=this.props.header.map(e=>i.createElement("th",{onClick:()=>this.props.onClickHandler&&this.props.onClickHandler(e),title:e,key:e},e,i.createElement(a.a,null))),t=this.props.data.map((e,t)=>{const n=this.props.header.map((t,n)=>{let a=!1,o="";Object(r.isDate)(e[t])?(a=!1,o=new Date(e[t]).toUTCString()):(a=p(e[t]).tooLong,o=p(e[t]).formatted);const s=`${t} ${n}`;return a?i.createElement("td",{key:s,title:"The field is too large to be displayed. Please use the view API (see JS console)."},i.createElement("span",null,"(...)")):i.createElement("td",{key:s},o)});return i.createElement("tr",{key:t},n)});return i.createElement("table",{className:"editor-table"},i.createElement("thead",null,i.createElement("tr",null,e)),i.createElement("tbody",null,t))}}function p(e){const t=void 0===e?"undefined":Object(r.isFunction)(e)?e.toString():Object(o.b)(e,s);return t.length>l?{formatted:null,tooLong:!0}:{formatted:t,tooLong:!1}}},923:function(e,t,n){var i=n(1928);"string"==typeof i&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1};n(41)(i,a);i.locals&&(e.exports=i.locals)}}]);
//# sourceMappingURL=default.js.map